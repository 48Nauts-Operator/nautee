<!--
This documentation was auto-generated by Claude on 2025-05-31T15-40-00.
Source file: ./tools/claude_folder_review.py
-->

# Code Review Tool Documentation

## Overview

A Python-based code review tool that analyzes entire codebases using Anthropic's Claude AI model. The tool scans a specified directory for source code files, aggregates them, and generates comprehensive review insights focusing on code organization, bug patterns, architecture, and improvement suggestions.

## Features

- **Multi-language Support**: Reviews Python, JavaScript, TypeScript, React (JSX/TSX) files
- **Progress Tracking**: Real-time progress bar with ETA calculations
- **Automated Output**: Generates timestamped Markdown reports
- **Error Handling**: Graceful handling of file access errors and API failures
- **Configurable**: Environment-based API key and model configuration

## Prerequisites

### Dependencies

```bash
pip install anthropic python-dotenv
```

### Environment Variables

Create a `.env` file in the project root:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

## Usage

### Basic Usage

```bash
python code_review.py [target_folder]
```

### Examples

```bash
# Review default folder (../137docs)
python code_review.py

# Review specific folder
python code_review.py ./my-project

# Review current directory
python code_review.py .
```

## Configuration

### Supported File Extensions

Currently supports:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

### Extended File Types (Commented)

Additional file types can be enabled by modifying the `valid_exts` variable:

```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx", ".html", ".css", ".json", ".go", ".java", ".yaml", ".yml")
```

## Output

### File Structure

```
project/
├── output/
│   └── folder_review_YYYY-MM-DDTHH-MM-SS.md
├── .env
└── code_review.py
```

### Report Contents

Generated reports include:
- **Code Organization**: Structure and modularity analysis
- **Bug Patterns**: Potential issues and vulnerabilities
- **Architecture Weaknesses**: Design flaws and anti-patterns
- **Improvement Suggestions**: Refactoring and optimization recommendations

## API Reference

### Environment Variables

| Variable | Description | Default | Required |
|----------|-------------|---------|----------|
| `ANTHROPIC_API_KEY` | Claude API authentication key | None | Yes |
| `ANTHROPIC_MODEL` | Claude model version | `claude-sonnet-4-20250514` | No |

### Command Line Arguments

| Position | Description | Default | Required |
|----------|-------------|---------|----------|
| 1 | Target folder path | `../137docs` | No |

## Error Handling

### Common Issues

1. **No API Key**: Ensure `ANTHROPIC_API_KEY` is set in `.env`
2. **No Valid Files**: Check folder path and file extensions
3. **File Access Errors**: Verify read permissions on target files
4. **API Limits**: Monitor Claude API usage and rate limits

### Error Messages

- `❌ No valid files found in {folder}` - No supported files in target directory
- `[ERR] ❌ Error reading {file_path}: {error}` - File access issue
- `❌ Claude API error: {error}` - API communication failure

## Performance Considerations

- **File Size**: Large codebases may exceed Claude's token limits
- **API Costs**: Each review consumes Claude API tokens
- **Processing Time**: Review duration scales with codebase size

## Limitations

1. **Token Limits**: Combined file content must fit within Claude's context window
2. **Binary Files**: Only text-based source files are supported
3. **Network Dependency**: Requires internet connection for Claude API

## Version History

- **v1.0.0** (2025-05-31): Initial release with folder-based code review functionality

## Author

**André Wolke**  
Date: 2025-05-31

## License

Please refer to your project's license file for usage terms and conditions.