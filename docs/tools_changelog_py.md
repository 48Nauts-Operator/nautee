<!-- Auto-generated by Claude on 2025-06-01 20:21 -->

# Changelog Generator Documentation

## Overview

The Changelog Generator is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI model to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the changelog generation process by:
- Extracting recent Git commit messages from the repository
- Using Claude AI to summarize and organize commits into categories
- Generating a well-formatted Markdown changelog file
- Saving the output to `docs/changelog.md`

## Dependencies

- `anthropic` - For Claude AI API integration
- `python-dotenv` - For environment variable management
- `subprocess` - For Git command execution
- `datetime` - For timestamp generation
- `os` - For environment variable access

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages or error message if Git command fails

**Example:**
```python
commits = get_git_log(10)  # Get last 10 commits
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commits
4. Generates AI summary
5. Writes formatted changelog to file

## Configuration

### Required Environment Variables

Create a `.env` file in your project root with:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Output Structure

The generated changelog includes:
- Header with changelog title
- Timestamp of generation
- AI-generated summary organized into sections (Features, Fixes, Improvements, etc.)

## Usage

### Command Line Execution

```bash
python changelog_generator.py
```

### Integration Example

```python
from changelog_generator import get_git_log, format_prompt

# Get commits and generate custom summary
commits = get_git_log(15)
prompt = format_prompt(commits)
# Process with your own AI service...
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Ensure your Anthropic API key is kept secure and not committed to version control
- **Git Repository**: This script must be run from within a Git repository
- **Directory Structure**: The script assumes a `docs/` directory exists for output

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures and network issues
2. **Customization**: Allow configuration of output format and sections
3. **Filtering**: Add options to filter commits by author, date range, or keywords
4. **Append Mode**: Consider appending to existing changelog instead of overwriting

### üí° Usage Tips

- Run this script as part of your CI/CD pipeline before releases
- Customize the prompt in `format_prompt()` to match your project's changelog style
- Consider increasing the token limit for larger commit histories
- Use meaningful commit messages for better AI summarization results

### üìÅ File Structure

```
project/
‚îú‚îÄ‚îÄ .env                    # Environment variables
‚îú‚îÄ‚îÄ changelog_generator.py  # This script
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md        # Generated output
```