<!-- Auto-generated by Claude on 2025-06-22 22:18 -->

# Changelog Generator Documentation

## Overview

The Changelog Generator is a Python utility that automatically creates formatted changelogs from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize recent commit messages into organized, human-readable release notes.

## Purpose

- **Automate documentation**: Eliminates manual changelog creation
- **Improve readability**: Transforms raw commit messages into structured release notes
- **Maintain consistency**: Provides standardized changelog formatting across releases
- **Save time**: Reduces developer overhead for documentation tasks

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

### Environment Variables
- `ANTHROPIC_API_KEY` (required) - Your Anthropic API key
- `ANTHROPIC_MODEL` (optional) - Claude model to use (defaults to `claude-sonnet-4-20250514`)

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using subprocess.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git operation fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation for API endpoints
```

### `format_prompt(git_log: str)`

Creates an AI prompt for Claude to summarize commit messages into structured changelog format.

**Parameters:**
- `git_log` (str): Raw commit messages from Git

**Returns:**
- `str`: Formatted prompt instructing Claude to create organized release notes

### `main()`

Main execution function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends prompt to Claude AI
5. Writes formatted changelog to file

## Output

The script generates a changelog file at `docs/changelog.md` with:

- **Header**: "üìù Changelog" 
- **Timestamp**: Last updated date and time
- **Organized sections**: Features, Fixes, Improvements (as determined by Claude)
- **Markdown formatting**: Proper headings, bullet points, and structure

## Usage

### Basic Execution
```bash
python changelog_generator.py
```

### Prerequisites
1. Create a `.env` file with your Anthropic API key:
   ```
   ANTHROPIC_API_KEY=your_api_key_here
   ANTHROPIC_MODEL=claude-sonnet-4-20250514  # optional
   ```

2. Ensure you're in a Git repository with commit history

3. Create the `docs/` directory if it doesn't exist

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Claude API tokens - monitor usage for large repositories
- **Git Dependency**: Requires Git to be installed and accessible via command line
- **File Overwrite**: The script overwrites `docs/changelog.md` completely on each run

### üîß Potential Improvements

1. **Incremental Updates**: Modify to append new entries rather than overwriting
2. **Error Handling**: Add more robust error handling for API failures
3. **Configuration**: Allow customization of output path and commit count via CLI arguments
4. **Validation**: Check for required directories and Git repository before execution
5. **Backup**: Create backup of existing changelog before overwriting

### üí° Usage Tips

- Run after significant development milestones
- Consider integrating into CI/CD pipeline for automated releases
- Review and edit generated changelog before publishing
- Use meaningful commit messages for better Claude summaries

### Example Integration

```bash
# Add to your release script
python changelog_generator.py
git add docs/changelog.md
git commit -m "Update changelog for release"
```