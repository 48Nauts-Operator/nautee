<!-- Auto-generated by Claude on 2025-06-22 12:38 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize commit messages into organized, human-readable release notes.

## Purpose

This tool addresses the common challenge of maintaining up-to-date project documentation by:
- Extracting recent Git commit messages
- Using AI to categorize and summarize changes
- Generating a professionally formatted changelog in Markdown
- Automatically updating project documentation

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

**Required packages:**
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Core Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git operation fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates an AI-optimized prompt for commit message summarization.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Structured prompt instructing Claude to categorize commits into sections like Features, Fixes, and Improvements

### `main()`

The primary execution function that orchestrates the entire changelog generation process:

1. **Environment Setup**: Loads API credentials from `.env` file
2. **Git Data Extraction**: Fetches recent commit messages
3. **AI Processing**: Sends commits to Claude for summarization
4. **File Generation**: Creates formatted changelog at `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file in your project root:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Output Format

The generated changelog includes:
- **Header**: "üìù Changelog"
- **Timestamp**: Last updated date and time
- **Organized Sections**: AI-categorized changes (Features, Fixes, Improvements, etc.)

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Integration Example
```python
from changelog_generator import main

# Generate changelog
main()
```

## Error Handling

The script includes robust error handling:
- **Git failures**: Returns fallback message if `git log` command fails
- **API errors**: Will raise exceptions for Anthropic API issues
- **File operations**: May fail if `docs/` directory doesn't exist

## Suggestions & Best Practices

### üîß Improvements
- **Add directory creation**: Ensure `docs/` folder exists before writing
- **Implement retry logic**: Handle API rate limits and temporary failures
- **Add commit filtering**: Skip merge commits or commits matching specific patterns
- **Support multiple output formats**: JSON, HTML, or plain text options

### üìã Usage Recommendations
- **Run regularly**: Integrate into CI/CD pipeline or pre-release workflows
- **Customize commit count**: Adjust `n` parameter based on release frequency
- **Review output**: AI summaries may need manual review for accuracy
- **Backup existing changelogs**: Consider appending rather than overwriting

### üöÄ Integration Ideas
```bash
# GitHub Actions workflow
- name: Generate Changelog
  run: python changelog_generator.py
  
# Pre-commit hook
#!/bin/sh
python changelog_generator.py
git add docs/changelog.md
```

### ‚ö†Ô∏è Important Notes
- Requires active internet connection for Anthropic API
- API usage incurs costs based on token consumption
- Generated content should be reviewed for accuracy and completeness
- Git repository must have commit history to function properly