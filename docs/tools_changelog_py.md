<!-- Auto-generated by Claude on 2025-05-31 21:12 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize and categorize recent commit messages into readable release notes.

## Purpose

This tool solves the common problem of maintaining up-to-date project changelogs by:
- Automatically fetching recent Git commit messages
- Using AI to summarize and organize commits into meaningful categories
- Generating a formatted Markdown changelog file
- Providing a consistent documentation workflow

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages with bullet points, or error message if Git command fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary execution function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends commits to Claude for summarization
5. Writes formatted changelog to `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Output

The generated changelog is saved to `docs/changelog.md` with the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added new user authentication system
- Implemented real-time notifications

## Fixes  
- Resolved database timeout issues
- Fixed responsive design on mobile devices

## Improvements
- Enhanced error handling
- Updated documentation
```

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Prerequisites

1. Ensure you're in a Git repository
2. Set up your `.env` file with API credentials
3. Create a `docs/` directory in your project root

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Claude API tokens. Monitor usage for large repositories
- **Git Dependency**: Requires Git to be installed and accessible via command line
- **File Overwrite**: The script overwrites `docs/changelog.md` on each run

### üîß Potential Improvements

1. **Incremental Updates**: Modify to append new changes rather than overwriting
2. **Date Filtering**: Add options to generate changelogs for specific date ranges
3. **Branch Selection**: Allow changelog generation from specific branches
4. **Error Handling**: Enhanced error handling for API failures and network issues
5. **Configuration File**: Support for configuration files beyond environment variables

### üí° Usage Tips

- Run before releases to generate fresh changelogs
- Integrate into CI/CD pipelines for automated documentation
- Review and edit generated changelogs for accuracy before publishing
- Use meaningful commit messages for better AI summarization

### üöÄ Integration Ideas

```bash
# Add to package.json scripts
"changelog": "python scripts/changelog_generator.py"

# Or create a Git hook
#!/bin/sh
python changelog_generator.py
git add docs/changelog.md
```