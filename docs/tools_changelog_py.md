<!-- Auto-generated by Claude on 2025-06-22 20:21 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python automation tool that creates formatted changelog documentation from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize recent commit messages into readable release notes and outputs them to a structured Markdown file.

## Purpose

This tool automates the tedious process of writing changelogs by:
- Extracting recent Git commit messages from the repository
- Using AI to categorize and summarize changes into readable format
- Generating a professionally formatted changelog file
- Maintaining consistent documentation standards

## Dependencies

The script requires the following Python packages:
- `anthropic` - For Claude AI integration
- `python-dotenv` - For environment variable management
- `subprocess` - For Git command execution (built-in)
- `datetime` - For timestamp generation (built-in)
- `os` - For environment access (built-in)

## Key Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using subprocess.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted Git log output with bullet points, or error message if Git command fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to generate organized changelog content.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt instructing Claude to categorize commits into sections like Features, Fixes, and Improvements.

### `main()`

Main execution function that orchestrates the changelog generation process:

1. Loads environment variables from `.env` file
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends formatted prompt to Claude AI
5. Writes the generated changelog to `docs/changelog.md`

## Configuration

### Required Environment Variables

Create a `.env` file in your project root with:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Output Location

The generated changelog is written to:
```
docs/changelog.md
```

## Usage

### Basic Execution

```bash
python changelog_generator.py
```

### Example Output File Structure

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented dark mode toggle

## Fixes  
- Resolved database connection timeout issues
- Fixed responsive layout on mobile devices

## Improvements
- Enhanced error handling throughout application
- Optimized database queries for better performance
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Anthropic API tokens. Monitor usage in production environments.
- **Git Dependency**: Requires Git to be installed and accessible via command line.
- **File Overwrite**: The script overwrites `docs/changelog.md` completely on each run.

### üîß Potential Improvements

1. **Incremental Updates**: Modify to append new changes rather than overwriting entire file
2. **Version Tagging**: Integrate with Git tags to create version-specific changelog sections  
3. **Commit Filtering**: Add options to exclude certain commit types (e.g., merge commits)
4. **Error Handling**: Enhance error handling for network failures and API rate limits
5. **Configuration File**: Replace hardcoded values with a configuration file
6. **Date Range**: Add options to generate changelogs for specific date ranges

### üìÅ Directory Structure

Ensure your project has the following structure:
```
project-root/
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ changelog.md  # Generated automatically
‚îî‚îÄ‚îÄ changelog_generator.py
```

### üöÄ Integration Ideas

- **CI/CD Integration**: Run automatically on releases or scheduled intervals
- **Pre-commit Hooks**: Generate changelog before major commits
- **GitHub Actions**: Automate changelog updates on pull request merges