<!-- Auto-generated by Claude on 2025-06-02 08:28 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit messages using Claude AI. It analyzes recent commit history and generates human-readable release notes organized into clear sections.

## Purpose

This tool helps development teams maintain up-to-date documentation by:
- Automatically extracting recent Git commit messages
- Using Claude AI to summarize and categorize changes
- Generating a formatted changelog in Markdown format
- Writing the output to a standardized location (`docs/changelog.md`)

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

**Required packages:**
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Functions

### `get_git_log(n=20)`

Fetches recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of commits to retrieve (default: 20)

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process commit messages.

**Parameters:**
- `git_log` (str): Raw commit messages from Git

**Returns:**
- `str`: Formatted prompt with instructions for Claude AI

**Features:**
- Provides clear instructions for categorization
- Requests markdown formatting
- Suggests standard sections (Features, Fixes, Improvements)

### `main()`

Main execution function that orchestrates the changelog generation process.

**Process flow:**
1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends formatted prompt to Claude AI
5. Processes AI response
6. Writes formatted changelog to file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Claude AI API key

**Optional:**
- `ANTHROPIC_MODEL`: Claude model to use (defaults to `claude-sonnet-4-20250514`)

## Output Format

The generated changelog includes:
- Header with emoji (üìù Changelog)
- Timestamp of generation
- AI-generated release notes organized by category

**Example output:**
```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented password reset functionality

## Fixes
- Resolved database connection timeout issues
- Fixed UI alignment problems

## Improvements
- Enhanced error handling
- Updated documentation
```

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Integration
The script can be integrated into CI/CD pipelines or Git hooks for automatic changelog updates.

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Monitor Claude AI usage as API calls incur costs
- **Git Repository**: Must be run from within a Git repository
- **API Key Security**: Never commit API keys to version control

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures
2. **Configuration**: Support for custom output paths and formats
3. **Filtering**: Add options to filter commits by date range or author
4. **Validation**: Verify Git repository status before execution
5. **Backup**: Create backup of existing changelog before overwriting

### üí° Usage Tips

- Run regularly (weekly/monthly) for best results
- Use meaningful commit messages for better AI summaries
- Review generated content before publishing
- Consider rate limiting for automated usage

## File Structure

```
project/
‚îú‚îÄ‚îÄ .env                    # Environment variables
‚îú‚îÄ‚îÄ changelog_generator.py  # Main script
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md       # Generated output
```