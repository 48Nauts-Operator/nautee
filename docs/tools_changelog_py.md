<!-- Auto-generated by Claude on 2025-06-23 08:29 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit history. It leverages Claude AI (via Anthropic's API) to intelligently summarize recent commit messages into readable release notes and outputs them to a structured Markdown file.

## Purpose

- **Automate changelog creation** from Git commit messages
- **Generate human-readable summaries** using AI-powered natural language processing
- **Maintain consistent documentation** in `docs/changelog.md`
- **Save time** by eliminating manual changelog writing

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Anthropic Claude API client
- `python-dotenv` - Environment variable management

## Key Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using subprocess.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages as bullet points

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

**Error handling:** Returns fallback message if Git command fails.

### `format_prompt(git_log: str)`

Creates an AI prompt for Claude to summarize commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

**Features:**
- Instructs Claude to organize changes into categories (Features, Fixes, Improvements)
- Requests Markdown formatting for consistent output

### `main()`

Main execution function that orchestrates the changelog generation process.

**Workflow:**
1. Load environment variables from `.env` file
2. Initialize Anthropic client
3. Fetch Git commit history
4. Generate AI prompt
5. Send request to Claude API
6. Format and write changelog to file

## Configuration

### Environment Variables

Create a `.env` file in your project root:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Output Format

The generated changelog is saved to `docs/changelog.md` with the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented dark mode toggle

## Fixes  
- Resolved database connection timeout issues
- Fixed responsive design on mobile devices

## Improvements
- Enhanced error handling throughout application
- Updated documentation with examples
```

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Integration Examples

**Git Hook (post-commit):**
```bash
#!/bin/sh
python changelog_generator.py
```

**CI/CD Pipeline:**
```yaml
- name: Generate Changelog
  run: python changelog_generator.py
```

## Important Notes

### ‚ö†Ô∏è Prerequisites
- **Git repository**: Must be run within a Git repository
- **API key**: Requires valid Anthropic API key
- **Directory structure**: Assumes `docs/` directory exists

### üîß Customization Options
- Modify `n` parameter in `get_git_log()` to fetch more/fewer commits
- Adjust `max_tokens` in API call for longer summaries
- Customize prompt in `format_prompt()` for different output styles

### üí° Best Practices
- Run after significant development milestones
- Use descriptive commit messages for better AI summaries
- Review generated changelog before publishing
- Consider adding the script to your development workflow

### üêõ Error Handling
- Gracefully handles Git command failures
- Provides user-friendly error messages with emoji indicators
- Falls back to default content when Git log is unavailable

## File Structure

```
project-root/
‚îú‚îÄ‚îÄ changelog_generator.py
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md
```