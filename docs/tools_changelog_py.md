<!-- Auto-generated by Claude on 2025-06-22 15:19 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to summarize and organize commit messages into human-readable release notes, then outputs them to a structured Markdown file.

## Purpose

- **Automate changelog creation** from Git commit history
- **Generate readable release notes** using AI-powered summarization
- **Maintain consistent documentation** in `docs/changelog.md`
- **Save time** by eliminating manual changelog writing

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `subprocess` - Git command execution
- `os`, `datetime` - Standard library modules

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation for API endpoints
```

**Error handling:**
- Catches exceptions during Git command execution
- Returns fallback message: `"# No commits found"`

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

**Prompt structure:**
- Clear role definition for the AI assistant
- Specific formatting requirements (Markdown with sections)
- Suggested categories: 'Features', 'Fixes', 'Improvements'

### `main()`

Main execution function that orchestrates the changelog generation process.

**Process flow:**
1. Load environment variables from `.env` file
2. Initialize Anthropic client with API key
3. Fetch recent Git commits
4. Generate AI prompt
5. Request summarization from Claude
6. Write formatted changelog to file

**Output file structure:**
```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

[AI-generated summary with organized sections]
```

## Configuration

### Environment Variables

Create a `.env` file in your project root:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Usage

### Command Line Execution

```bash
python changelog_generator.py
```

### Integration Examples

```python
# As a module
from changelog_generator import main as generate_changelog

# Generate changelog
generate_changelog()
```

## Output

The script generates `docs/changelog.md` with:
- **Header**: Emoji-enhanced title
- **Timestamp**: Last update time
- **Organized content**: AI-summarized changes in clear sections

## Notes and Suggestions

### ‚ö†Ô∏è Prerequisites
- Git repository with commit history
- Valid Anthropic API key and sufficient credits
- `docs/` directory exists (create manually if needed)

### üîß Potential Improvements

1. **Error handling enhancements:**
   ```python
   # Add API rate limiting and retry logic
   # Validate Git repository before execution
   # Check for docs/ directory existence
   ```

2. **Configuration flexibility:**
   ```python
   # Make output path configurable
   # Add commit date filtering options
   # Support multiple changelog formats
   ```

3. **Integration options:**
   ```python
   # Add GitHub Actions workflow
   # Create pre-commit hook integration
   # Support for semantic versioning
   ```

### üìù Best Practices

- **Run before releases** to ensure up-to-date documentation
- **Review AI output** before committing to repository
- **Customize prompt** based on your project's changelog style
- **Set up CI/CD integration** for automated changelog updates

### üö® Limitations

- Requires internet connection for Claude API
- Quality depends on commit message clarity
- May need manual editing for complex release notes
- API costs apply for each generation

## File Structure

```
project/
‚îú‚îÄ‚îÄ changelog_generator.py
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ changelog.md
‚îî‚îÄ‚îÄ requirements.txt
```