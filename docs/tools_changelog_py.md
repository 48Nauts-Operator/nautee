<!-- Auto-generated by Claude on 2025-06-22 08:25 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelog documentation from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize and categorize recent commit messages into readable release notes.

## Purpose

- **Automate changelog creation** from Git commit messages
- **Generate human-readable release notes** using AI summarization
- **Maintain consistent documentation** in `docs/changelog.md`
- **Save time** by eliminating manual changelog writing

## Dependencies

The script requires the following Python packages:

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Environment Variables

- `ANTHROPIC_API_KEY` - Your Anthropic API key (required)
- `ANTHROPIC_MODEL` - AI model to use (optional, defaults to `claude-sonnet-4-20250514`)

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using subprocess.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Usage:**
```python
commits = get_git_log(10)  # Get last 10 commits
```

### `format_prompt(git_log: str)`

Creates an AI prompt for summarizing commit messages into structured changelog format.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt instructing Claude to categorize commits into sections like 'Features', 'Fixes', 'Improvements'

### `main()`

Main execution function that orchestrates the entire changelog generation process:

1. **Loads environment variables** from `.env` file
2. **Initializes Anthropic client** with API credentials
3. **Fetches Git commit history**
4. **Generates AI summary** of commits
5. **Writes formatted changelog** to `docs/changelog.md`

## Output Format

The generated changelog includes:

- **Header:** "üìù Changelog"
- **Timestamp:** Last updated date and time
- **AI-generated content:** Organized sections with features, fixes, and improvements

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Environment Setup
Create a `.env` file with:
```
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **Git Repository Required:** Script must be run from within a Git repository
- **API Costs:** Each run consumes Anthropic API tokens
- **File Overwrite:** Existing `docs/changelog.md` will be completely replaced

### üîß Potential Improvements

1. **Error Handling Enhancement:**
   ```python
   # Add validation for API key existence
   if not os.getenv("ANTHROPIC_API_KEY"):
       raise ValueError("ANTHROPIC_API_KEY environment variable required")
   ```

2. **Append Mode Option:**
   - Consider adding functionality to append to existing changelog rather than overwriting

3. **Commit Date Filtering:**
   - Add options to filter commits by date range (e.g., since last release)

4. **Configuration File:**
   - Support for customizable output paths and formatting preferences

5. **Retry Logic:**
   - Implement retry mechanism for API failures

### üìÅ Directory Structure
Ensure your project has the following structure:
```
project-root/
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ changelog_generator.py
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md  # Generated automatically
```

### üöÄ Integration Tips

- **CI/CD Integration:** Can be automated in GitHub Actions or similar pipelines
- **Pre-commit Hooks:** Consider running before releases
- **Version Tagging:** Combine with Git tag creation for release workflows