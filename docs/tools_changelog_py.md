<!-- Auto-generated by Claude on 2025-06-01 16:23 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelog documentation by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Fetching recent Git commit messages
- Using AI to summarize and organize commits into meaningful categories
- Generating a well-formatted Markdown changelog file
- Maintaining consistent documentation standards

## Dependencies

The script requires the following Python packages:
- `anthropic` - For Claude AI integration
- `python-dotenv` - For environment variable management
- `subprocess` - For Git command execution (built-in)
- `datetime` - For timestamp generation (built-in)
- `os` - For environment variable access (built-in)

## Key Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation for API endpoints
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary execution function that orchestrates the entire changelog generation process:

1. Loads environment variables from `.env` file
2. Initializes Anthropic client
3. Fetches Git commit messages
4. Generates AI-powered summary
5. Writes formatted changelog to `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file in your project root with the following variables:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Output Format

The generated changelog follows this structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- New user authentication system
- Advanced search functionality

## Fixes
- Resolved database timeout issues
- Fixed broken API endpoints

## Improvements
- Enhanced error handling
- Updated documentation
```

## Usage

### Command Line Execution

```bash
python changelog_generator.py
```

### Integration with CI/CD

Add to your workflow to automatically update changelogs:

```yaml
- name: Generate Changelog
  run: python scripts/changelog_generator.py
```

## Notes and Suggestions

### ‚ö†Ô∏è Prerequisites
- Ensure you're in a Git repository with commit history
- Verify that the `docs/` directory exists or will be created
- Confirm your Anthropic API key has sufficient credits

### üí° Improvements
- **Error Handling**: Consider adding more robust error handling for file I/O operations
- **Customization**: Make the output path configurable via environment variables
- **Git Integration**: Add support for filtering commits by date range or tags
- **Template Support**: Allow custom changelog templates for different project types

### üîß Troubleshooting
- **"No commits found"**: Ensure you're running the script from within a Git repository
- **API Errors**: Verify your `ANTHROPIC_API_KEY` is valid and has available credits
- **Permission Issues**: Check write permissions for the `docs/` directory

### üìÅ File Structure
```
project/
‚îú‚îÄ‚îÄ .env                    # Environment variables
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ changelog.md       # Generated output
‚îî‚îÄ‚îÄ changelog_generator.py # This script
```