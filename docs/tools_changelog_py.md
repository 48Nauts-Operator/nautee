<!-- Auto-generated by Claude on 2025-06-22 07:19 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize and categorize recent commit messages into readable release notes.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Extracting recent Git commit messages
- Using AI to summarize and categorize changes
- Generating a formatted Markdown changelog file
- Maintaining consistent documentation standards

## Dependencies

The script requires the following Python packages:
- `anthropic` - For Claude AI integration
- `python-dotenv` - For environment variable management
- `subprocess` - For Git command execution (built-in)
- `datetime` - For timestamp generation (built-in)

## Environment Variables

Create a `.env` file in your project root with the following variables:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to claude-sonnet-4-20250514
```

## Functions

### `get_git_log(n=20)`

Fetches recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to retrieve. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to generate organized changelog content.

**Parameters:**
- `git_log` (str): Raw commit messages from Git log

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Retrieves Git commit history
4. Sends summarization request to Claude
5. Writes formatted changelog to file

## Output

The script generates a changelog file at `docs/changelog.md` with:
- **Header**: "üìù Changelog"
- **Timestamp**: Last updated date and time
- **Categorized content**: AI-generated sections like "Features", "Fixes", "Improvements"

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Integration with CI/CD

This script can be integrated into your CI/CD pipeline to automatically update changelogs on releases:

```yaml
# Example GitHub Actions workflow
- name: Generate Changelog
  run: python changelog_generator.py
  env:
    ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
```

## Notes and Recommendations

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Never commit your Anthropic API key to version control. Always use environment variables or secret management systems.
- **Git Repository**: This script must be run within a Git repository with commit history.
- **Directory Structure**: Ensure the `docs/` directory exists before running the script.

### üîß Potential Improvements

- **Error Handling**: Add more robust error handling for network failures and API rate limits
- **Configuration**: Make the number of commits and output path configurable via command-line arguments
- **Backup**: Consider backing up existing changelog before overwriting
- **Template Support**: Add support for custom changelog templates

### üí° Usage Tips

- **Commit Message Quality**: The output quality depends on your commit message conventions. Use clear, descriptive commit messages for better results.
- **Regular Updates**: Run this script regularly to maintain up-to-date documentation.
- **Review Output**: Always review the AI-generated content before publishing, as it may require manual adjustments.

## File Structure

```
project/
‚îú‚îÄ‚îÄ changelog_generator.py
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ changelog.md  # Generated output
‚îî‚îÄ‚îÄ requirements.txt
```

## Error Handling

The script includes basic error handling for:
- Git command failures
- Missing environment variables (handled by Anthropic client)
- File write permissions

For production use, consider adding more comprehensive error handling and logging.