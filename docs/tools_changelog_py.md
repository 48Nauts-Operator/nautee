<!-- Auto-generated by Claude on 2025-06-01 12:38 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit messages using Claude AI. It fetches recent commit messages, summarizes them using Anthropic's Claude model, and generates a well-structured markdown changelog file.

## Purpose

- Automate the process of creating release notes and changelogs
- Transform raw Git commit messages into readable, organized documentation
- Maintain consistent changelog formatting across projects
- Save time on manual changelog creation

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Functions

### `get_git_log(n=20)`

Fetches recent Git commit messages from the repository.

**Parameters:**
- `n` (int, optional): Number of recent commits to retrieve. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Usage:**
```python
commits = get_git_log(10)  # Get last 10 commits
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to summarize commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for Claude

**Features:**
- Instructs Claude to organize commits into sections (Features, Fixes, Improvements)
- Requests markdown formatting for better readability

### `main()`

Main execution function that orchestrates the changelog generation process.

**Process Flow:**
1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit messages
4. Generates AI summary using Claude
5. Writes formatted changelog to file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Output

The tool generates a changelog file at `docs/changelog.md` with:
- **Header**: "üìù Changelog"
- **Timestamp**: Last updated date and time
- **Organized content**: AI-summarized commit messages grouped by category

### Sample Output Structure
```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added new user authentication system
- Implemented file upload functionality

## Fixes
- Fixed memory leak in data processing
- Resolved API timeout issues

## Improvements
- Enhanced error handling
- Optimized database queries
```

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Integration
```python
from changelog_generator import main
main()  # Generate changelog
```

## Notes and Recommendations

### ‚ö†Ô∏è Prerequisites
- Ensure you're in a Git repository
- Set up Anthropic API credentials
- Create `docs/` directory if it doesn't exist

### üí° Best Practices
- **Commit Message Quality**: Write clear, descriptive commit messages for better changelog output
- **Regular Updates**: Run the generator before releases or at regular intervals
- **Review Output**: Always review the AI-generated changelog before publishing
- **Backup**: Consider versioning your changelog or keeping backups

### üîß Customization Options
- Modify the number of commits analyzed by changing the default `n` parameter
- Adjust the prompt template in `format_prompt()` for different output styles
- Change the output path by modifying `output_path` in `main()`
- Customize the Claude model by setting `ANTHROPIC_MODEL` environment variable

### üö® Error Handling
- Git command failures are caught and reported
- Missing API keys will cause runtime errors
- Network issues may affect Claude API calls

### üí∞ Cost Considerations
- Each run consumes Claude API tokens
- Monitor your Anthropic usage if running frequently
- Consider caching results for large repositories