<!-- Auto-generated by Claude on 2025-06-02 06:31 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit messages using Anthropic's Claude AI model. It fetches recent commit messages, summarizes them using AI, and outputs a well-structured changelog in Markdown format.

## Purpose

- **Automate changelog creation** from Git commit history
- **Generate human-readable summaries** of code changes using AI
- **Maintain consistent documentation** with timestamps and formatting
- **Save time** by eliminating manual changelog writing

## Dependencies

The script requires the following Python packages:

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Environment Variables

Create a `.env` file with:
```bash
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

## Functions

### `get_git_log(n=20)`

Fetches recent Git commit messages using Git CLI.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted Git log output with bullet points, or error message

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

**Error Handling:**
- Catches subprocess exceptions
- Returns fallback message if Git command fails

### `format_prompt(git_log: str)`

Creates an AI prompt to summarize Git commit messages into structured changelog format.

**Parameters:**
- `git_log` (str): Raw Git log output from `get_git_log()`

**Returns:**
- `str`: Formatted prompt for Claude AI

**Prompt Structure:**
- Instructs AI to categorize changes (Features, Fixes, Improvements)
- Requests Markdown formatting
- Includes the raw commit messages

### `main()`

Main execution function that orchestrates the changelog generation process.

**Process Flow:**
1. Load environment variables from `.env`
2. Initialize Anthropic client
3. Fetch Git commit log
4. Generate AI prompt
5. Request summary from Claude
6. Write formatted changelog to file
7. Display success message

**Output File:**
- **Location:** `docs/changelog.md`
- **Format:** Markdown with timestamp and AI-generated content

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Prerequisites

1. **Git repository** - Must be run within a Git repository
2. **Anthropic API key** - Set in environment variables
3. **docs/ directory** - Must exist for output file

### Sample Output File

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented password reset functionality

## Fixes  
- Resolved database connection timeout issues
- Fixed UI rendering bug on mobile devices

## Improvements
- Updated documentation with new examples
- Optimized query performance
```

## Configuration

### Environment Variables

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `ANTHROPIC_API_KEY` | ‚úÖ Yes | None | Your Anthropic API key |
| `ANTHROPIC_MODEL` | ‚ùå No | `claude-sonnet-4-20250514` | Claude model to use |

### Customization Options

- **Commit count:** Modify the `n` parameter in `get_git_log(n=20)`
- **Output path:** Change `output_path` variable in `main()`
- **AI model:** Set `ANTHROPIC_MODEL` environment variable

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API costs:** Each run consumes Anthropic API tokens
- **Git dependency:** Requires Git CLI to be installed and accessible
- **Directory structure:** Assumes `docs/` directory exists
- **File overwrite:** Each run completely overwrites the existing changelog

### üîß Potential Improvements

1. **Append mode:** Consider appending to existing changelog instead of overwriting
2. **Date range filtering:** Add options to filter commits by date range
3. **Error logging:** Implement more robust error handling and logging
4. **Configuration file:** Support for YAML/JSON configuration files
5. **Multiple output formats:** Support for different output formats (HTML, plain text)
6. **Commit filtering:** Filter out merge commits or commits with specific patterns

### üí° Usage Tips

- **Run regularly:** Integrate into CI/CD pipeline for automatic updates
- **Review output:** Always review AI-generated content before publishing
- **Commit quality:** Better commit messages lead to better changelogs
- **Backup:** Consider versioning your changelog files

### üöÄ Integration Ideas

- **GitHub Actions:** Automate changelog generation on releases
- **Pre-commit hooks:** Generate changelog before major commits  
- **Documentation sites:** Integrate with documentation build processes