<!-- Auto-generated by Claude on 2025-06-23 07:21 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelog documentation by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Fetching recent Git commit messages
- Using AI to summarize and categorize changes
- Generating a properly formatted Markdown changelog file
- Maintaining consistent documentation standards

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

### Environment Variables
- `ANTHROPIC_API_KEY` - **Required**: Your Anthropic API key
- `ANTHROPIC_MODEL` - **Optional**: Claude model to use (defaults to `claude-sonnet-4-20250514`)

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example Output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to generate changelog summaries.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary execution function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Generates AI summary
5. Writes formatted changelog to file

**Output File:** `docs/changelog.md`

## Usage

### Basic Execution
```bash
python changelog_generator.py
```

### Setup Requirements
1. Create a `.env` file with your Anthropic API key:
   ```
   ANTHROPIC_API_KEY=your_api_key_here
   ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional
   ```

2. Ensure you're in a Git repository with commit history

3. Make sure the `docs/` directory exists (or the script will create the file path)

## Output Format

The generated changelog follows this structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- New user authentication system
- Added dashboard analytics

## Fixes  
- Resolved database timeout issues
- Fixed mobile responsive layout

## Improvements
- Enhanced error handling
- Updated dependencies
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Anthropic API tokens. Monitor usage for large repositories.
- **Git Dependency**: Requires Git to be installed and accessible via command line.
- **File Overwrite**: The script overwrites the existing changelog file completely.

### üõ†Ô∏è Potential Improvements

1. **Incremental Updates**: Modify to append new changes rather than overwriting
2. **Error Handling**: Add more robust error handling for API failures
3. **Configuration**: Make commit count and output path configurable
4. **Git Range**: Allow specifying date ranges or commit hashes
5. **Multiple Formats**: Support different output formats (JSON, HTML, etc.)

### üí° Best Practices

- Run this script as part of your CI/CD pipeline before releases
- Review AI-generated summaries before publishing
- Consider rate limiting for repositories with frequent commits
- Keep commit messages descriptive for better AI summarization

### üîß Troubleshooting

**Common Issues:**
- **"No commits found"**: Ensure you're in a Git repository with commit history
- **API Key errors**: Verify your `ANTHROPIC_API_KEY` is set correctly
- **Permission errors**: Check write permissions for the `docs/` directory