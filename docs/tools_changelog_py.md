<!-- Auto-generated by Claude on 2025-06-02 06:37 -->

# Changelog Generator Documentation

## Overview

The Changelog Generator is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Fetching recent Git commit messages
- Using AI to summarize and categorize changes
- Generating a well-formatted Markdown changelog
- Saving the output to a standardized location

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

**Required packages:**
- `anthropic` - For Claude AI integration
- `python-dotenv` - For environment variable management

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages or error message

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to generate changelog content.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commits
4. Generates AI summary
5. Writes formatted changelog to file

## Configuration

### Environment Variables

Create a `.env` file in your project root with the following variables:

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Output Location

The changelog is automatically saved to:
```
docs/changelog.md
```

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Expected Output

The generated changelog will have the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented dark mode toggle

## Fixes
- Resolved database connection timeout issues
- Fixed responsive design on mobile devices

## Improvements
- Enhanced error handling
- Updated documentation
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Ensure your `ANTHROPIC_API_KEY` is kept secure and not committed to version control
- **Git Repository**: This tool must be run from within a Git repository
- **Directory Structure**: Ensure the `docs/` directory exists before running

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures
2. **Configuration**: Make output path and commit count configurable
3. **Commit Filtering**: Add options to filter commits by date range or author
4. **Template Customization**: Allow custom changelog templates
5. **Backup**: Create backup of existing changelog before overwriting

### üí° Usage Tips

- Run this tool before each release to maintain up-to-date documentation
- Consider integrating into your CI/CD pipeline
- Review and edit the generated changelog for accuracy before publishing
- Use meaningful commit messages for better AI summarization

### üêõ Troubleshooting

**Common Issues:**
- **"No commits found"**: Ensure you're in a Git repository with commit history
- **API errors**: Verify your Anthropic API key is valid and has sufficient credits
- **File write errors**: Check that the `docs/` directory exists and has write permissions