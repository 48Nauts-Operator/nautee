<!-- Auto-generated by Claude on 2025-06-02 07:21 -->

# Changelog Generator Documentation

## Overview

The Changelog Generator is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI model to summarize and categorize commits into readable release notes, then outputs the results to a markdown file.

## Purpose

- **Automate changelog creation** from Git commit history
- **Generate human-readable summaries** of technical commit messages
- **Maintain consistent documentation** with organized release notes
- **Save time** by eliminating manual changelog writing

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

### Environment Variables
- `ANTHROPIC_API_KEY` - Required API key for Claude
- `ANTHROPIC_MODEL` - Optional model specification (defaults to `claude-sonnet-4-20250514`)

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using subprocess.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation for API endpoints
```

### `format_prompt(git_log: str)`

Creates an AI prompt for summarizing commit messages into structured release notes.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt instructing Claude to categorize commits into sections like Features, Fixes, and Improvements

### `main()`

Orchestrates the entire changelog generation process:

1. **Loads environment variables** from `.env` file
2. **Initializes Claude client** with API credentials
3. **Fetches Git commit history**
4. **Generates AI summary** of commits
5. **Writes formatted changelog** to `docs/changelog.md`

## Output Format

The generated changelog includes:
- **Header**: "üìù Changelog"
- **Timestamp**: Last updated date and time
- **Categorized sections**: Features, Fixes, Improvements (as determined by AI)
- **Markdown formatting**: For easy reading and web display

## Usage

### Setup

1. Install required dependencies:
   ```bash
   pip install anthropic python-dotenv
   ```

2. Create a `.env` file with your Anthropic API key:
   ```
   ANTHROPIC_API_KEY=your_api_key_here
   ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional
   ```

3. Ensure you're in a Git repository with commit history

### Running the Script

```bash
python changelog_generator.py
```

### Expected Output

```
‚úÖ Changelog written to docs/changelog.md
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **Git Repository Required**: Script must be run from within a Git repository
- **API Key Security**: Keep your Anthropic API key secure and never commit it to version control
- **Network Dependency**: Requires internet connection for Claude API calls

### üîß Potential Improvements

- **Error Handling**: Add more robust error handling for API failures
- **Configuration**: Make number of commits and output path configurable
- **Git Range**: Allow specifying commit ranges instead of just recent commits
- **Template Customization**: Enable custom prompt templates for different changelog styles
- **Incremental Updates**: Support for appending to existing changelogs rather than overwriting

### üìÅ File Structure

Ensure your project has the following structure:
```
project/
‚îú‚îÄ‚îÄ changelog_generator.py
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md  # Generated automatically
```

### üöÄ Integration Tips

- **CI/CD Integration**: Can be integrated into automated workflows
- **Pre-release Process**: Useful for generating release notes before tagging versions
- **Team Collaboration**: Helps maintain consistent documentation standards across team members