<!-- Auto-generated by Claude on 2025-06-08 08:24 -->

# Changelog Generator

## Overview

The Changelog Generator is a Python utility that automates the creation of project changelogs by analyzing Git commit messages and generating human-readable release notes using Claude AI. It fetches recent commit history, processes it through Anthropic's Claude model, and outputs a formatted changelog in Markdown format.

## Purpose

- **Automate changelog creation** from Git commit history
- **Generate human-readable release notes** using AI summarization
- **Maintain consistent documentation** with timestamped updates
- **Save time** by eliminating manual changelog writing

## Dependencies

The script requires the following Python packages:

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

## Key Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages from the repository.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git access fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process commit messages into changelog format.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Generates AI-powered changelog
5. Writes formatted output to file

## Configuration

### Environment Variables

Create a `.env` file in your project root with the following variables:

```bash
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Required Setup

- **Anthropic API Key**: Obtain from [Anthropic Console](https://console.anthropic.com/)
- **Git Repository**: Must be run within a Git repository
- **Directory Structure**: Creates output in `docs/changelog.md`

## Output Format

The generated changelog includes:

- **Header**: "üìù Changelog"
- **Timestamp**: Last updated date and time
- **Organized Sections**: Features, Fixes, Improvements (as applicable)
- **Markdown Formatting**: Clean, readable structure

## Usage

### Command Line

```bash
python changelog_generator.py
```

### Integration Example

```python
from changelog_generator import main

# Generate changelog programmatically
main()
```

## Important Notes

### ‚ö†Ô∏è Prerequisites
- Ensure you have a valid Anthropic API key
- Run the script from within a Git repository
- The `docs/` directory will be created if it doesn't exist

### üîß Customization Options
- Modify the number of commits analyzed by changing the default in `get_git_log()`
- Adjust the AI model by setting `ANTHROPIC_MODEL` environment variable
- Customize the prompt format in `format_prompt()` for different changelog styles

### üí° Best Practices
- **Commit Message Quality**: Write clear, descriptive commit messages for better changelog output
- **Regular Updates**: Run periodically to keep changelog current
- **Review Output**: Always review AI-generated content before publishing
- **Version Control**: Consider committing the generated changelog to track documentation changes

### üö® Error Handling
- Gracefully handles Git command failures
- Provides clear error messages with emoji indicators
- Falls back to "No commits found" if Git log is inaccessible

## File Structure

```
project/
‚îú‚îÄ‚îÄ changelog_generator.py
‚îú‚îÄ‚îÄ .env
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md  # Generated output
```