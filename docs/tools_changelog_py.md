<!-- Auto-generated by Claude on 2025-06-22 11:16 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize commit messages into organized, readable release notes.

## Purpose

This tool streamlines the changelog creation process by:
- Fetching recent Git commit messages
- Using AI to categorize and summarize changes
- Generating a well-formatted Markdown changelog
- Automatically updating documentation

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Environment Variables

The following environment variables must be configured:

| Variable | Required | Default | Description |
|----------|----------|---------|-------------|
| `ANTHROPIC_API_KEY` | ‚úÖ Yes | - | Your Anthropic API key |
| `ANTHROPIC_MODEL` | ‚ùå No | `claude-sonnet-4-20250514` | Claude model to use |

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages or error message

**Example:**
```python
commits = get_git_log(10)  # Get last 10 commits
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to generate organized changelog entries.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commits
4. Generates AI summary
5. Writes formatted changelog to file

## Output

The generated changelog is saved to `docs/changelog.md` with the following structure:

```markdown
# üìù Changelog

_Last updated: YYYY-MM-DD HH:MM_

[AI-generated content organized by Features, Fixes, Improvements, etc.]
```

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Setup Requirements

1. **Install dependencies:**
   ```bash
   pip install anthropic python-dotenv
   ```

2. **Configure environment variables:**
   ```bash
   # Create .env file
   echo "ANTHROPIC_API_KEY=your_api_key_here" > .env
   ```

3. **Ensure Git repository:**
   - Script must be run from within a Git repository
   - Repository should have commit history

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Anthropic API credits
- **Git Dependency**: Requires Git to be installed and accessible via command line
- **Directory Structure**: Creates `docs/` directory if it doesn't exist

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures
2. **Customization**: Allow custom output paths and formats
3. **Filtering**: Add options to filter commits by date range or author
4. **Validation**: Verify Git repository exists before execution

### üí° Usage Tips

- Run this script as part of your CI/CD pipeline
- Consider rate limiting for repositories with frequent commits
- Review generated changelogs before publishing
- Customize the AI prompt for your project's specific needs

### üêõ Troubleshooting

**Common Issues:**
- `‚ùå Error reading git log`: Ensure you're in a Git repository
- API errors: Verify your `ANTHROPIC_API_KEY` is valid
- Permission errors: Check write permissions for `docs/` directory