<!-- Auto-generated by Claude on 2025-06-01 21:17 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelog documentation by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize and categorize commits into readable release notes.

## Purpose

- **Automate changelog creation** from Git commit history
- **Generate human-readable summaries** of recent changes
- **Maintain consistent documentation** in `docs/changelog.md`
- **Save development time** by eliminating manual changelog writing

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

### Required Environment Variables
- `ANTHROPIC_API_KEY` - Your Anthropic API key (required)
- `ANTHROPIC_MODEL` - Claude model to use (optional, defaults to `claude-sonnet-4-20250514`)

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages or error message

**Example output:**
```
* Add user authentication feature
* Fix login validation bug
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to generate changelog summaries.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

Main execution function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commits
4. Generates AI summary
5. Writes formatted changelog to file

## Output Format

The generated changelog includes:
- **Header**: "üìù Changelog"
- **Timestamp**: Last updated date and time
- **Categorized sections**: Features, Fixes, Improvements (as applicable)
- **Markdown formatting**: For easy reading and web display

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Environment Setup
Create a `.env` file with:
```
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Never commit your `.env` file to version control
- **Git Repository**: Must be run from within a Git repository
- **Network Dependency**: Requires internet connection for Claude API

### üöÄ Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures
2. **Commit Filtering**: Filter out merge commits or specific patterns
3. **Date Range**: Allow specifying date ranges instead of commit counts
4. **Multiple Formats**: Support different output formats (JSON, HTML, etc.)
5. **Configuration**: Add config file support for customizable settings

### üí° Usage Tips

- **Run regularly** as part of your release process
- **Review output** before publishing - AI summaries may need human review
- **Customize prompt** in `format_prompt()` for project-specific needs
- **Integrate with CI/CD** for automated documentation updates

### Example Integration

```bash
# In your release script
python changelog_generator.py
git add docs/changelog.md
git commit -m "Update changelog"
```

## File Structure

```
project/
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ changelog.md          # Generated output
‚îú‚îÄ‚îÄ .env                      # Environment variables
‚îî‚îÄ‚îÄ changelog_generator.py    # This script
```