<!-- Auto-generated by Claude on 2025-06-22 10:20 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit history. It leverages Anthropic's Claude AI to intelligently summarize commit messages into readable release notes and outputs them to a markdown file.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Fetching recent Git commit messages
- Using AI to categorize and summarize changes
- Generating a properly formatted markdown changelog
- Writing the output to `docs/changelog.md`

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Anthropic's Python client for Claude API
- `python-dotenv` - Environment variable management

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends prompt to Claude AI
5. Formats and writes the changelog to file

## Configuration

### Environment Variables

Create a `.env` file in your project root with the following variables:

```bash
# Required
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Optional
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Output Location

The changelog is written to: `docs/changelog.md`

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Expected Output Format

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented file upload functionality

## Fixes  
- Resolved database connection timeout issues
- Fixed responsive design on mobile devices

## Improvements
- Enhanced error handling across modules
- Updated documentation with examples
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Ensure your Anthropic API key is kept secure and not committed to version control
- **Git Repository**: This tool must be run within a Git repository with commit history
- **Directory Structure**: The `docs/` directory must exist before running the script

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures and file I/O operations
2. **Customization**: Allow configuration of output format and file location via command-line arguments
3. **Incremental Updates**: Add support for generating changelogs since last release/tag
4. **Multiple Formats**: Support output in different formats (JSON, HTML, etc.)

### üí° Usage Tips

- Run this script as part of your CI/CD pipeline before releases
- Consider using Git tags to generate changelogs for specific version ranges
- Customize the AI prompt to match your project's changelog style preferences
- Review the generated changelog before publishing, as AI summaries may need manual adjustments

### üöÄ Integration Ideas

```bash
# Example: Add to package.json scripts
"scripts": {
  "changelog": "python scripts/changelog_generator.py"
}

# Example: Pre-commit hook usage
# Generate changelog before each release
```