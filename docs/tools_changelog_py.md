<!-- Auto-generated by Claude on 2025-05-31 20:31 -->

# Git Changelog Generator

## Overview

This Python script automatically generates human-readable changelog documentation from Git commit messages using Anthropic's Claude AI model. It extracts recent commit messages from a Git repository and transforms them into well-formatted release notes with proper categorization.

## Purpose

- **Automate changelog creation** from Git commit history
- **Transform technical commit messages** into user-friendly release notes
- **Categorize changes** into sections like Features, Fixes, and Improvements
- **Save formatted output** with timestamps for version control

## Dependencies

The script requires the following Python packages:

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Official Anthropic API client
- `python-dotenv` - Environment variable management
- `os`, `datetime`, `subprocess` - Built-in Python modules

## Configuration

### Environment Variables

The script expects the following environment variables in a `.env` file:

```bash
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

- **`ANTHROPIC_API_KEY`** (Required): Your Anthropic API key for Claude access
- **`ANTHROPIC_MODEL`** (Optional): Claude model to use (defaults to `claude-sonnet-4-20250514`)

## Key Functions

### Git Log Extraction

```python
git_log = subprocess.check_output([
    "git", "log", "--pretty=format:* %s", "-n", "10"
]).decode()
```

- Retrieves the **last 10 commit messages** from the current Git repository
- Formats each commit as a bullet point (`* commit message`)
- Includes error handling for repositories without Git history

### AI-Powered Changelog Generation

The script uses Claude AI to:
- Analyze commit messages for patterns and themes
- Categorize changes into logical sections
- Generate readable, professional release notes
- Apply proper Markdown formatting

### File Output Management

```python
timestamp = datetime.now().strftime("%Y-%m-%dT%H-%M-%S")
out_path = f"output/changelog_{timestamp}.txt"
```

- Creates an `output/` directory if it doesn't exist
- Saves changelog with **timestamped filename** format: `changelog_YYYY-MM-DDTHH-MM-SS.txt`
- Prevents file overwrites through unique timestamps

## Usage

1. **Set up environment variables**:
   ```bash
   echo "ANTHROPIC_API_KEY=your_key_here" > .env
   ```

2. **Run the script** from a Git repository:
   ```bash
   python changelog_generator.py
   ```

3. **Check output**:
   ```bash
   ls output/
   # changelog_2024-01-15T14-30-22.txt
   ```

## Error Handling

- **Git errors**: If Git commands fail, defaults to "No commits found" message
- **API errors**: Anthropic client will raise exceptions for invalid API keys or network issues
- **File system errors**: Directory creation is handled gracefully with `exist_ok=True`

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **Git Repository Required**: Script must be run from within a Git repository
- **API Costs**: Each run consumes Anthropic API tokens (up to 1000 tokens per request)
- **Commit Quality**: Better commit messages produce better changelogs

### üîß Potential Improvements

- **Configurable commit count**: Make the "10 commits" limit configurable
- **Date range filtering**: Add options to generate changelogs for specific time periods
- **Output format options**: Support multiple output formats (JSON, HTML, etc.)
- **Template customization**: Allow custom prompt templates for different changelog styles
- **Batch processing**: Process multiple repositories or branches

### üí° Usage Tips

- **Run before releases** to generate professional changelog documentation
- **Integrate with CI/CD** pipelines for automated release note generation
- **Combine with semantic versioning** tools for complete release management
- **Review and edit output** before publishing, as AI-generated content may need refinement

## Example Output

The generated changelog might look like:

```markdown
## Features
- Added user authentication system
- Implemented dark mode toggle

## Fixes  
- Resolved database connection timeout issues
- Fixed responsive layout on mobile devices

## Improvements
- Enhanced error logging and monitoring
- Optimized database query performance
```