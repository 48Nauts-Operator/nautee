<!-- Auto-generated by Claude on 2025-06-02 04:30 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs from Git commit messages using Anthropic's Claude AI. It fetches recent commit messages from a Git repository, summarizes them using natural language processing, and outputs a well-structured changelog in Markdown format.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Extracting recent Git commit messages
- Using AI to intelligently categorize and summarize changes
- Generating professionally formatted release notes
- Maintaining consistent changelog documentation

## Dependencies

The script requires the following Python packages:
- `anthropic` - For Claude AI API integration
- `python-dotenv` - For environment variable management
- Built-in modules: `os`, `datetime`, `subprocess`

## Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

## Core Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages or error message

**Example Output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary execution function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit messages
4. Generates AI summary
5. Writes formatted changelog to file

## Output

The script generates a changelog file at `docs/changelog.md` with the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented dark mode toggle

## Fixes
- Resolved database connection issues
- Fixed responsive layout on mobile devices

## Improvements
- Enhanced error handling
- Optimized database queries
```

## Usage

Run the script from your project's root directory:

```bash
python changelog_generator.py
```

**Prerequisites:**
- Must be in a Git repository
- Anthropic API key configured
- `docs/` directory exists (will be created if missing)

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Claude API tokens. Monitor usage for large repositories.
- **Git Repository**: Script must be executed within a Git repository with commit history.
- **File Overwrite**: The script overwrites `docs/changelog.md` completely on each run.

### üîß Potential Improvements

1. **Incremental Updates**: Modify to append new changes rather than regenerating entire changelog
2. **Error Handling**: Add more robust error handling for API failures and file I/O operations
3. **Configuration**: Make commit count and output path configurable via command-line arguments
4. **Git Integration**: Add support for filtering commits by date range or tags
5. **Template Support**: Allow custom changelog templates for different project styles

### üí° Usage Tips

- Run before each release to generate up-to-date changelogs
- Consider integrating into CI/CD pipelines for automated documentation
- Review and edit generated changelogs before publishing, as AI summaries may need refinement
- Use meaningful commit messages for better AI-generated summaries

## Example Workflow

```bash
# 1. Make commits with descriptive messages
git commit -m "Add user profile management feature"
git commit -m "Fix memory leak in image processing"

# 2. Generate changelog
python changelog_generator.py

# 3. Review generated docs/changelog.md
# 4. Commit the changelog
git add docs/changelog.md
git commit -m "Update changelog"
```