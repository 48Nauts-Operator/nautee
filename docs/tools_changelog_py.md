<!-- Auto-generated by Claude on 2025-06-22 19:15 -->

# Changelog Generator

A Python utility that automatically generates formatted changelogs from Git commit messages using Claude AI.

## Purpose

This script automates the process of creating project changelogs by:
- Fetching recent Git commit messages
- Using Claude AI to summarize and categorize the commits
- Generating a well-formatted Markdown changelog file

## Requirements

- Python 3.6+
- Git repository
- Anthropic API key
- Required packages:
  - `anthropic`
  - `python-dotenv`

## Environment Variables

Create a `.env` file in your project root with:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process the commit messages.

**Parameters:**
- `git_log` (str): Raw Git log output from `get_git_log()`

**Returns:**
- `str`: Formatted prompt instructing Claude to categorize commits into sections like "Features", "Fixes", "Improvements"

### `main()`

Main execution function that orchestrates the changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git log
4. Sends prompt to Claude AI
5. Writes formatted changelog to `docs/changelog.md`

## Output

The script generates a `docs/changelog.md` file with:
- Header with changelog title
- Timestamp of last update
- AI-generated summary organized by categories (Features, Fixes, Improvements, etc.)

## Usage

Run the script from your project root directory:

```bash
python changelog_generator.py
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **Directory Structure**: Ensure the `docs/` directory exists before running
- **Git Repository**: Must be run from within a Git repository
- **API Costs**: Each run consumes Anthropic API tokens
- **Commit Quality**: Better commit messages result in better changelogs

### üîß Potential Improvements

1. **Error Handling**: Add validation for missing directories and API failures
2. **Configuration**: Make output path and commit count configurable
3. **Incremental Updates**: Track last changelog generation to avoid duplicate entries
4. **Commit Filtering**: Add options to filter commits by date range or author
5. **Template Customization**: Allow custom changelog templates

### üí° Usage Tips

- Write descriptive commit messages for better AI summarization
- Run regularly (e.g., before releases) to maintain up-to-date documentation
- Review generated changelogs before publishing to ensure accuracy
- Consider integrating into CI/CD pipeline for automated documentation updates

## Error Handling

The script includes basic error handling for Git command failures but may need additional robustness for production use.