<!-- Auto-generated by Claude on 2025-06-21 22:18 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize commit messages into organized, human-readable release notes.

## Purpose

This tool addresses the common challenge of maintaining up-to-date project documentation by:
- Automatically extracting recent Git commit history
- Using AI to categorize and summarize changes into meaningful sections
- Generating a professionally formatted changelog in Markdown
- Saving time and ensuring consistency in release documentation

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Libraries
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `subprocess` - Git command execution
- `os`, `datetime` - Standard library utilities

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails.

**Implementation:**
```python
def get_git_log(n=20):
    """Fetch recent Git commit messages."""
    try:
        return subprocess.check_output([
            "git", "log", f"--pretty=format:* %s", f"-n", str(n)
        ]).decode()
    except Exception as e:
        print("‚ùå Error reading git log:", e)
        return "# No commits found"
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

**Features:**
- Instructs AI to organize changes into categories (Features, Fixes, Improvements)
- Ensures Markdown formatting in output
- Provides clear context for changelog generation

### `main()`

The primary execution function that orchestrates the changelog generation process.

**Workflow:**
1. Loads environment variables from `.env` file
2. Initializes Anthropic API client
3. Fetches Git commit history
4. Sends formatted prompt to Claude AI
5. Writes generated changelog to `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file in your project root with the following variables:

```bash
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Output Configuration

- **Output Path**: `docs/changelog.md`
- **Format**: Markdown with timestamp header
- **Sections**: Automatically organized by AI (typically Features, Fixes, Improvements)

## Usage

### Command Line Execution

```bash
python changelog_generator.py
```

### Expected Output

The generated changelog follows this structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added new user authentication system
- Implemented dark mode toggle

## Fixes  
- Fixed memory leak in data processing
- Resolved CSS styling issues on mobile

## Improvements
- Optimized database queries for better performance
- Enhanced error handling and logging
```

## Notes and Recommendations

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Ensure your `ANTHROPIC_API_KEY` is kept secure and not committed to version control
- **Git Repository**: This tool must be run within a Git repository with commit history
- **Directory Structure**: Ensure the `docs/` directory exists before running the script

### üîß Suggested Improvements

1. **Error Handling**: Add more robust error handling for API failures and network issues
2. **Configuration**: Make output path and commit count configurable via command-line arguments
3. **Filtering**: Add options to filter commits by date range or author
4. **Template Customization**: Allow custom prompt templates for different changelog styles
5. **Incremental Updates**: Support for generating changelogs since last release tag

### üí° Best Practices

- Run this tool as part of your CI/CD pipeline before releases
- Review and edit the generated changelog before publishing
- Use meaningful commit messages to improve AI summarization quality
- Consider running with different commit counts (`n` parameter) for different release cycles

### üöÄ Integration Ideas

- **GitHub Actions**: Automate changelog generation on release branches
- **Pre-commit Hooks**: Generate changelogs automatically before major commits
- **Release Automation**: Integrate with semantic versioning tools