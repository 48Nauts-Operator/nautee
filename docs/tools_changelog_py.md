<!-- Auto-generated by Claude on 2025-05-31 22:50 -->

# Changelog Generator Documentation

## Overview

The Changelog Generator is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize commit messages into readable release notes and outputs them to a Markdown file.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Fetching recent Git commit messages
- Using AI to categorize and summarize changes
- Generating well-formatted Markdown documentation
- Maintaining a consistent changelog format

## Requirements

### Dependencies
- `anthropic` - Anthropic's Python client library
- `python-dotenv` - Environment variable management
- `subprocess` - Git command execution (built-in)
- `datetime` - Timestamp generation (built-in)

### Environment Variables
Create a `.env` file with the following variables:
```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

## Functions

### `get_git_log(n=20)`
Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails.

**Example Output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`
Creates an AI prompt for summarizing commit messages into structured changelog format.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt for the AI model with instructions and commit data

### `main()`
The primary execution function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit messages
4. Generates AI summary
5. Writes formatted changelog to file

## Output

The generated changelog is saved to `docs/changelog.md` with the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- New user authentication system
- Added dashboard analytics

## Fixes  
- Resolved database timeout issues
- Fixed responsive design bugs

## Improvements
- Enhanced error handling
- Updated documentation
```

## Usage

### Basic Usage
```bash
python changelog_generator.py
```

### Prerequisites
1. Ensure you're in a Git repository
2. Set up your `.env` file with Anthropic API credentials
3. Install required dependencies:
   ```bash
   pip install anthropic python-dotenv
   ```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations
- **API Costs**: Each run consumes Anthropic API tokens. Monitor usage for cost management.
- **Git Repository**: Must be run from within a Git repository directory.
- **Network Dependency**: Requires internet connection for AI API calls.

### üîß Potential Improvements
- **Error Handling**: Add retry logic for API failures
- **Configuration**: Make commit count and output path configurable
- **Git Integration**: Add support for filtering commits by date range or tags
- **Template Support**: Allow custom changelog templates
- **Incremental Updates**: Track last processed commit to avoid regenerating entire changelog

### üí° Usage Tips
- Run after significant development milestones
- Consider integrating into CI/CD pipelines
- Review AI-generated summaries before publishing
- Customize the prompt format for specific project needs

## File Structure
```
project/
‚îú‚îÄ‚îÄ changelog_generator.py
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îî‚îÄ‚îÄ changelog.md  # Generated output
‚îî‚îÄ‚îÄ requirements.txt  # anthropic, python-dotenv
```