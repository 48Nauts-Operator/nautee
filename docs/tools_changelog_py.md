<!-- Auto-generated by Claude on 2025-06-21 21:17 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python automation tool that creates formatted changelog documentation by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Extracting recent Git commit messages from your repository
- Using AI to intelligently categorize and summarize changes
- Generating a well-formatted Markdown changelog file
- Maintaining consistent documentation standards across releases

## Dependencies

The script requires the following Python packages:
- `anthropic` - For Claude AI integration
- `python-dotenv` - For environment variable management
- `subprocess` - For Git command execution (built-in)
- `datetime` - For timestamp generation (built-in)
- `os` - For environment variable access (built-in)

## Environment Setup

Create a `.env` file in your project root with the following variables:

```bash
ANTHROPIC_API_KEY=your-claude-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git operation fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process the commit messages.

**Parameters:**
- `git_log` (str): Raw commit messages from Git log

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary execution function that orchestrates the entire changelog generation process:

1. Loads environment variables
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends formatted prompt to Claude AI
5. Writes the generated changelog to `docs/changelog.md`

## Output Format

The generated changelog includes:
- **Header**: "üìù Changelog" 
- **Timestamp**: Last updated date and time
- **Categorized sections**: Features, Fixes, Improvements (as determined by AI)
- **Markdown formatting**: Proper headers, bullet points, and styling

## Usage

### Basic Execution

```bash
python changelog_generator.py
```

### Integration with CI/CD

This script can be integrated into your deployment pipeline to automatically update changelogs on releases:

```yaml
# Example GitHub Actions step
- name: Generate Changelog
  run: python scripts/changelog_generator.py
```

## File Structure

The script expects and creates the following structure:
```
project-root/
‚îú‚îÄ‚îÄ .env                    # Environment variables
‚îú‚îÄ‚îÄ changelog_generator.py  # This script
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md        # Generated output
```

## Notes and Recommendations

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Claude AI tokens. Monitor usage for large repositories.
- **Git Repository**: Script must be run from within a Git repository with commit history.
- **Directory Creation**: Ensure the `docs/` directory exists before running.

### üí° Suggestions for Improvement

- **Error Handling**: Add validation for missing `.env` file or invalid API keys
- **Customization**: Consider making the output path configurable
- **Commit Filtering**: Add options to filter commits by date range or author
- **Template Support**: Allow custom changelog templates
- **Incremental Updates**: Track last processed commit to avoid regenerating entire changelog

### üîß Troubleshooting

**Common Issues:**
- **"No commits found"**: Verify you're in a Git repository with commit history
- **API errors**: Check your `ANTHROPIC_API_KEY` is valid and has sufficient credits
- **File permission errors**: Ensure write permissions for the `docs/` directory

### üìà Usage Tips

- Run this script before each release for consistent documentation
- Customize the commit count (`n` parameter) based on your release frequency
- Review and edit the generated changelog before publishing for accuracy