<!-- Auto-generated by Claude on 2025-06-01 11:15 -->

# Changelog Generator Documentation

## Overview

The Changelog Generator is a Python utility that automatically creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to summarize and categorize commits into readable release notes, then outputs a structured Markdown file.

## Purpose

- **Automate changelog creation** from Git commit history
- **Generate human-readable summaries** of recent changes using AI
- **Maintain consistent documentation** for project releases
- **Save time** on manual changelog writing

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - Anthropic's Claude AI client library
- `python-dotenv` - Environment variable management

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Default is 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example Output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for Claude AI to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

**Features:**
- Instructs AI to categorize changes (Features, Fixes, Improvements)
- Requests Markdown formatting
- Provides context for changelog generation

### `main()`

The primary execution function that orchestrates the changelog generation process.

**Process Flow:**
1. Load environment variables from `.env` file
2. Initialize Anthropic client
3. Fetch Git commit history
4. Generate AI prompt
5. Request Claude AI summarization
6. Write formatted changelog to file

## Configuration

### Environment Variables

Create a `.env` file in your project root:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key

**Optional:**
- `ANTHROPIC_MODEL`: Claude model version (defaults to `claude-sonnet-4-20250514`)

## Output

The script generates `docs/changelog.md` with the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented dashboard analytics

## Fixes
- Resolved database connection issues
- Fixed responsive design bugs

## Improvements
- Enhanced error handling
- Updated documentation
```

## Usage

### Command Line
```bash
python changelog_generator.py
```

### Integration
```python
from changelog_generator import main

# Generate changelog
main()
```

## Notes and Suggestions

### ‚ö†Ô∏è Prerequisites
- **Git repository**: Must be run within a Git repository
- **API key**: Requires valid Anthropic API key
- **Directory structure**: Ensure `docs/` directory exists

### üí° Best Practices
- **Run regularly**: Execute after significant development milestones
- **Commit message quality**: Write descriptive commit messages for better AI summaries
- **Review output**: Always review generated changelogs before publishing

### üîß Potential Improvements
- Add error handling for missing `docs/` directory
- Support for date range filtering (e.g., commits since last release)
- Configuration file for customizable output formatting
- Integration with version tagging systems
- Support for multiple output formats (JSON, HTML, etc.)

### üö® Error Handling
- Git command failures are caught and logged
- Missing environment variables will cause runtime errors
- Network issues with Anthropic API may cause failures

### üìÅ File Structure
```
project/
‚îú‚îÄ‚îÄ .env                    # Environment variables
‚îú‚îÄ‚îÄ changelog_generator.py  # Main script
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ changelog.md       # Generated output
```