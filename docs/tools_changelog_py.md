<!-- Auto-generated by Claude on 2025-06-22 23:19 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automates the creation of project changelogs by analyzing recent Git commit messages and generating human-readable release notes using Claude AI. The tool fetches commit history, processes it through Anthropic's Claude model, and outputs a formatted markdown changelog.

## Purpose

- **Automate Documentation**: Eliminates manual changelog writing by leveraging AI
- **Improve Readability**: Converts raw commit messages into organized, user-friendly release notes
- **Maintain Consistency**: Ensures changelog format remains consistent across releases
- **Save Development Time**: Reduces the overhead of maintaining project documentation

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

**Required packages:**
- `anthropic` - Anthropic's Python client for Claude API
- `python-dotenv` - Environment variable management

## Key Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages from the repository.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw commit messages from Git log

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

**Features:**
- Instructs AI to organize changes into logical sections (Features, Fixes, Improvements)
- Requests markdown formatting for better readability

### `main()`

The primary execution function that orchestrates the changelog generation process.

**Workflow:**
1. Load environment variables from `.env` file
2. Initialize Anthropic client with API key
3. Fetch recent Git commits
4. Generate AI prompt from commit messages
5. Send request to Claude API for summarization
6. Write formatted changelog to `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file in your project root:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Output Configuration

- **Output Path**: `docs/changelog.md` (hardcoded)
- **Timestamp Format**: `YYYY-MM-DD HH:MM`
- **Encoding**: UTF-8

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Prerequisites

1. **Git Repository**: Must be run within a Git repository
2. **API Key**: Valid Anthropic API key in environment variables
3. **Directory Structure**: Ensure `docs/` directory exists

## Output Format

The generated changelog follows this structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- New user authentication system
- Added dashboard analytics

## Fixes  
- Resolved database connection issues
- Fixed responsive design bugs

## Improvements
- Enhanced error handling
- Updated documentation
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Anthropic API tokens (up to 1000 tokens per request)
- **Git Dependency**: Requires Git to be installed and accessible in PATH
- **Network Requirement**: Needs internet connection for API calls

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures
2. **Customization**: Make output path and commit count configurable
3. **Caching**: Implement caching to avoid redundant API calls
4. **Incremental Updates**: Add support for incremental changelog updates
5. **Multiple Models**: Support for different AI models or providers

### üí° Usage Tips

- **Commit Message Quality**: Better commit messages result in better changelogs
- **Regular Execution**: Run before releases or at regular intervals
- **Review Output**: Always review generated content before publishing
- **Backup**: Consider version controlling the generated changelog

### üöÄ Integration Suggestions

- Add to CI/CD pipeline for automated changelog generation
- Create a Git hook to run before releases
- Integrate with release management tools
- Add command-line arguments for customization

## Error Handling

The script includes basic error handling:
- Git command failures return a fallback message
- Uses environment variable defaults for missing configuration
- Provides user feedback with emoji indicators (‚úÖ/‚ùå)