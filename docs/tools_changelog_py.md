<!-- Auto-generated by Claude on 2025-06-01 22:18 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python utility that automatically creates formatted changelog documentation by analyzing recent Git commit messages. It leverages Anthropic's Claude AI to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the tedious process of writing changelogs by:
- Fetching recent Git commit messages
- Using AI to summarize and categorize changes
- Generating a well-formatted Markdown changelog file
- Maintaining consistent documentation standards

## Dependencies

```python
import os
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import subprocess
```

### Required Packages
- `anthropic` - For Claude AI API integration
- `python-dotenv` - For environment variable management

## Core Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using subprocess.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch (default: 20)

**Returns:**
- `str`: Formatted Git log output with bullet points, or error message

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update documentation
```

**Error handling:** Returns "# No commits found" if Git command fails.

### `format_prompt(git_log: str)`

Constructs an AI prompt for summarizing commit messages.

**Parameters:**
- `git_log` (str): Raw Git log output

**Returns:**
- `str`: Formatted prompt instructing Claude to categorize changes into sections like 'Features', 'Fixes', 'Improvements'

### `main()`

The primary execution function that orchestrates the changelog generation process:

1. **Environment Setup**: Loads environment variables from `.env` file
2. **API Configuration**: Initializes Anthropic client with API key
3. **Data Collection**: Fetches Git commit messages
4. **AI Processing**: Sends formatted prompt to Claude for summarization
5. **File Generation**: Writes formatted changelog to `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

### Output Format

The generated changelog follows this structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- New user authentication system
- Added dashboard analytics

## Fixes  
- Resolved database timeout issues
- Fixed navigation menu bug

## Improvements
- Updated documentation
- Performance optimizations
```

## Usage

### Basic Usage

```bash
python changelog_generator.py
```

### Integration Examples

```python
# Use in CI/CD pipeline
if __name__ == "__main__":
    main()
```

## Output

- **File Location**: `docs/changelog.md`
- **Format**: Markdown with emoji headers
- **Timestamp**: Automatically includes generation timestamp
- **Encoding**: UTF-8 for international character support

## Notes and Suggestions

### ‚ö†Ô∏è Prerequisites
- Ensure you're in a Git repository
- Valid `ANTHROPIC_API_KEY` must be set
- `docs/` directory should exist

### üí° Improvements
- **Error Handling**: Consider adding more robust error handling for API failures
- **Customization**: Make the number of commits and output path configurable via command-line arguments
- **Validation**: Add Git repository validation before attempting to fetch logs
- **Backup**: Consider backing up existing changelog before overwriting

### üîß Potential Enhancements
```python
# Example: Add command-line argument support
import argparse

def parse_args():
    parser = argparse.ArgumentParser(description='Generate changelog from Git commits')
    parser.add_argument('--commits', '-n', type=int, default=20, help='Number of commits to analyze')
    parser.add_argument('--output', '-o', default='docs/changelog.md', help='Output file path')
    return parser.parse_args()
```

### üìã Best Practices
- Run this tool as part of your release process
- Review AI-generated content before publishing
- Keep commit messages descriptive for better AI summarization
- Consider rate limiting when using in automated workflows