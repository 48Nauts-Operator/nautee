<!-- Auto-generated by Claude on 2025-06-01 13:27 -->

# Changelog Generator Documentation

## Overview

The **Changelog Generator** is a Python automation tool that creates formatted changelogs by analyzing recent Git commit messages. It leverages Anthropic's Claude AI model to intelligently summarize and categorize commits into readable release notes.

## Purpose

This tool automates the tedious process of manually writing changelogs by:
- Fetching recent Git commit messages
- Using AI to summarize and categorize changes
- Generating a well-formatted Markdown changelog
- Automatically timestamping the documentation

## Dependencies

The script requires the following Python packages:
- `anthropic` - For Claude AI integration
- `python-dotenv` - For environment variable management
- `subprocess` - For Git command execution (built-in)
- `datetime` - For timestamp generation (built-in)
- `os` - For environment variable access (built-in)

## Functions

### `get_git_log(n=20)`

Retrieves recent Git commit messages using the `git log` command.

**Parameters:**
- `n` (int, optional): Number of recent commits to fetch. Defaults to 20.

**Returns:**
- `str`: Formatted commit messages as bullet points, or error message if Git command fails.

**Example output:**
```
* Add user authentication feature
* Fix database connection timeout
* Update README documentation
```

### `format_prompt(git_log: str)`

Creates a structured prompt for the Claude AI model to process commit messages.

**Parameters:**
- `git_log` (str): Raw Git commit messages from `get_git_log()`

**Returns:**
- `str`: Formatted prompt with instructions for AI summarization

### `main()`

The primary execution function that orchestrates the entire changelog generation process:

1. Loads environment variables from `.env` file
2. Initializes Anthropic client
3. Fetches Git commit history
4. Sends formatted prompt to Claude AI
5. Writes the generated changelog to `docs/changelog.md`

## Configuration

### Environment Variables

Create a `.env` file in your project root with the following variables:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

**Required:**
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access

**Optional:**
- `ANTHROPIC_MODEL`: Claude model to use (defaults to `claude-sonnet-4-20250514`)

### Output Location

The generated changelog is written to: `docs/changelog.md`

## Usage

### Command Line

```bash
python changelog_generator.py
```

### Expected Output

The script generates a changelog file with the following structure:

```markdown
# üìù Changelog

_Last updated: 2024-01-15 14:30_

## Features
- Added user authentication system
- Implemented new dashboard layout

## Fixes
- Resolved database connection issues
- Fixed memory leak in data processing

## Improvements
- Enhanced error handling
- Updated documentation
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Anthropic API tokens. Monitor usage for cost management.
- **Git Repository**: Must be run from within a Git repository with commit history.
- **File Permissions**: Ensure write permissions for the `docs/` directory.

### üîß Potential Improvements

1. **Error Handling**: Add more robust error handling for API failures
2. **Backup**: Consider backing up existing changelog before overwriting
3. **Configuration**: Make output path and commit count configurable via CLI arguments
4. **Filtering**: Add options to filter commits by date range or author
5. **Validation**: Add validation for required environment variables

### üí° Usage Tips

- Run this tool as part of your release process
- Consider integrating with CI/CD pipelines
- Review and edit the generated changelog before publishing
- Use meaningful commit messages for better AI summarization

### üöÄ Integration Ideas

```bash
# Example: Add to package.json scripts
"scripts": {
  "changelog": "python changelog_generator.py"
}

# Example: Git hook integration
# Add to .git/hooks/pre-push
python changelog_generator.py
```

## Error Handling

The script includes basic error handling for:
- Git command failures (returns fallback message)
- Missing environment variables (handled by Anthropic client)

For production use, consider adding more comprehensive error handling and logging.