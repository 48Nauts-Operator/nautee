<!-- Auto-generated by Claude on 2025-06-08 06:34 -->

# autodoc.py - Automated Documentation Generator

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python projects, uses Claude AI to generate Markdown documentation, and creates a complete documentation site structure with MkDocs integration.

## Purpose

This tool streamlines the documentation process by:
- üîç **Scanning** Python source files in a project
- ü§ñ **Generating** technical documentation using Claude AI
- üìù **Creating** structured Markdown files
- üèóÔ∏è **Building** MkDocs navigation structure
- üìö **Maintaining** a documentation index

## Key Features

### Core Functionality
- **Automatic Python file discovery** (excludes test files and `__init__.py`)
- **AI-powered documentation generation** using Anthropic's Claude
- **MkDocs integration** with Material theme
- **Index file generation** with comprehensive navigation
- **Timestamp tracking** for documentation updates

### Configuration
- Uses environment variables for API configuration
- Supports custom target directories via command line arguments
- Configurable AI model selection

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively scans directories for Python files
- Filters out test files and init files
- Returns list of file paths for documentation

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts Python file paths to Markdown filenames
- Replaces path separators and dots with underscores

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration or creates default
- Preserves existing navigation structure
- Returns YAML configuration dictionary

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Writes comprehensive MkDocs configuration
- Includes Material theme with dark/light mode toggle
- Configures markdown extensions and plugins
- Combines static navigation with auto-generated docs

### Documentation Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation files
- Includes timestamp and welcome message

#### `append_missing_docs_to_index(nav_items)`
- Discovers additional Markdown files not in navigation
- Appends them to index for completeness

## Usage

### Command Line
```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific directory
python autodoc.py /path/to/project
```

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # optional
```

## Dependencies

- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration handling

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated documentation files
‚îî‚îÄ‚îÄ other_existing_files.md    # Preserved existing docs

mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider adding delays for projects with many files
- **File Size**: Large Python files may exceed token limits

### üîß Potential Improvements

1. **Error Handling**: Add retry logic for API failures
2. **Caching**: Implement file change detection to avoid regenerating unchanged files
3. **Filtering**: Add options to exclude specific directories or file patterns
4. **Batch Processing**: Group small files into single API calls to reduce costs
5. **Configuration**: Make prompt templates configurable
6. **Logging**: Add structured logging instead of print statements

### üí° Best Practices

- Run during CI/CD pipeline for automated documentation updates
- Review generated documentation before publishing
- Keep API keys secure and use environment variables
- Consider file organization for large projects with many modules

## Example Output

The script generates professional documentation with:
- Clear section headings
- Code examples with syntax highlighting
- Bullet-pointed feature lists
- Usage instructions
- Technical specifications

---

*This documentation was generated using the same autodoc.py script it describes! üîÑ*