<!-- Auto-generated by Claude on 2025-06-01 10:20 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an **automated documentation generator** that:

- üîç **Scans** a project directory for Python source files
- ü§ñ **Generates** Markdown documentation using Claude AI (Anthropic)
- üìù **Writes** documentation to `docs/*.md` files
- üîß **Updates** `mkdocs.yml` configuration and `index.md` automatically

## Purpose

This tool automates the tedious process of writing technical documentation by leveraging AI to analyze Python code and generate comprehensive Markdown documentation. It's designed to integrate seamlessly with MkDocs for creating professional documentation sites.

## Key Features

- **AI-Powered Documentation**: Uses Anthropic's Claude to generate intelligent, contextual documentation
- **Batch Processing**: Processes multiple Python files automatically
- **MkDocs Integration**: Updates configuration files for immediate site deployment
- **Smart Navigation**: Automatically organizes documentation in a searchable index
- **Material Theme**: Pre-configured with Material for MkDocs theme and extensions

## Setup Requirements

### Environment Variables

Create a `.env` file with:

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Dependencies

```bash
pip install anthropic python-dotenv pyyaml
```

## Usage

### Basic Usage

```bash
python autodoc.py [target_directory]
```

- **Default**: Scans current directory (`.`) if no path specified
- **Custom Path**: `python autodoc.py /path/to/your/project`

### Example Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index
‚îú‚îÄ‚îÄ main_py.md                  # Documentation for main.py
‚îú‚îÄ‚îÄ utils_helpers_py.md         # Documentation for utils/helpers.py
‚îî‚îÄ‚îÄ config_settings_py.md       # Documentation for config/settings.py

mkdocs.yml                      # Updated configuration
```

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
- **Purpose**: Recursively finds Python files in target directory
- **Filters**: Excludes test files (`test_*.py`) and `__init__.py`
- **Returns**: List of file paths

#### `snake_md_path(rel_path: str)`
- **Purpose**: Converts file paths to Markdown filenames
- **Example**: `utils/helpers.py` ‚Üí `utils_helpers_py.md`

### Configuration Management

#### `load_mkdocs_config(path: str)`
- **Purpose**: Loads existing MkDocs configuration or creates default
- **Fallback**: Creates Material theme config if none exists

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- **Purpose**: Writes comprehensive MkDocs configuration
- **Features**: 
  - Material theme with dark/light mode toggle
  - Code highlighting and copy functionality
  - Search and navigation enhancements
  - Python docstring support via mkdocstrings

### Documentation Generation

#### `write_index_md(nav_items)`
- **Purpose**: Creates main documentation index page
- **Content**: Welcome message, navigation links, timestamp

#### `append_missing_docs_to_index(nav_items)`
- **Purpose**: Adds orphaned Markdown files to index
- **Use Case**: Catches manually created docs not in navigation

## Configuration Details

### MkDocs Features Enabled

- **Navigation**: Instant loading, tabs, back-to-top
- **Content**: Code copying, syntax highlighting, annotations
- **Search**: Suggestions and result highlighting
- **Theme**: Material with custom color scheme

### Markdown Extensions

- `admonition`: Info boxes and callouts
- `codehilite`: Syntax highlighting
- `pymdownx.superfences`: Advanced code blocks
- `pymdownx.emoji`: Emoji support with SVG rendering
- `mkdocstrings`: Python docstring integration

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates a Claude API call - monitor usage for large projects
- **Rate Limits**: Consider adding delays for projects with many files
- **File Overwriting**: Generated docs are overwritten on each run

### üöÄ Recommended Improvements

1. **Add Caching**: Skip unchanged files using file hashes
2. **Error Handling**: More granular error reporting and recovery
3. **Configuration**: Allow custom prompts and output formats
4. **Filtering**: Add include/exclude patterns for file selection
5. **Incremental Updates**: Only regenerate modified files

### üí° Usage Tips

- Run after significant code changes to keep docs current
- Review generated content before publishing
- Customize the AI prompt for domain-specific documentation needs
- Use with CI/CD pipelines for automated doc deployment

### üîß Troubleshooting

- **No files found**: Check target path and file extensions
- **API errors**: Verify `ANTHROPIC_API_KEY` in `.env` file
- **Permission errors**: Ensure write access to `docs/` directory
- **YAML errors**: Check `mkdocs.yml` syntax if build fails

This tool transforms the documentation workflow from manual writing to AI-assisted generation, making it easier to maintain up-to-date technical documentation for Python projects.