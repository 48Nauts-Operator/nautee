<!-- Auto-generated by Claude on 2025-06-22 15:19 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files and creates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs to create a complete documentation site with proper navigation and styling.

## Purpose

This tool streamlines the documentation process by:
- **Automatically scanning** Python projects for source files
- **Generating intelligent documentation** using Claude AI
- **Creating a structured documentation site** with MkDocs integration
- **Maintaining organized navigation** and cross-references

## Key Features

- üîç **Smart File Discovery**: Automatically finds Python files while excluding tests and `__init__.py`
- ü§ñ **AI-Powered Documentation**: Uses Claude AI to generate comprehensive, readable documentation
- üìö **MkDocs Integration**: Creates and updates `mkdocs.yml` with proper navigation structure
- üé® **Material Theme Configuration**: Includes dark/light mode toggle and modern UI features
- üìù **Index Generation**: Creates a master index with links to all documentation

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively scans directory for Python files
- Excludes test files and `__init__.py` files
- Returns list of absolute file paths

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts Python file paths to Markdown filename format
- Replaces path separators and dots with underscores

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration or creates default structure
- Handles YAML parsing and provides fallback configuration

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Writes comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and navigation enhancements
- Preserves existing navigation while adding AutoDocs section

### Documentation Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation with timestamps
- Provides welcome message and navigation structure

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated MkDocs configuration
```

## Material Theme Features

The generated MkDocs configuration includes:
- **Dark/Light Mode Toggle**: Automatic theme switching
- **Enhanced Navigation**: Instant loading, tabs, and breadcrumbs
- **Code Features**: Syntax highlighting, copy buttons, line numbers
- **Search**: Intelligent search with suggestions and highlighting
- **Typography**: Roboto font family for optimal readability

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Key Security**: Ensure `ANTHROPIC_API_KEY` is properly secured in `.env` file
2. **Rate Limits**: Be mindful of API usage limits when processing large codebases
3. **File Permissions**: Ensure write permissions for `docs/` directory and `mkdocs.yml`

### üöÄ Best Practices

- **Run regularly** to keep documentation in sync with code changes
- **Review generated docs** for accuracy and completeness
- **Customize prompts** if you need specific documentation styles
- **Version control** the generated documentation for change tracking

### üîß Potential Improvements

- Add support for configuration files to customize documentation style
- Implement incremental updates (only process modified files)
- Add support for other documentation formats beyond Markdown
- Include code quality metrics in generated documentation

## Error Handling

The script includes robust error handling:
- Graceful failure for individual files (continues processing others)
- Validation for required environment variables
- File system error handling for permissions and missing directories