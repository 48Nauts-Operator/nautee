<!-- Auto-generated by Claude on 2025-06-01 21:17 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2025-01-03 18:41 -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. It's designed to streamline the documentation process by automatically generating technical documentation and integrating it with MkDocs for a professional documentation site.

## Purpose

This tool serves to:
- **Automate documentation generation** for Python codebases
- **Integrate with MkDocs** for creating professional documentation sites  
- **Maintain up-to-date documentation** by scanning source files automatically
- **Generate consistent, AI-powered documentation** using Claude's technical writing capabilities

## Key Features

### üîç **Automatic File Discovery**
- Scans directories recursively for `.py` files
- Excludes test files (`test_*`) and `__init__.py` files
- Processes files from a specified target path or current directory

### ü§ñ **AI-Powered Documentation**
- Uses Claude AI to generate technical documentation
- Creates structured Markdown with headings, bullet points, and code blocks
- Explains file purpose, functions, classes, and provides implementation notes

### üìÅ **Output Management**
- Generates documentation files in `docs/` directory
- Creates snake_case filenames from source file paths
- Maintains timestamps for tracking generation dates

### üß≠ **MkDocs Integration**
- Automatically updates `mkdocs.yml` configuration
- Manages navigation structure with AutoDocs section
- Preserves existing static navigation items

## Important Functions

### File Processing Functions

```python
def collect_python_files(base: str) -> list
```
- **Purpose**: Recursively finds all Python files in the target directory
- **Filters out**: Test files and `__init__.py` files
- **Returns**: List of file paths for documentation generation

```python
def snake_md_path(rel_path: str) -> str
```
- **Purpose**: Converts file paths to snake_case Markdown filenames
- **Example**: `src/utils/helper.py` ‚Üí `src_utils_helper_py.md`

### Configuration Management

```python
def load_mkdocs_config(path: str) -> dict
```
- **Purpose**: Loads existing MkDocs configuration or creates default structure
- **Fallback**: Creates basic Material theme configuration if no config exists

```python
def write_mkdocs_config(path: str, static_nav, autodoc_items)
```
- **Purpose**: Updates MkDocs configuration with comprehensive theme settings
- **Features**: Material theme with dark/light mode, search, navigation enhancements

### Documentation Generation

```python
def write_index_md(nav_items)
```
- **Purpose**: Creates main documentation index page
- **Content**: Welcome message, AutoDocs links, timestamp
- **Additional**: Appends orphaned Markdown files in separate section

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Dependencies
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management  
- `pyyaml` - YAML configuration file handling

## Usage

### Command Line
```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

### Output Structure
```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ src_main_py.md             # Generated docs for src/main.py
‚îú‚îÄ‚îÄ utils_helper_py.md         # Generated docs for utils/helper.py
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è **Important Considerations**

- **API Costs**: Each file generates an API call to Claude - monitor usage for large codebases
- **Rate Limits**: Consider adding delays for projects with many files
- **File Size**: Large source files may hit token limits (current: 1500 max tokens)

### üîß **Potential Improvements**

1. **Error Handling**: Add retry logic for API failures
2. **Incremental Updates**: Only regenerate docs for modified files
3. **Configuration**: Make output directory and file filters configurable
4. **Batch Processing**: Group multiple small files in single API calls
5. **Progress Indicators**: Add progress bars for large projects

### üí° **Best Practices**

- Run after significant code changes to keep docs current
- Review generated documentation for accuracy
- Consider integrating into CI/CD pipelines for automatic updates
- Customize the MkDocs theme configuration to match project branding

This tool effectively bridges the gap between code development and documentation maintenance, making it easier to maintain comprehensive, up-to-date project documentation.