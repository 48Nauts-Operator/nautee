<!-- Auto-generated by Claude on 2025-05-31 21:34 -->

# Autodoc Generator

## Overview

The **Autodoc Generator** is a Python script that automatically generates technical documentation for Python projects using Claude AI. It scans a project directory for Python source files, generates Markdown documentation using the Anthropic Claude API, and integrates the documentation into a MkDocs-based documentation site.

## Purpose

This tool automates the documentation process by:
- Scanning Python source files in a project
- Using Claude AI to generate comprehensive Markdown documentation
- Organizing documentation files in a `docs/` directory
- Automatically updating `mkdocs.yml` configuration
- Creating a professional documentation site with Material theme

## Key Features

- **Automated scanning**: Recursively finds all Python files in a project
- **AI-powered documentation**: Uses Claude to generate detailed, readable documentation
- **MkDocs integration**: Automatically configures MkDocs with Material theme
- **Flexible configuration**: Supports custom target paths and maintains existing navigation
- **Professional styling**: Includes dark/light mode toggle and modern UI features

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import yaml
```

**Required packages:**
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `PyYAML` - YAML configuration file handling

## Configuration

### Environment Variables

The script requires the following environment variables (typically in a `.env` file):

- `ANTHROPIC_API_KEY` - Your Anthropic API key for Claude access
- `ANTHROPIC_MODEL` - Claude model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage

```bash
python autodoc_generator.py [target_path]
```

- `target_path` (optional): Directory to scan for Python files (defaults to current directory)

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or returns a default configuration structure if the file doesn't exist.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Extensive Markdown extensions (code highlighting, admonitions, etc.)
- Search functionality
- mkdocstrings plugin for Python documentation

### `collect_python_files(base: str)`
Recursively scans the target directory for Python files, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Workflow

1. **Setup**: Load environment variables and initialize Claude client
2. **Scan**: Find all Python files in the target directory
3. **Generate**: For each Python file:
   - Read source code
   - Send to Claude with documentation prompt
   - Save generated Markdown to `docs/` directory
4. **Configure**: Update `mkdocs.yml` with new documentation entries
5. **Index**: Create `index.md` if it doesn't exist

## Output Structure

```
docs/
├── index.md
├── module_name_py.md
├── another_module_py.md
└── ...
mkdocs.yml
```

## Notes and Suggestions

### ⚠️ Important Considerations

- **API Costs**: Each file generates an API call to Claude, which incurs costs
- **Rate Limits**: Large projects may hit API rate limits
- **File Exclusions**: Currently excludes test files and `__init__.py` - consider if this meets your needs

### 🔧 Potential Improvements

1. **Batch Processing**: Group multiple small files into single API calls to reduce costs
2. **Caching**: Implement file change detection to avoid regenerating unchanged documentation
3. **Error Handling**: Add more robust error handling for API failures
4. **Configuration**: Make file exclusion patterns configurable
5. **Progress Tracking**: Add progress bars for large projects

### 💡 Usage Tips

- Run the script from your project root directory
- Ensure your `.env` file contains valid Anthropic API credentials
- Review generated documentation before publishing
- Consider running on a subset of files first to test output quality

## Example Output

The script provides clear console feedback:

```
📂 Found 5 Python files.

✅ Documented: src/main.py → src_main_py.md
✅ Documented: utils/helpers.py → utils_helpers_py.md

🛠️ Updated mkdocs.yml with 2 AutoDocs entries.
```