<!-- Auto-generated by Claude on 2025-06-01 13:27 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and generates Markdown documentation using Claude AI from Anthropic. It creates a complete documentation site structure with MkDocs configuration and maintains an organized navigation system.

## Purpose

- **Automate documentation generation** for Python codebases
- **Leverage AI capabilities** of Claude to create comprehensive technical documentation
- **Integrate with MkDocs** for professional documentation sites
- **Maintain consistent documentation structure** across projects

## Key Features

- üîç **Automatic Python file discovery** (excludes test files and `__init__.py`)
- ü§ñ **AI-powered documentation generation** using Claude
- üìÅ **Organized output structure** in `docs/` directory
- üß≠ **Automatic MkDocs configuration** with Material theme
- üìä **Index generation** with navigation links
- ‚ö° **Error handling** for robust execution

## Setup Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Dependencies
- `anthropic` - Claude AI client
- `python-dotenv` - Environment variable loading
- `pyyaml` - YAML configuration handling

## Usage

```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
- **Purpose**: Recursively scans directory for Python files
- **Filters out**: Test files (`test_*`) and `__init__.py` files
- **Returns**: List of Python file paths

#### `snake_md_path(rel_path: str)`
- **Purpose**: Converts file paths to markdown filename format
- **Example**: `src/utils.py` ‚Üí `src_utils_py.md`

### Configuration Functions

#### `load_mkdocs_config(path: str)`
- **Purpose**: Loads existing MkDocs configuration or creates default
- **Returns**: Dictionary with MkDocs configuration structure

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- **Purpose**: Generates complete MkDocs configuration with Material theme
- **Features**:
  - Dark/light mode toggle
  - Code highlighting and copying
  - Search functionality
  - Navigation enhancements

### Documentation Functions

#### `write_index_md(nav_items)`
- **Purpose**: Creates main documentation index page
- **Includes**: Welcome message, navigation links, timestamp

#### `append_missing_docs_to_index(nav_items)`
- **Purpose**: Adds any orphaned markdown files to index
- **Ensures**: No documentation files are missed

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ src_main_py.md             # Generated documentation files
‚îú‚îÄ‚îÄ utils_helper_py.md
‚îî‚îÄ‚îÄ ...

mkdocs.yml                      # Updated MkDocs configuration
```

## AI Integration

The script uses Claude AI with a carefully crafted prompt:

```python
prompt = f"""You are a technical writer. Generate documentation in Markdown for the following Python file.

Explain what the file does, its purpose, important functions or classes, and give suggestions or notes as needed.

Use headings, bullet points, and code blocks to make it readable.

```python
{source_code}
```"""
```

## Configuration Features

### MkDocs Material Theme Configuration
- **Color schemes**: Dark and light mode support
- **Typography**: Roboto font family
- **Navigation**: Instant loading, tabs, search
- **Code features**: Syntax highlighting, copy buttons
- **Extensions**: Admonitions, footnotes, emoji support

## Error Handling

- ‚úÖ **Graceful failure**: Continues processing other files if one fails
- ‚úÖ **Missing files**: Creates directories and default configurations
- ‚úÖ **API errors**: Catches and reports Claude API issues
- ‚úÖ **File system errors**: Handles permission and path issues

## Suggestions and Notes

### üîß **Customization Options**
- Modify the AI prompt to focus on specific documentation aspects
- Adjust the Material theme configuration for your brand
- Add custom markdown extensions for specialized formatting

### üöÄ **Performance Considerations**
- Large codebases may hit API rate limits
- Consider batching requests for very large projects
- Cache generated documentation to avoid regeneration

### üõ°Ô∏è **Security Notes**
- Store API keys securely using environment variables
- Review generated documentation before publishing
- Consider code privacy when using external AI services

### üìà **Enhancement Ideas**
- Add support for other programming languages
- Implement incremental documentation updates
- Add integration with version control systems
- Include code complexity metrics in documentation