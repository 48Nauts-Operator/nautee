<!-- Auto-generated by Claude on 2025-06-21 23:19 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and generates comprehensive Markdown documentation using Claude AI from Anthropic. It creates a complete documentation site structure with MkDocs configuration and index files.

## Purpose

This tool automates the tedious process of writing technical documentation by:
- üîç **Scanning** Python files in a project directory
- ü§ñ **Generating** professional documentation using Claude AI
- üìÅ **Organizing** documentation into a structured format
- üîß **Configuring** MkDocs for immediate site deployment

## Key Features

- **AI-Powered Documentation**: Uses Claude AI to generate comprehensive, technical documentation
- **Automatic File Discovery**: Recursively scans directories for Python files
- **MkDocs Integration**: Generates complete MkDocs configuration with Material theme
- **Index Generation**: Creates organized index pages with navigation links
- **Flexible Configuration**: Supports custom target directories and model selection

## Prerequisites

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Required Dependencies
```python
anthropic
python-dotenv
pyyaml
```

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Target Specific Directory
```bash
python autodoc.py /path/to/your/project
```

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
- **Input**: `src/utils/helper.py`
- **Output**: `src_utils_helper_py.md`

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one.
- Preserves existing navigation structure
- Adds default Material theme configuration if no config exists

### `write_index_md(nav_items)`
Generates the main documentation index page.
- Creates welcome message and navigation links
- Includes timestamp of last generation
- Uses emojis for visual appeal

### `collect_python_files(base: str)`
Discovers Python files for documentation generation.
- **Excludes**: Test files (`test_*.py`), `__init__.py` files
- **Includes**: All other `.py` files recursively

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates comprehensive MkDocs configuration with:
- **Material Theme**: Dark/light mode toggle, custom colors
- **Advanced Features**: Search, navigation tabs, code highlighting
- **Extensions**: Admonition, syntax highlighting, emojis
- **Plugins**: Search and mkdocstrings for API documentation

## Generated File Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ filename_py.md             # Generated docs for each Python file
‚îú‚îÄ‚îÄ another_module_py.md       # Snake_case naming convention
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Complete MkDocs configuration
```

## AI Documentation Process

For each Python file, the script:

1. **Reads** the source code
2. **Sends** to Claude AI with a technical writing prompt
3. **Receives** structured Markdown documentation
4. **Saves** with metadata header including generation timestamp

### Example AI Prompt Structure
```
You are a technical writer. Generate documentation in Markdown for the following Python file.

Explain what the file does, its purpose, important functions or classes, and give suggestions or notes as needed.

Use headings, bullet points, and code blocks to make it readable.
```

## MkDocs Configuration Features

The generated `mkdocs.yml` includes:

### Theme Configuration
- **Material Design** with professional styling
- **Dual Mode**: Automatic dark/light theme switching
- **Typography**: Roboto font family for consistency
- **Navigation**: Instant loading, tabbed interface

### Markdown Extensions
- **Code Highlighting**: Syntax highlighting with line numbers
- **Admonitions**: Warning, note, and tip boxes
- **Task Lists**: Interactive checkboxes
- **Emojis**: Material Design emoji support

### Advanced Features
- **Search**: Full-text search capabilities
- **API Documentation**: mkdocstrings integration for Python APIs
- **Code Copying**: One-click code block copying

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider implementing delays for projects with many files
- **File Size**: Large Python files may exceed token limits (current: 1500 max tokens)

### üîß Customization Options

- **Model Selection**: Change `ANTHROPIC_MODEL` environment variable for different Claude models
- **Output Directory**: Modify `output_dir` variable to change documentation location
- **File Filtering**: Adjust `collect_python_files()` to include/exclude specific file types

### üöÄ Enhancement Opportunities

- **Batch Processing**: Process multiple files in single API calls
- **Incremental Updates**: Only regenerate documentation for changed files
- **Custom Prompts**: Allow file-specific documentation prompts
- **Integration**: Add CI/CD pipeline integration for automatic updates

### üí° Best Practices

- Run in project root directory for optimal file discovery
- Ensure `.env` file is properly configured before execution
- Review generated documentation for accuracy and completeness
- Consider version control for generated documentation files

## Error Handling

The script includes robust error handling:
- **File Access**: Gracefully handles unreadable files
- **API Errors**: Continues processing other files if one fails
- **Configuration**: Creates default configs when none exist
- **Directory Creation**: Automatically creates output directories