<!-- Auto-generated by Claude on 2025-06-22 16:23 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-15 10:30 -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. It integrates with MkDocs to create a complete documentation website with proper navigation and styling.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual effort
- **MkDocs Integration**: Updates `mkdocs.yml` configuration and creates navigation structure
- **AI-Powered**: Leverages Claude AI to analyze code and generate human-readable documentation
- **Project Scanning**: Recursively finds and processes Python files in a target directory

## Key Features

- üîç **Smart File Discovery**: Automatically finds Python files while excluding test files and `__init__.py`
- ü§ñ **AI Documentation**: Uses Claude to generate detailed, technical documentation
- üìö **MkDocs Integration**: Creates and updates MkDocs configuration with Material theme
- üóÇÔ∏è **Index Generation**: Automatically generates an index page with links to all documentation
- ‚öôÔ∏è **Configuration Management**: Preserves existing navigation while adding new AutoDocs section

## Important Functions

### File Processing Functions

```python
def snake_md_path(rel_path: str) -> str
```
- Converts file paths to snake_case Markdown filenames
- Replaces `/` and `.` with `_` for consistent naming

```python
def collect_python_files(base: str)
```
- Recursively scans directory for Python files
- Filters out test files and `__init__.py` files
- Returns list of absolute file paths

### Configuration Management

```python
def load_mkdocs_config(path: str)
```
- Loads existing MkDocs YAML configuration
- Provides default configuration if none exists
- Uses Material theme with comprehensive feature set

```python
def write_mkdocs_config(path: str, static_nav, autodoc_items)
```
- Writes complete MkDocs configuration with enhanced Material theme
- Includes advanced features like syntax highlighting, search, and dark/light mode
- Preserves existing navigation structure

### Documentation Generation

```python
def write_index_md(nav_items)
```
- Creates main index page with links to all generated documentation
- Includes timestamp and welcome message
- Organizes content with clear headings and navigation

## Configuration

### Environment Variables

- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage

```bash
python autodoc.py [target_directory]
```

- `target_directory`: Optional path to scan (defaults to current directory)

### Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ filename_py.md             # Generated docs for filename.py
‚îî‚îÄ‚îÄ subdirectory_filename_py.md # Docs for files in subdirectories
mkdocs.yml                     # Updated MkDocs configuration
```

## MkDocs Theme Configuration

The script configures MkDocs with the Material theme including:

- **Dark/Light Mode Toggle**: Automatic theme switching
- **Enhanced Navigation**: Instant loading, tabs, and top navigation
- **Code Features**: Syntax highlighting, copy buttons, and line numbers
- **Search**: Advanced search with suggestions and highlighting
- **Markdown Extensions**: Support for admonitions, emoji, task lists, and more

## Error Handling

- **File Access Errors**: Continues processing other files if one fails
- **API Errors**: Reports Claude API issues while maintaining script execution
- **Missing Dependencies**: Uses environment variables with fallback defaults

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file processed makes an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider adding delays between API calls for large codebases
- **File Size**: Very large Python files may exceed Claude's token limits

### üöÄ Potential Improvements

- Add support for custom documentation templates
- Implement incremental updates (only process changed files)
- Add configuration file for customizing documentation style
- Include support for other file types beyond Python

### üí° Usage Tips

- Run regularly as part of CI/CD pipeline for up-to-date documentation
- Review generated documentation for accuracy and completeness
- Customize the MkDocs theme configuration based on project needs
- Use `.env` file to securely store API credentials

## Dependencies

- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management
- `PyYAML`: YAML configuration file handling