<!-- Auto-generated by Claude on 2025-06-07 22:18 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-19 13:45 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs to create a complete documentation site with proper navigation and styling.

## Purpose

This tool automates the tedious process of writing technical documentation by:
- **Scanning** Python files in a project directory
- **Generating** detailed Markdown documentation using Claude AI
- **Organizing** documentation files in a structured format
- **Updating** MkDocs configuration for seamless site generation
- **Creating** a centralized index page with navigation links

## Key Features

- ü§ñ **AI-Powered Documentation**: Uses Claude AI to generate comprehensive technical documentation
- üìÅ **Automatic File Discovery**: Recursively scans directories for Python files
- üé® **MkDocs Integration**: Automatically configures Material theme with dark/light mode
- üìã **Index Generation**: Creates organized navigation and missing file detection
- ‚öôÔ∏è **Configurable**: Supports environment variables for API keys and model selection

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively finds Python files in the target directory
- Excludes test files and `__init__.py` files
- Returns list of absolute file paths

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts file paths to snake_case Markdown filenames
- Ensures consistent naming convention for generated docs

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs YAML configuration
- Returns default configuration if file doesn't exist
- Preserves existing navigation structure

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Generates comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and navigation
- Combines existing navigation with auto-generated documentation links

### Documentation Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation files
- Includes timestamp and branding

#### `append_missing_docs_to_index(nav_items)`
- Scans for orphaned Markdown files not in navigation
- Adds them to a separate section in the index
- Ensures no documentation is overlooked

## Configuration

### Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `ANTHROPIC_API_KEY` | Claude AI API key (required) | None |
| `ANTHROPIC_MODEL` | Claude model to use | `claude-sonnet-4-20250514` |

### Command Line Usage

```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

## Generated File Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îú‚îÄ‚îÄ utils_helper_py.md         # Snake case naming convention
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## MkDocs Theme Features

The script configures MkDocs with:
- **Material Design** theme with dark/light mode toggle
- **Code highlighting** with line numbers and copy functionality
- **Advanced navigation** with instant loading and tabs
- **Search functionality** with suggestions and highlighting
- **Markdown extensions** for enhanced formatting

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider adding delays between API calls for very large codebases
- **File Filtering**: Currently excludes test files and `__init__.py` - modify `collect_python_files()` if needed

### üîß Potential Improvements

1. **Batch Processing**: Group smaller files into single API calls to reduce costs
2. **Caching**: Implement file change detection to avoid regenerating unchanged documentation
3. **Error Handling**: Add retry logic for API failures
4. **Configuration File**: Support for external configuration files instead of hardcoded settings
5. **Template Customization**: Allow custom documentation templates for different file types

### üí° Usage Tips

- Run the script from your project root directory
- Ensure your `.env` file contains the required `ANTHROPIC_API_KEY`
- Review generated documentation before publishing
- Consider running on a schedule or as part of your CI/CD pipeline

The autodoc generator streamlines the documentation process while maintaining high quality through AI assistance, making it an excellent tool for maintaining up-to-date project documentation.