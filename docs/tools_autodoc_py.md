<!-- Auto-generated by Claude on 2025-06-02 04:30 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

This Python script is an **automated documentation generator** that scans a project for Python source files and creates comprehensive Markdown documentation using Anthropic's Claude AI. It's designed to streamline the documentation process by automatically generating technical documentation and integrating it into a MkDocs-based documentation site.

## Purpose

The script serves as a documentation automation tool that:

- Scans directories for Python files
- Generates detailed Markdown documentation using Claude AI
- Organizes documentation files in a structured format
- Updates MkDocs configuration automatically
- Creates a comprehensive documentation index

## Key Features

### 🔍 **Automated File Discovery**
- Recursively scans project directories for Python files
- Filters out test files and `__init__.py` files
- Processes multiple files in batch

### 🤖 **AI-Powered Documentation Generation**
- Uses Anthropic's Claude AI to generate technical documentation
- Creates structured Markdown with headings, bullet points, and code blocks
- Provides explanations of functions, classes, and file purposes

### 📁 **Documentation Organization**
- Converts file paths to snake_case Markdown filenames
- Maintains organized directory structure in `docs/` folder
- Creates comprehensive index pages

### ⚙️ **MkDocs Integration**
- Automatically updates `mkdocs.yml` configuration
- Configures Material theme with dark/light mode support
- Includes advanced features like code highlighting and search

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to documentation-friendly filenames:
```python
# Example: "src/utils/helper.py" → "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one:
- Returns existing YAML configuration
- Provides fallback default configuration
- Maintains existing navigation structure

### `write_index_md(nav_items)`
Creates the main documentation index:
- Generates welcome page with project overview
- Lists all auto-generated documentation
- Includes timestamp for last update

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Updates MkDocs configuration with comprehensive settings:
- **Theme**: Material theme with dual color schemes
- **Extensions**: Code highlighting, admonitions, task lists
- **Plugins**: Search functionality and mkdocstrings
- **Navigation**: Combines static and auto-generated sections

### `collect_python_files(base: str)`
Discovers Python files for documentation:
- Recursive directory traversal
- Filters out test files and `__init__.py`
- Returns list of file paths for processing

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Dependencies
- `anthropic` - AI API client
- `python-dotenv` - Environment variable loading
- `pyyaml` - YAML configuration handling

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Specify Target Directory
```bash
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
├── index.md                    # Main documentation index
├── module_name_py.md          # Generated documentation files
├── utils_helper_py.md
└── ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### ⚠️ **Important Considerations**

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **File Overwrites**: Existing documentation files will be overwritten on each run
- **Rate Limits**: Consider adding delays between API calls for large projects

### 🔧 **Potential Improvements**

1. **Incremental Updates**: Add file modification time checking to avoid re-processing unchanged files
2. **Error Handling**: Implement retry logic for API failures
3. **Configuration**: Make documentation templates customizable
4. **Parallel Processing**: Add concurrent file processing for better performance
5. **Filtering Options**: Add command-line options to include/exclude specific directories or files

### 💡 **Best Practices**

- Run the script from your project root directory
- Ensure your Python files have clear docstrings for better AI-generated documentation
- Review generated documentation before publishing
- Keep the `.env` file secure and never commit API keys to version control

## Example Output

The script provides clear progress feedback:
```
👁 autodoc.py is executing from: /path/to/autodoc.py
📂 Found 15 Python files.

✅ Documented: src/main.py → src_main_py.md
✅ Documented: utils/helper.py → utils_helper_py.md
...
💾 Writing updated mkdocs.yml...
📝 Writing index.md with AutoDocs entries...
```

This tool significantly reduces the manual effort required for maintaining project documentation while ensuring consistency and comprehensiveness across all Python modules.