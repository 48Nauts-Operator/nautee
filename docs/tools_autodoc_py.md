<!-- Auto-generated by Claude on 2025-06-08 08:24 -->

# Autodoc Generator

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. It integrates with MkDocs to provide a complete documentation site with Material theme.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to analyze code and create human-readable documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration and navigation
- **Documentation Portal**: Creates a centralized index of all generated documentation

## Key Features

- üîç **Python File Discovery**: Automatically finds and processes Python source files
- ü§ñ **AI Documentation**: Leverages Claude to generate comprehensive Markdown docs
- üìö **MkDocs Integration**: Updates `mkdocs.yml` configuration automatically
- üé® **Material Theme**: Configures modern Material Design theme with dark/light mode
- üìù **Index Generation**: Creates organized documentation index with timestamps

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively scans directory for Python files
- Excludes test files and `__init__.py` files
- Returns list of file paths for documentation

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts file paths to markdown filename format
- Replaces path separators and dots with underscores

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration from YAML file
- Returns default configuration if file doesn't exist
- Preserves existing navigation structure

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Writes comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and navigation
- Merges static navigation with auto-generated documentation links

### Documentation Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation files
- Includes timestamps for tracking updates

#### `append_missing_docs_to_index(nav_items)`
- Scans for additional markdown files not in main navigation
- Ensures all documentation is accessible from index

## Configuration

### Environment Variables

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Directory Structure

```
project/
‚îú‚îÄ‚îÄ autodoc.py
‚îú‚îÄ‚îÄ mkdocs.yml          # Generated/updated automatically
‚îú‚îÄ‚îÄ docs/               # Generated documentation
‚îÇ   ‚îú‚îÄ‚îÄ index.md        # Auto-generated index
‚îÇ   ‚îî‚îÄ‚îÄ *.md           # Individual file documentation
‚îî‚îÄ‚îÄ your_python_files.py
```

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Specify Target Directory
```bash
python autodoc.py /path/to/your/project
```

## MkDocs Theme Configuration

The script configures a comprehensive Material theme with:

- **Color Schemes**: Dark and light mode toggle
- **Navigation Features**: Instant loading, tabs, top navigation
- **Code Features**: Syntax highlighting, copy buttons, line numbers
- **Search**: Advanced search with suggestions and highlighting
- **Extensions**: Admonitions, task lists, emoji support, and more

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider implementing delays for projects with many files
- **File Size**: Large Python files may exceed token limits (current max: 1500 tokens)

### üîß Potential Improvements

1. **Batch Processing**: Group smaller files to reduce API calls
2. **Caching**: Skip regeneration if source files haven't changed
3. **Error Handling**: More robust handling of API failures
4. **Configuration**: Make prompt templates configurable
5. **Filtering**: Add options to exclude specific directories or file patterns

### üí° Best Practices

- Run during CI/CD pipeline for automatic documentation updates
- Review generated documentation for accuracy before publishing
- Keep API keys secure using environment variables
- Regular monitoring of documentation quality and completeness

## Dependencies

```python
anthropic      # Claude AI API client
python-dotenv  # Environment variable management  
pyyaml        # YAML configuration file handling
```

The script creates a complete documentation ecosystem that stays synchronized with your codebase automatically.