<!-- Auto-generated by Claude on 2025-06-02 08:28 -->

# Autodoc Generator Documentation

## Overview

The **Autodoc Generator** (`autodoc.py`) is a Python automation tool that scans a project for Python source files and generates comprehensive Markdown documentation using Claude AI from Anthropic. The tool automatically creates a documentation website structure compatible with MkDocs.

## Purpose

This script serves as an automated documentation pipeline that:
- Discovers Python files in a project directory
- Generates technical documentation using AI (Claude)
- Creates a structured documentation site with MkDocs configuration
- Maintains an organized navigation system for easy browsing

## Key Features

- **üîç Automatic Python file discovery** - Recursively scans directories for `.py` files
- **ü§ñ AI-powered documentation** - Uses Claude to generate comprehensive technical docs
- **üìö MkDocs integration** - Creates and maintains `mkdocs.yml` configuration
- **üß≠ Smart navigation** - Automatically updates site navigation structure
- **‚è∞ Timestamping** - Tracks when documentation was last generated

## Important Functions

### File Discovery

```python
def collect_python_files(base: str) -> list:
```
- Recursively walks through the target directory
- Filters for `.py` files while excluding test files and `__init__.py`
- Returns list of Python file paths for documentation

### Documentation Generation

The script uses the Anthropic Claude API to generate documentation:

```python
prompt = f"""You are a technical writer. Generate documentation in Markdown for the following Python file.

Explain what the file does, its purpose, important functions or classes, and give suggestions or notes as needed.

Use headings, bullet points, and code blocks to make it readable.

```python
{source_code}
```"""
```

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration or creates default structure
- Preserves existing navigation items while adding new auto-generated docs

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Creates comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and navigation enhancements

### Index Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation with links

#### `append_missing_docs_to_index(nav_items)`
- Discovers and includes any additional Markdown files not in main navigation

## Configuration

### Environment Variables

The script requires the following environment variables:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Usage

```bash
# Document current directory
python autodoc.py

# Document specific directory
python autodoc.py /path/to/project
```

## Output Structure

The script generates the following structure:

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ filename_py.md             # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # MkDocs configuration file
```

## MkDocs Theme Configuration

The generated `mkdocs.yml` includes:

- **Material Design theme** with dark/light mode toggle
- **Advanced navigation** with instant loading and tabs
- **Code highlighting** with line numbers and copy functionality
- **Search capabilities** with suggestions and highlighting
- **Markdown extensions** for enhanced formatting

## Notes and Suggestions

### ‚ö†Ô∏è Prerequisites
- Requires `anthropic`, `python-dotenv`, and `pyyaml` packages
- Needs valid Anthropic API key with sufficient credits
- Python 3.6+ recommended

### üîß Customization Options
- Modify the AI prompt to change documentation style
- Adjust file filtering logic in `collect_python_files()`
- Customize MkDocs theme settings in `write_mkdocs_config()`

### üìà Potential Improvements
- Add support for other file types (JavaScript, TypeScript, etc.)
- Implement incremental updates (only process changed files)
- Add configuration file for customizing behavior
- Include error recovery and retry logic for API calls

### üöÄ Best Practices
- Run regularly as part of CI/CD pipeline
- Review generated documentation for accuracy
- Keep API key secure and rotate periodically
- Monitor API usage to avoid rate limits

## Error Handling

The script includes basic error handling:
- Gracefully handles missing Python files
- Continues processing if individual files fail
- Provides clear status messages and error reporting