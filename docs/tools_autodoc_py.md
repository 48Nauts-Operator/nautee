<!-- Auto-generated by Claude on 2025-06-23 08:29 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 15:30 -->

## Overview

**autodoc.py** is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. The script integrates with MkDocs to create a complete documentation website with proper navigation and theming.

## Purpose

This tool serves to:
- **Automate documentation generation** for Python codebases
- **Maintain up-to-date documentation** by scanning source files
- **Create MkDocs-compatible documentation** with proper structure
- **Generate an index page** linking all documentation files
- **Configure MkDocs** with Material theme and advanced features

## Key Features

### üîç File Discovery
- Recursively scans directories for Python files
- Excludes test files (`test_*.py`) and `__init__.py` files
- Processes multiple files in batch

### ü§ñ AI-Powered Documentation
- Uses Claude AI to generate comprehensive documentation
- Creates structured Markdown with headings, code blocks, and explanations
- Maintains consistent documentation style across all files

### üìö MkDocs Integration
- Automatically updates `mkdocs.yml` configuration
- Generates navigation structure
- Applies Material theme with dark/light mode toggle

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one if none exists.

### `write_index_md(nav_items)`
Generates the main index page with:
- Welcome message
- Links to all auto-generated documentation
- Timestamp of last update

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Creates a comprehensive MkDocs configuration with:
- **Material theme** with custom color scheme
- **Advanced features** like search, code highlighting, navigation tabs
- **Markdown extensions** for enhanced formatting
- **Plugin support** including mkdocstrings for API docs

### `collect_python_files(base: str)`
Recursively finds all relevant Python files in the target directory.

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- If no directory specified, uses current directory (`.`)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main index page
‚îú‚îÄ‚îÄ module1_py.md              # Generated docs for module1.py
‚îú‚îÄ‚îÄ package_module2_py.md      # Generated docs for package/module2.py
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Workflow

1. **Setup**: Load environment variables and initialize Claude client
2. **Discovery**: Scan target directory for Python files
3. **Generation**: For each file:
   - Read source code
   - Send to Claude AI for documentation generation
   - Write Markdown output to `docs/` directory
4. **Integration**: Update MkDocs configuration and navigation
5. **Indexing**: Generate comprehensive index page

## Notes and Suggestions

### ‚úÖ Strengths
- **Comprehensive automation** of documentation workflow
- **Professional theming** with Material Design
- **Flexible configuration** that preserves existing nav items
- **Error handling** for individual file processing failures

### ‚ö†Ô∏è Considerations
- **API costs**: Each file requires a Claude API call
- **Rate limiting**: May need throttling for large codebases
- **API key security**: Ensure `.env` file is in `.gitignore`
- **Token limits**: Large files may exceed Claude's context window

### üîß Potential Improvements
- Add **batch processing** to reduce API calls
- Implement **caching** to avoid re-documenting unchanged files
- Add **configuration file** for customizing documentation templates
- Include **progress bars** for long-running operations
- Add **validation** for generated Markdown quality

### üöÄ Usage Tips
- Run regularly in CI/CD pipelines to keep docs current
- Consider using with git hooks for automatic updates
- Review generated documentation for accuracy before publishing
- Customize the MkDocs theme colors and features as needed