<!-- Auto-generated by Claude on 2025-06-22 23:19 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 15:30 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The script integrates with MkDocs to create a complete documentation portal with proper navigation and theming.

## Purpose

- **Automated Documentation**: Generates technical documentation from Python source code without manual intervention
- **AI-Powered Analysis**: Uses Claude (Anthropic) to analyze code and create human-readable documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration and navigation structure
- **Portal Generation**: Creates a unified documentation portal with index pages and cross-references

## Key Features

### 🔍 **Intelligent File Discovery**
- Recursively scans directories for Python files
- Filters out test files and `__init__.py` files
- Processes multiple files in batch

### 🤖 **AI Documentation Generation**
- Integrates with Claude API for natural language documentation
- Generates structured Markdown with headings, code blocks, and explanations
- Provides context-aware analysis of functions and classes

### 📚 **Documentation Portal Management**
- Automatically generates and updates `index.md`
- Maintains MkDocs navigation structure
- Preserves existing manual documentation alongside auto-generated content

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
```python
# Example: "src/utils/helper.py" → "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration
- Returns default configuration if none exists
- Preserves manual navigation entries

### `write_index_md(nav_items)`
- Creates the main documentation index page
- Lists all auto-generated documentation
- Includes timestamp and portal branding

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a complete MkDocs configuration with:
- **Material theme** with dark/light mode toggle
- **Advanced features**: Code copying, search, navigation enhancements
- **Markdown extensions**: Syntax highlighting, admonitions, emoji support
- **Plugin integration**: Search and mkdocstrings for Python API docs

### `collect_python_files(base: str)`
- Recursively discovers Python source files
- Excludes test files and package initialization files
- Returns list of absolute file paths

## Configuration

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to Claude Sonnet
```

### Command Line Usage
```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific directory
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
├── index.md                    # Main portal page
├── module_name_py.md          # Generated documentation files
├── utils_helper_py.md
└── ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### ✅ **Strengths**
- **Comprehensive Integration**: Handles the entire documentation pipeline from generation to portal creation
- **Preservation of Manual Content**: Maintains existing documentation alongside auto-generated content
- **Professional Theming**: Creates publication-ready documentation with modern UI
- **Error Handling**: Continues processing even if individual files fail

### ⚠️ **Considerations**
- **API Costs**: Each file requires a Claude API call - monitor usage for large projects
- **Rate Limiting**: Consider adding delays between API calls for large codebases
- **File Overwrites**: Auto-generated files are completely rewritten on each run

### 🔧 **Potential Improvements**
- Add configuration file support for customizing documentation templates
- Implement incremental updates (only regenerate changed files)
- Add support for other AI providers as fallbacks
- Consider adding dry-run mode for testing

### 📋 **Dependencies**
```python
anthropic>=0.3.0
python-dotenv>=0.19.0
PyYAML>=6.0
```

This tool is ideal for maintaining up-to-date documentation in rapidly evolving Python projects where manual documentation maintenance becomes challenging.