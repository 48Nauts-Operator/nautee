<!-- Auto-generated by Claude on 2025-06-08 06:28 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

**autodoc.py** is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. The script integrates with MkDocs to provide a complete documentation website solution.

## Purpose

This tool serves to:
- **Automate documentation generation** for Python projects
- **Maintain up-to-date documentation** without manual intervention
- **Generate structured Markdown files** from Python source code
- **Integrate with MkDocs** for professional documentation websites
- **Provide a centralized documentation index**

## Key Features

- üîç **Automatic Python file discovery** (excludes test files and `__init__.py`)
- ü§ñ **AI-powered documentation generation** using Claude
- üìÅ **Organized output structure** with snake_case naming
- üß≠ **MkDocs integration** with automatic navigation updates
- üìù **Index generation** with links to all documentation
- ‚öôÔ∏è **Material theme configuration** with dark/light mode support

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively scans directories for Python files
- Filters out test files and `__init__.py` files
- Returns list of absolute file paths

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts file paths to snake_case Markdown filenames
- Ensures unique, filesystem-safe documentation file names

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration or creates default structure
- Handles missing configuration files gracefully
- Returns dictionary with site configuration

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Generates comprehensive MkDocs configuration
- Includes Material theme with dark/light mode toggle
- Configures markdown extensions and plugins
- Preserves existing navigation while adding AutoDocs section

### Documentation Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation files
- Includes timestamp for last update tracking

#### `append_missing_docs_to_index(nav_items)`
- Discovers and links to orphaned Markdown files
- Ensures comprehensive documentation coverage
- Prevents documentation files from being overlooked

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

### Dependencies
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration file handling

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Custom Target Directory
```bash
python autodoc.py /path/to/your/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated documentation files
‚îú‚îÄ‚îÄ utils_helper_py.md
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated MkDocs configuration
```

## Suggestions and Notes

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **File Filtering**: Currently excludes test files and `__init__.py` - modify `collect_python_files()` if different behavior is needed
- **Error Handling**: Individual file processing errors won't stop the entire process

### üîß Potential Improvements

1. **Batch Processing**: Consider batching multiple small files into single API calls
2. **Caching**: Implement file modification time checking to avoid regenerating unchanged files
3. **Configuration**: Make file filtering patterns configurable via command line or config file
4. **Rate Limiting**: Add delays between API calls for large projects

### üí° Best Practices

- Run regularly in CI/CD pipelines to maintain current documentation
- Review generated documentation for accuracy and completeness
- Consider using `.env` file for secure API key management
- Backup existing documentation before running on established projects

### üöÄ Integration Tips

- Add to pre-commit hooks for automatic documentation updates
- Include in GitHub Actions for documentation deployment
- Use with MkDocs Material theme for professional appearance
- Consider adding custom CSS for project-specific branding