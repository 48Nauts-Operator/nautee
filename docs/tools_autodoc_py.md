<!-- Auto-generated by Claude on 2025-06-01 09:28 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2025-01-02 10:30 -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. It integrates seamlessly with MkDocs to build a complete documentation site.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **MkDocs Integration**: Creates and maintains `mkdocs.yml` configuration with proper navigation structure
- **AI-Powered Analysis**: Uses Claude AI to analyze code and generate human-readable documentation
- **Project Organization**: Organizes documentation files and creates a comprehensive index

## Key Features

### üîç File Discovery
- Recursively scans directories for Python files
- Filters out test files (`test_*.py`) and `__init__.py` files
- Processes only relevant source code files

### ü§ñ AI Documentation Generation
- Uses Anthropic's Claude API to analyze Python source code
- Generates structured Markdown documentation with:
  - File purpose and overview
  - Function and class descriptions
  - Usage examples and suggestions
  - Proper formatting with headings and code blocks

### üìö MkDocs Integration
- Creates/updates `mkdocs.yml` with Material theme configuration
- Maintains navigation structure with AutoDocs section
- Preserves existing manual documentation entries

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts Python file paths to Markdown filename format by replacing slashes and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure with Material theme settings.

### `write_index_md(nav_items)`
Creates a comprehensive documentation index page with:
- Welcome message and overview
- Links to all generated documentation
- Timestamp of last update

### `collect_python_files(base: str)`
Recursively discovers Python source files while excluding:
- Test files (`test_*.py`)
- Init files (`__init__.py`)
- Hidden directories

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a complete MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions
- Search functionality
- Code highlighting and syntax features

## Configuration Requirements

### Environment Variables
```bash
# Required: Anthropic API key
ANTHROPIC_API_KEY=your_api_key_here

# Optional: Model specification (defaults to claude-sonnet-4-20250514)
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Dependencies
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration handling

## Usage

### Basic Usage
```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

### Output Structure
```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îú‚îÄ‚îÄ utils_helper_py.md
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Suggestions and Notes

### ‚úÖ Best Practices
- **API Key Security**: Store your Anthropic API key in a `.env` file, never commit it to version control
- **Regular Updates**: Run the script regularly to keep documentation synchronized with code changes
- **Review Generated Docs**: While AI-generated, review the output for accuracy and completeness

### ‚ö†Ô∏è Important Considerations
- **API Costs**: Each file processed makes an API call to Claude - monitor usage for large projects
- **File Overwrites**: Generated documentation files are overwritten on each run
- **Manual Documentation**: The script preserves existing manual entries in `mkdocs.yml` navigation

### üîß Customization Options
- Modify the Claude prompt in the generation loop for different documentation styles
- Adjust the MkDocs theme configuration in `write_mkdocs_config()`
- Add file filtering logic in `collect_python_files()` for project-specific needs

### üöÄ Integration Tips
- Set up as a pre-commit hook for automatic documentation updates
- Integrate with CI/CD pipelines for automated documentation deployment
- Combine with GitHub Actions for seamless documentation publishing

## Error Handling

The script includes robust error handling:
- Graceful failures for individual file processing
- Continues execution even if some files fail to process
- Provides clear error messages and status updates throughout execution