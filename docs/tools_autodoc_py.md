<!-- Auto-generated by Claude on 2025-06-22 04:31 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-28 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The script integrates with MkDocs to create a complete documentation site with proper navigation and styling.

## Purpose

This tool automates the tedious process of writing technical documentation by:
- üîç Scanning project directories for Python files
- ü§ñ Using Claude AI to generate high-quality Markdown documentation
- üìö Creating a structured MkDocs site with navigation
- üé® Applying Material theme with dark/light mode support
- üìù Maintaining an organized documentation index

## Key Features

### Core Functionality
- **Automated Python file discovery** - Recursively finds `.py` files while excluding tests and `__init__.py`
- **AI-powered documentation** - Leverages Claude to analyze code and generate comprehensive docs
- **MkDocs integration** - Creates/updates `mkdocs.yml` with proper navigation structure
- **Index management** - Generates and maintains a central documentation index

### Configuration
- **Environment-based setup** - Uses `.env` file for API keys and model selection
- **Flexible targeting** - Accepts command-line arguments to specify source directories
- **Timestamp tracking** - Records when documentation was last generated

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames for consistent naming.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one with Material theme.

### `write_index_md(nav_items)`
Generates the main documentation index page with:
- Welcome message
- Links to all auto-generated docs
- Timestamp of last update

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Creates a comprehensive MkDocs configuration featuring:
- **Material theme** with dark/light mode toggle
- **Enhanced features**: navigation tabs, search, code highlighting
- **Markdown extensions**: admonitions, syntax highlighting, emojis
- **Plugin support**: search and mkdocstrings for API docs

### `collect_python_files(base: str)`
Recursively discovers Python files while filtering out:
- Test files (`test_*.py`)
- Init files (`__init__.py`)
- Non-Python files

## Workflow

1. **üîß Setup Phase**
   - Load environment variables
   - Initialize Claude client
   - Create output directory structure

2. **üìÇ Discovery Phase**
   - Scan target directory for Python files
   - Filter and collect valid source files

3. **ü§ñ Generation Phase**
   - For each Python file:
     - Read source code
     - Send to Claude with documentation prompt
     - Generate Markdown output
     - Save to `docs/` directory

4. **üß≠ Integration Phase**
   - Update MkDocs navigation
   - Preserve existing manual documentation
   - Generate comprehensive index

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to latest
```

### Dependencies
- `anthropic` - Claude AI client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration handling

## Usage Examples

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific project
python autodoc.py /path/to/your/project

# Output will be in ./docs/ directory
```

## Suggestions and Notes

### ‚úÖ Best Practices
- **Run regularly** - Set up as part of CI/CD pipeline for always-current docs
- **Review generated content** - While Claude is excellent, human review ensures accuracy
- **Backup manual docs** - The script preserves existing navigation items

### ‚ö†Ô∏è Considerations
- **API costs** - Monitor Claude usage, especially for large codebases
- **File exclusions** - Consider adding more intelligent filtering for generated/vendor code
- **Rate limiting** - Add delays between API calls for very large projects

### üöÄ Enhancement Opportunities
- Add support for other file types (JavaScript, TypeScript, etc.)
- Implement incremental updates (only process changed files)
- Add configuration file for custom prompts and exclusion patterns
- Include code quality metrics in generated documentation

This tool significantly reduces the documentation burden while maintaining high-quality, consistent technical documentation across your entire codebase.