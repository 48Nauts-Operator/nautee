<!-- Auto-generated by Claude on 2025-06-23 05:22 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. The generated documentation is organized into a structured documentation site using MkDocs.

## Purpose

This tool automates the tedious process of writing technical documentation by:

- **Scanning** Python files in a project directory
- **Generating** detailed Markdown documentation using AI
- **Organizing** the documentation into a searchable site structure
- **Maintaining** configuration files for MkDocs documentation sites

## Key Features

- 🤖 **AI-Powered Documentation**: Uses Claude AI to generate comprehensive technical documentation
- 📁 **Automatic File Discovery**: Recursively scans directories for Python files
- 🎯 **Smart Filtering**: Excludes test files and `__init__.py` files
- 📝 **MkDocs Integration**: Automatically updates MkDocs configuration and navigation
- 🎨 **Material Theme**: Preconfigured with Material Design theme and advanced features

## Important Functions

### Core Functions

#### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" → "src_utils_helper_py.md"
```

#### `collect_python_files(base: str)`
Recursively scans the target directory for Python files, filtering out:
- Test files (starting with `test_`)
- `__init__.py` files

#### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default configuration structure.

### Documentation Management

#### `write_index_md(nav_items)`
Creates a comprehensive index page listing all generated documentation with:
- Welcome message
- AutoDocs section with generated files
- Timestamp for last update

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a complete MkDocs configuration with:
- **Material Theme**: Dark/light mode toggle
- **Advanced Features**: Code copying, search, navigation enhancements
- **Markdown Extensions**: Syntax highlighting, admonitions, emojis
- **Navigation Structure**: Preserves existing nav items and adds AutoDocs section

## Configuration

### Environment Variables

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

### Command Line Usage

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific directory
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
├── index.md                    # Main index with links to all docs
├── module_name_py.md          # Generated documentation files
├── utils_helper_py.md
└── ...

mkdocs.yml                     # Updated MkDocs configuration
```

## Dependencies

- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration file handling

## Notes and Suggestions

### 🚨 Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider adding delays between requests for large codebases
- **File Size**: Large Python files may exceed token limits (currently set to 1500 max tokens)

### 💡 Potential Improvements

1. **Batch Processing**: Group smaller files into single API calls
2. **Incremental Updates**: Only regenerate docs for changed files
3. **Custom Templates**: Allow customization of documentation templates
4. **Error Recovery**: Better handling of API failures and partial updates
5. **Progress Indicators**: Add progress bars for large projects

### 🔧 Customization Options

The script generates a feature-rich MkDocs configuration including:
- **Theme Customization**: Material theme with custom colors and fonts
- **Search Functionality**: Enhanced search with suggestions and highlighting
- **Code Features**: Syntax highlighting with line numbers and copy buttons
- **Navigation**: Instant navigation and tabbed interface

### 📋 Best Practices

- Run from project root directory
- Ensure `.env` file contains valid Anthropic API key
- Review generated documentation before publishing
- Keep backup of existing `mkdocs.yml` if you have custom configurations

## Error Handling

The script includes robust error handling:
- Continues processing other files if one fails
- Provides clear error messages with file names
- Gracefully handles missing configuration files
- Validates API responses before writing files