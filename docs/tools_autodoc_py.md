<!-- Auto-generated by Claude on 2025-06-22 03:25 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs to create a complete documentation website.

## Purpose

- **Automated Documentation**: Generates human-readable documentation from Python source code
- **AI-Powered Analysis**: Uses Anthropic's Claude AI to analyze code and create meaningful documentation
- **MkDocs Integration**: Automatically configures and updates MkDocs for documentation website generation
- **Project Organization**: Maintains a structured documentation hierarchy with automatic indexing

## Key Features

- Scans project directories for Python files
- Generates documentation using Claude AI
- Creates and maintains MkDocs configuration
- Builds comprehensive index pages
- Supports custom themes and extensions

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import yaml
```

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### File Structure
- **Input**: Python files in target directory
- **Output**: Markdown files in `docs/` directory
- **Configuration**: `mkdocs.yml` for MkDocs setup

## Important Functions

### `snake_md_path(rel_path: str) -> str`
- Converts file paths to snake_case Markdown filenames
- Replaces path separators and dots with underscores

### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration or creates default structure
- Returns dictionary with site configuration

### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all generated documentation with links
- Includes timestamp for last update

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Generates comprehensive MkDocs configuration
- Includes Material theme with dark/light mode toggle
- Configures markdown extensions and plugins
- Sets up navigation structure

### `collect_python_files(base: str)`
- Recursively scans directory for Python files
- Excludes test files and `__init__.py` files
- Returns list of file paths for processing

## Usage

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific directory
python autodoc.py /path/to/project
```

## Workflow

1. **Initialization**: Loads environment variables and sets up Anthropic client
2. **File Discovery**: Scans target directory for Python files
3. **Documentation Generation**: 
   - Reads each Python file
   - Sends code to Claude AI for analysis
   - Receives formatted Markdown documentation
   - Saves to `docs/` directory
4. **Configuration Update**: Updates `mkdocs.yml` with new documentation entries
5. **Index Creation**: Builds comprehensive index page with all documentation links

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ filename_py.md             # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # MkDocs configuration file
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Key Security**: Ensure `ANTHROPIC_API_KEY` is properly secured and not committed to version control
- **Rate Limits**: Be aware of API rate limits when processing large codebases
- **File Filtering**: Currently excludes test files and `__init__.py` - adjust `collect_python_files()` if needed

### üîß Customization Options

- **Theme Configuration**: Modify the Material theme settings in `write_mkdocs_config()`
- **File Filtering**: Adjust the file collection logic to include/exclude specific file types
- **Documentation Prompt**: Customize the AI prompt for different documentation styles
- **Output Format**: Modify the Markdown template structure as needed

### üöÄ Performance Tips

- Process files in batches for large projects
- Consider caching generated documentation to avoid redundant API calls
- Implement file change detection to only regenerate modified files

### üõ†Ô∏è Troubleshooting

- Verify `ANTHROPIC_API_KEY` is set correctly
- Check network connectivity for API calls
- Ensure proper file permissions for writing to `docs/` directory
- Review console output for specific error messages during processing