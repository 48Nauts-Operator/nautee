<!-- Auto-generated by Claude on 2025-06-01 20:21 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 10:30 -->

## Overview

`autodoc.py` is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. It integrates seamlessly with MkDocs to build a complete documentation site.

## Purpose

- **Automatically generate documentation** for Python files using AI
- **Create and maintain MkDocs configuration** with proper navigation structure
- **Generate organized documentation portal** with index pages and cross-references
- **Streamline documentation workflow** for Python projects

## Key Features

- üîç **Smart Python file discovery** (excludes tests and `__init__.py` files)
- ü§ñ **AI-powered documentation generation** using Claude
- üìö **MkDocs integration** with Material theme
- üóÇÔ∏è **Automatic navigation structure** creation
- üìù **Index page generation** with links to all documentation

## Important Functions

### File Discovery
```python
def collect_python_files(base: str) -> list
```
- Recursively scans directory for Python files
- Excludes test files (`test_*.py`) and `__init__.py`
- Returns list of file paths for documentation

### Path Conversion
```python
def snake_md_path(rel_path: str) -> str
```
- Converts Python file paths to Markdown filenames
- Example: `src/utils/helper.py` ‚Üí `src_utils_helper_py.md`

### Configuration Management
```python
def load_mkdocs_config(path: str)
def write_mkdocs_config(path: str, static_nav, autodoc_items)
```
- Loads existing MkDocs configuration or creates default
- Preserves manual navigation entries
- Adds AutoDocs section with generated documentation

### Index Generation
```python
def write_index_md(nav_items)
def append_missing_docs_to_index(nav_items)
```
- Creates comprehensive documentation index
- Lists all generated documentation with links
- Includes timestamp and orphaned markdown files

## Usage

### Basic Usage
```bash
python autodoc.py
```
Scans current directory for Python files.

### Target Specific Directory
```bash
python autodoc.py /path/to/project
```
Scans specified directory for Python files.

## Configuration Requirements

### Environment Variables
Create a `.env` file with:
```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Dependencies
- `anthropic` - Claude AI client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration handling

## Output Structure

The script generates:

```
docs/ 
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îú‚îÄ‚îÄ utils_helper_py.md         # Snake-case converted filenames
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated MkDocs configuration
```

## MkDocs Integration

### Theme Configuration
- **Material Design** theme with dark/light mode toggle
- **Code highlighting** with line numbers
- **Navigation features** including tabs and instant loading
- **Search functionality** with suggestions

### Markdown Extensions
- Syntax highlighting
- Admonitions and callouts
- Task lists and emoji support
- Table of contents with permalinks

## Suggestions and Notes

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
2. **Rate Limiting**: Consider adding delays for projects with many files
3. **File Overwrites**: Generated docs are completely rewritten on each run

### üöÄ Potential Improvements

- **Incremental updates**: Only regenerate docs for modified files
- **Error handling**: Better recovery from API failures
- **Configuration options**: Make prompt templates customizable
- **Batch processing**: Process multiple files in single API call
- **Git integration**: Track which files need documentation updates

### üí° Best Practices

- Run regularly as part of CI/CD pipeline
- Review generated documentation for accuracy
- Supplement with manual documentation for complex topics
- Use `.env` file to manage API credentials securely

### üîß Customization

The script can be extended to:
- Support additional file types
- Use different AI models or providers
- Generate documentation in other formats
- Integrate with other documentation systems