<!-- Auto-generated by Claude on 2025-06-23 04:34 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-21 00:00 -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and generates comprehensive Markdown documentation using Claude AI from Anthropic. It creates a complete documentation site structure compatible with MkDocs.

## Purpose

This tool serves to:
- **Automate documentation creation** for Python projects
- **Generate consistent, AI-powered documentation** using Claude
- **Maintain up-to-date docs** by regenerating from source code
- **Create a searchable documentation portal** with MkDocs integration

## Key Features

- üîç **Automatic Python file discovery** (excludes tests and `__init__.py`)
- ü§ñ **AI-powered documentation generation** via Claude API
- üìö **MkDocs integration** with automatic navigation updates
- üé® **Material theme configuration** with dark/light mode support
- üìã **Index page generation** with comprehensive file listings

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively scans directories for Python files
- Filters out test files and `__init__.py` files
- Returns list of file paths for documentation generation

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts file paths to snake_case Markdown filenames
- Ensures consistent naming for generated documentation files

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration or creates default structure
- Preserves manual navigation entries while updating AutoDocs section

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Generates comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and navigation enhancements
- Maintains separation between static and auto-generated content

### Documentation Generation

#### `write_index_md(nav_items)`
- Creates main documentation index page
- Lists all auto-generated documentation with navigation links
- Includes timestamp for tracking generation history

#### `append_missing_docs_to_index(nav_items)`
- Discovers orphaned Markdown files not in main navigation
- Ensures comprehensive documentation coverage

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude access
- `ANTHROPIC_MODEL`: Model selection (defaults to `claude-sonnet-4-20250514`)

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated MkDocs configuration
```

## MkDocs Theme Features

The generated configuration includes:
- **Material Design theme** with professional appearance
- **Dark/Light mode toggle** for user preference
- **Advanced search capabilities** with suggestions and highlighting
- **Code syntax highlighting** with line numbers and copy functionality
- **Navigation enhancements** including instant loading and breadcrumbs
- **Emoji support** for enhanced visual presentation

## Notes and Suggestions

### ‚ö†Ô∏è Prerequisites
- Ensure `ANTHROPIC_API_KEY` is set in environment or `.env` file
- Install required dependencies: `anthropic`, `python-dotenv`, `pyyaml`

### üí° Best Practices
- Run regularly to keep documentation synchronized with code changes
- Review generated documentation for accuracy and completeness
- Consider adding custom sections to `mkdocs.yml` for manual documentation

### üîß Customization Options
- Modify the Claude prompt for different documentation styles
- Adjust file filtering logic in `collect_python_files()` for specific needs
- Extend MkDocs configuration for additional plugins or themes

### ‚ö° Performance Considerations
- Large projects may take time due to API calls for each file
- Consider implementing caching for unchanged files in future versions
- Monitor API usage limits when processing extensive codebases

This tool provides a robust foundation for maintaining comprehensive, up-to-date documentation for Python projects with minimal manual intervention.