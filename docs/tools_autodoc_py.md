<!-- Auto-generated by Claude on 2025-06-23 10:23 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects, analyzes source code files, and generates comprehensive Markdown documentation using Claude AI. It creates a complete documentation site structure compatible with MkDocs.

## Purpose

This tool automates the documentation process by:
- Scanning Python source files in a project
- Generating technical documentation using Claude AI
- Creating a structured documentation site with MkDocs configuration
- Maintaining an index of all generated documentation

## Key Features

- **Automated Python file discovery** - Recursively scans directories for Python files
- **AI-powered documentation generation** - Uses Claude to create comprehensive docs
- **MkDocs integration** - Automatically configures MkDocs with Material theme
- **Index management** - Creates and maintains documentation indexes

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import yaml
```

### Required Environment Variables
- `ANTHROPIC_API_KEY` - API key for Claude AI service
- `ANTHROPIC_MODEL` - Claude model to use (defaults to "claude-sonnet-4-20250514")

## Core Functions

### File Processing Functions

#### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
- Replaces path separators and dots with underscores
- Appends `.md` extension

#### `collect_python_files(base: str)`
Recursively discovers Python files in the target directory.
- Excludes test files (`test_*.py`)
- Excludes `__init__.py` files
- Returns list of file paths

### Configuration Management

#### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates default structure.
- Returns YAML configuration dictionary
- Provides sensible defaults if no config exists

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates comprehensive MkDocs configuration with:
- **Material theme** with dark/light mode toggle
- **Enhanced features**: navigation, search, code highlighting
- **Markdown extensions**: admonitions, code blocks, emojis
- **Plugin support**: search and mkdocstrings

### Documentation Generation

#### `write_index_md(nav_items)`
Creates the main documentation index page with:
- Welcome message and project description
- Links to all generated documentation
- Timestamp for last update

#### `append_missing_docs_to_index(nav_items)`
Appends any orphaned Markdown files to the index that aren't in the main navigation.

## Workflow

### 1. **Setup Phase**
```python
load_dotenv()
client = anthropic.Anthropic(api_key=os.getenv("ANTHROPIC_API_KEY"))
target_path = sys.argv[1] if len(sys.argv) > 1 else "."
```

### 2. **File Discovery**
- Scans target directory for Python files
- Filters out test files and `__init__.py`
- Creates list of files to document

### 3. **Documentation Generation**
For each Python file:
- Reads source code
- Sends to Claude AI with documentation prompt
- Generates Markdown documentation
- Saves to `docs/` directory

### 4. **Site Structure Creation**
- Updates MkDocs configuration
- Creates navigation structure
- Generates index page
- Links all documentation files

## Usage

### Command Line
```bash
# Document current directory
python autodoc.py

# Document specific directory
python autodoc.py /path/to/project
```

### Output Structure
```
docs/
â”œâ”€â”€ index.md                 # Main documentation index
â”œâ”€â”€ module_name.md           # Generated documentation files
â””â”€â”€ ...
mkdocs.yml                   # MkDocs configuration
```

## Configuration Notes

### MkDocs Theme Features
- **Material Design** with responsive layout
- **Code highlighting** with line numbers
- **Search functionality** with suggestions
- **Navigation enhancements** with tabs and instant loading
- **Dark/light mode toggle**

### Markdown Extensions
- Syntax highlighting with Pygments
- Admonitions for callouts
- Task lists and emoji support
- Table of contents with permalinks

## Suggestions for Improvement

### Error Handling
- Add retry logic for API failures
- Implement file validation before processing
- Add graceful handling of permission errors

### Performance
- Consider parallel processing for multiple files
- Add caching to avoid re-documenting unchanged files
- Implement incremental updates

### Customization
- Make documentation templates configurable
- Add support for custom prompts per file type
- Allow theme and styling customization

### Quality Assurance
- Add validation for generated Markdown
- Implement consistency checks across documentation
- Add support for documentation reviews

## Notes

> **âš ï¸ API Usage**: This script makes API calls to Claude for each Python file. Monitor usage to avoid unexpected costs.

> **ğŸ“ File Management**: The script overwrites existing documentation files. Consider version control for documentation changes.

> **ğŸ”§ Dependencies**: Ensure all required packages are installed and environment variables are properly configured before running.

---

*Auto-generated documentation - Last updated: 2024*