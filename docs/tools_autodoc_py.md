<!-- Auto-generated by Claude on 2025-06-23 06:38 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Anthropic's Claude AI. The script integrates with MkDocs to provide a complete documentation pipeline.

## Purpose

This tool automates the tedious process of writing documentation by:
- Scanning directories for Python files
- Generating detailed Markdown documentation using AI
- Creating and maintaining MkDocs configuration
- Building a documentation index for easy navigation

## Key Features

- **AI-Powered Documentation**: Uses Anthropic's Claude to generate high-quality documentation
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration
- **Index Generation**: Creates comprehensive documentation indexes
- **Flexible File Processing**: Handles various Python file structures
- **Material Theme Support**: Pre-configured with Material theme and extensions

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" becomes "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one with Material theme settings.

### `write_index_md(nav_items)`
Generates the main documentation index page with:
- Welcome message
- Links to all generated documentation
- Timestamp of last update

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Creates a comprehensive MkDocs configuration with:
- **Material Theme**: Dark/light mode toggle, custom colors
- **Extensions**: Code highlighting, admonitions, search features
- **Plugins**: Search and mkdocstrings for Python documentation
- **Navigation**: Combines static pages with auto-generated docs

### `collect_python_files(base: str)`
Recursively finds Python files while filtering out:
- Test files (`test_*.py`)
- `__init__.py` files
- Hidden or system files

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude
- `ANTHROPIC_MODEL`: AI model to use (defaults to `claude-sonnet-4-20250514`)

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Path to scan (defaults to current directory)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ [module_name]_py.md        # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated MkDocs configuration
```

## Material Theme Features

The generated MkDocs configuration includes:
- **Navigation**: Instant loading, tabs, top navigation
- **Content**: Code copying, syntax highlighting with line numbers
- **Search**: Suggestions and highlighting
- **Visual**: Custom fonts (Roboto), emoji support
- **Extensions**: Admonitions, footnotes, task lists, magic links

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
2. **File Filtering**: Currently excludes test files and `__init__.py` - modify `collect_python_files()` if needed
3. **Error Handling**: Failed file processing continues with remaining files

### üîß Potential Improvements

1. **Batch Processing**: Group multiple small files into single API calls
2. **Caching**: Skip unchanged files based on modification time
3. **Configuration File**: External config for customizing documentation style
4. **Template Support**: Custom documentation templates for different file types

### üí° Usage Tips

- Run regularly in CI/CD pipelines to keep docs updated
- Review generated documentation for accuracy
- Customize the MkDocs theme configuration as needed
- Consider adding manual documentation alongside auto-generated content

## Dependencies

- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management
- `pyyaml`: YAML configuration handling