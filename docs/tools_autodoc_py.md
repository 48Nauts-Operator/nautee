<!-- Auto-generated by Claude on 2025-06-01 18:24 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-01-01 12:00 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects, creates Markdown documentation using Claude AI, and integrates with MkDocs for documentation site generation. It serves as a bridge between source code and human-readable documentation.

## Purpose

- **Automated Documentation**: Generates comprehensive Markdown documentation for Python files using AI
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration and creates navigation structure
- **Project Scanning**: Recursively finds and processes Python source files
- **Documentation Portal**: Creates a centralized index of all generated documentation

## Key Features

- ü§ñ AI-powered documentation generation using Claude
- üìÅ Recursive Python file discovery
- üß≠ Automatic MkDocs navigation management
- üìù Index page generation with cross-references
- ‚öôÔ∏è Material theme configuration for MkDocs

## Configuration

### Environment Variables

The script requires the following environment variables (loaded via `.env`):

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Command Line Usage

```bash
python autodoc.py [target_directory]
```

- `target_directory`: Optional path to scan (defaults to current directory)

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
- **Purpose**: Recursively scans directory for Python files
- **Filters**: Excludes test files (`test_*.py`) and `__init__.py`
- **Returns**: List of Python file paths

#### `snake_md_path(rel_path: str)`
- **Purpose**: Converts file paths to Markdown filename format
- **Example**: `src/utils.py` ‚Üí `src_utils_py.md`

### Configuration Management

#### `load_mkdocs_config(path: str)`
- **Purpose**: Loads existing MkDocs configuration or creates default
- **Fallback**: Creates basic Material theme configuration if no config exists

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- **Purpose**: Generates comprehensive MkDocs configuration
- **Features**: 
  - Material theme with dark/light mode toggle
  - Code highlighting and copy functionality
  - Search capabilities
  - Navigation enhancements

### Documentation Generation

#### `write_index_md(nav_items)`
- **Purpose**: Creates main documentation index page
- **Content**: Welcome message, AutoDocs links, timestamp

#### `append_missing_docs_to_index(nav_items)`
- **Purpose**: Discovers and links orphaned Markdown files
- **Benefit**: Ensures no documentation is left unlinked

## Workflow Process

1. **Setup Phase**
   - Load environment variables
   - Initialize Claude client
   - Create output directory structure

2. **Discovery Phase**
   - Scan target directory for Python files
   - Filter out test files and init files

3. **Generation Phase**
   - For each Python file:
     - Read source code
     - Send to Claude with documentation prompt
     - Write generated Markdown to `docs/` directory

4. **Integration Phase**
   - Update MkDocs navigation with new entries
   - Generate comprehensive index page
   - Preserve existing manual documentation

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation portal
‚îú‚îÄ‚îÄ src_main_py.md             # Generated docs for src/main.py
‚îú‚îÄ‚îÄ utils_helpers_py.md        # Generated docs for utils/helpers.py
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### Best Practices

- **API Key Security**: Store Anthropic API key in `.env` file, never in source code
- **Regular Updates**: Run periodically to keep documentation in sync with code changes
- **Manual Review**: Generated documentation should be reviewed for accuracy

### Customization Options

- **Prompt Modification**: Adjust the Claude prompt for different documentation styles
- **File Filtering**: Modify `collect_python_files()` to include/exclude specific patterns
- **Theme Customization**: Update `write_mkdocs_config()` for different MkDocs themes

### Potential Improvements

- Add support for other programming languages
- Implement incremental updates (only process changed files)
- Add configuration file for customizable settings
- Include error handling for network issues with Claude API

### Dependencies

```python
anthropic      # Claude AI client
python-dotenv  # Environment variable management
pyyaml        # YAML configuration handling
```

## Error Handling

The script includes basic error handling for:
- Missing Python files (exits gracefully)
- File processing errors (continues with other files)
- Missing environment configuration (creates defaults)

Each processed file shows success/failure status with emoji indicators for easy monitoring.