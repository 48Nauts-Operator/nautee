<!-- Auto-generated by Claude on 2025-06-22 22:18 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2025-01-01 12:00 -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. It integrates seamlessly with MkDocs to create a complete documentation website.

## Purpose

- **Automate Documentation**: Eliminates manual documentation writing by leveraging AI
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration and creates navigation
- **Project Scanning**: Recursively discovers Python files and generates docs for each
- **Index Generation**: Creates a comprehensive index page linking all generated documentation

## Key Features

- ü§ñ **AI-Powered**: Uses Claude AI to generate high-quality technical documentation
- üìÅ **Smart File Discovery**: Automatically finds Python files while excluding tests and `__init__.py`
- üß≠ **Navigation Management**: Updates MkDocs navigation with new documentation entries
- üé® **Material Theme**: Configures a modern, responsive documentation theme
- üìä **Progress Tracking**: Provides detailed console output during generation

## Important Functions

### File Processing Functions

#### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

#### `collect_python_files(base: str)`
Recursively scans directory for Python files, excluding:
- Test files (`test_*.py`)
- `__init__.py` files

### Configuration Management

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration
- Returns default config if none exists
- Preserves existing navigation structure

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates comprehensive MkDocs configuration with:
- **Material Theme**: Dark/light mode toggle, modern styling
- **Markdown Extensions**: Code highlighting, admonitions, emojis
- **Plugins**: Search, mkdocstrings for API docs
- **Navigation**: Combines static nav with auto-generated docs

### Documentation Generation

#### `write_index_md(nav_items)`
Creates the main documentation index page featuring:
- Welcome message and overview
- Links to all auto-generated documentation
- Timestamp of last update

#### `append_missing_docs_to_index(nav_items)`
Scans for orphaned Markdown files and adds them to the index under "Other Markdown Files" section.

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Dependencies
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration handling

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Specify Target Directory
```bash
python autodoc.py /path/to/your/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îú‚îÄ‚îÄ utils_helper_py.md
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider adding delays for projects with many files
- **File Exclusions**: Currently excludes test files - modify `collect_python_files()` if needed

### üöÄ Potential Improvements

1. **Batch Processing**: Group multiple small files into single API calls
2. **Caching**: Skip regeneration if files haven't changed
3. **Custom Prompts**: Add support for file-specific documentation templates
4. **Error Recovery**: Better handling of API failures with retry logic
5. **Configuration File**: Move settings to a config file instead of environment variables

### üí° Best Practices

- Run after significant code changes or before releases
- Review generated documentation for accuracy
- Customize the MkDocs theme colors and features as needed
- Consider version control for the `docs/` directory to track documentation changes

## Error Handling

The script includes robust error handling:
- Gracefully handles missing configuration files
- Continues processing other files if one fails
- Provides detailed console feedback for debugging
- Creates necessary directories automatically