<!-- Auto-generated by Claude on 2025-06-22 10:20 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-XX XX:XX -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects and creates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs to create a complete documentation website with proper navigation and theming.

## Purpose

This tool automates the tedious process of writing technical documentation by:
- **Scanning** Python source files in a project
- **Generating** detailed Markdown documentation using Claude AI
- **Organizing** documentation files in a structured format
- **Updating** MkDocs configuration for seamless website generation
- **Creating** an index page with navigation links

## Key Features

- ü§ñ **AI-Powered Documentation**: Uses Anthropic's Claude to generate high-quality technical documentation
- üìÅ **Automatic File Discovery**: Recursively scans directories for Python files
- üé® **MkDocs Integration**: Automatically configures Material theme with modern features
- üìä **Navigation Management**: Maintains existing navigation while adding new autodocs
- üîÑ **Incremental Updates**: Preserves manual documentation alongside generated content

## Important Functions

### File Processing Functions

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- **Purpose**: Recursively finds all Python files in the target directory
- **Filters**: Excludes test files and `__init__.py` files
- **Returns**: List of absolute file paths

#### `snake_md_path(rel_path: str)`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- **Purpose**: Converts file paths to documentation filenames
- **Example**: `src/utils/helper.py` ‚Üí `src_utils_helper_py.md`

### Configuration Functions

#### `load_mkdocs_config(path: str)`
- **Purpose**: Loads existing MkDocs configuration or creates default
- **Fallback**: Creates basic Material theme configuration if none exists

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- **Purpose**: Writes comprehensive MkDocs configuration with Material theme
- **Features**: Dark/light mode toggle, syntax highlighting, navigation enhancements
- **Navigation**: Preserves existing nav items and adds AutoDocs section

### Documentation Functions

#### `write_index_md(nav_items)`
- **Purpose**: Creates main documentation index page
- **Content**: Welcome message, AutoDocs links, timestamp
- **Navigation**: Lists all generated documentation files

#### `append_missing_docs_to_index(nav_items)`
- **Purpose**: Adds orphaned Markdown files to index
- **Use Case**: Captures manually created docs not in navigation

## Configuration

### Environment Variables

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Command Line Usage

```bash
# Document current directory
python autodoc.py

# Document specific directory
python autodoc.py /path/to/project
```

## Generated File Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main navigation index
‚îú‚îÄ‚îÄ src_module1_py.md          # Generated documentation
‚îú‚îÄ‚îÄ src_module2_py.md          # Generated documentation
‚îî‚îÄ‚îÄ utils_helper_py.md         # Generated documentation

mkdocs.yml                     # Updated MkDocs configuration
```

## MkDocs Theme Configuration

The script configures Material theme with:

- **Color Schemes**: Dark/light mode toggle with blue primary and green accent
- **Typography**: Roboto fonts for text and code
- **Navigation Features**: 
  - Instant navigation
  - Tabbed navigation
  - Back-to-top button
  - Code copy buttons
- **Search**: Enhanced search with suggestions and highlighting
- **Extensions**: Code highlighting, admonitions, emoji support, and more

## Error Handling

- **File Processing**: Continues processing other files if one fails
- **API Errors**: Logs errors but doesn't stop the entire process
- **Missing Config**: Creates default configuration if mkdocs.yml doesn't exist

## Notes and Suggestions

### ‚úÖ Best Practices

- **API Key Security**: Store Anthropic API key in `.env` file, never commit to version control
- **File Filters**: The script wisely excludes test files and `__init__.py` to focus on main code
- **Incremental Updates**: Preserves existing navigation structure while adding new docs

### ‚ö†Ô∏è Considerations

- **API Costs**: Each file generates an API request to Claude - monitor usage for large projects
- **Rate Limits**: Consider adding delays between API calls for very large projects
- **File Overwrites**: Generated documentation files are overwritten on each run

### üîß Potential Improvements

- **Caching**: Implement file change detection to avoid regenerating unchanged files
- **Batch Processing**: Group smaller files into single API requests to reduce costs
- **Configuration**: Add command-line options for output directory and theme customization
- **Progress Indicators**: Add progress bars for large projects

### üöÄ Usage Tips

1. **Initial Setup**: Ensure `.env` file exists with valid Anthropic API key
2. **Project Structure**: Works best with well-organized Python projects
3. **Manual Docs**: Place hand-written documentation in `docs/` - it will be preserved
4. **Preview**: Use `mkdocs serve` to preview generated documentation locally

This tool significantly reduces documentation maintenance overhead while ensuring consistent, high-quality technical documentation across Python projects.