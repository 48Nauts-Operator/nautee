<!--
This documentation was auto-generated by Claude on 2025-05-31T17-00-57.
Source file: ./generate_docs.py
-->

# Python Documentation Generator

A Python script that automatically generates Markdown documentation from Python source files and updates MkDocs configuration.

## Overview

This tool scans a source directory for Python files, generates Markdown documentation for each file, creates an index page, and updates the MkDocs navigation configuration. It's designed to maintain up-to-date documentation by embedding source code directly into Markdown files with metadata like last modification time.

## Configuration

The script uses the following constants for configuration:

| Constant | Value | Description |
|----------|-------|-------------|
| `SOURCE_DIR` | `"tools"` | Directory containing Python source files to document |
| `OUTPUT_DIR` | `"docs"` | Directory where generated documentation will be saved |
| `INDEX_FILE` | `"docs/index.md"` | Path to the generated index file |
| `MKDOCS_FILE` | `"mkdocs.yml"` | Path to the MkDocs configuration file |

## Functions

### `normalize_filename(py_path: str) -> str`

Converts a Python file path to a normalized Markdown filename.

**Parameters:**
- `py_path`: The original Python file path

**Returns:**
- Normalized filename with forward slashes replaced by underscores and `.py` extension changed to `.md`

**Example:**
```python
normalize_filename("tools/changelog.py")  # Returns: "tools_changelog.md"
```

### `extract_title(py_path: str) -> str`

Extracts a human-readable title from a Python file path.

**Parameters:**
- `py_path`: The Python file path

**Returns:**
- Title-cased string with underscores replaced by spaces

**Example:**
```python
extract_title("tools/my_script.py")  # Returns: "My Script"
```

### `generate_markdown(py_path: str, output_path: str)`

Generates a Markdown file containing the source code of a Python file.

**Parameters:**
- `py_path`: Path to the source Python file
- `output_path`: Path where the generated Markdown file will be saved

**Generated Content:**
- Header with the original file path
- Last modification timestamp
- Complete source code wrapped in Python code blocks

### `cleanup_old_docs()`

Removes previously generated documentation files from the output directory.

**Cleanup Patterns:**
- Files starting with `"autodoc_tools_"` and ending with `".md"`
- Files starting with `"tools_"` and ending with `".md"`

### `main()`

Main execution function that orchestrates the documentation generation process.

**Process:**
1. Cleans up old documentation files
2. Walks through the source directory
3. Processes each Python file (excluding `__*` files)
4. Generates Markdown documentation for each file
5. Creates an index page with links to all generated docs
6. Updates the MkDocs navigation configuration

## Usage

Run the script directly:

```bash
python doc_generator.py
```

## Requirements

- Python 3.6+
- Read/write access to the source and output directories
- Existing `mkdocs.yml` file for navigation updates

## Output Structure

### Generated Files

- **Individual Documentation**: One `.md` file per Python source file
- **Index Page**: `docs/index.md` with links to all generated documentation
- **Updated Configuration**: Modified `mkdocs.yml` with navigation entries

### Index File Format

```markdown
# ðŸ“š Auto-Generated Documentation Index

Welcome to the Nautee documentation portal. These are the current tools:

- [Script Name](tools_script_name.md)
- [Another Tool](tools_another_tool.md)
```

### MkDocs Navigation Structure

```yaml
nav:
  - Home: index.md
  - AutoDocs:
      - Script Name: tools_script_name.md
      - Another Tool: tools_another_tool.md
```

## Notes

- Only processes `.py` files that don't start with `__` (excludes `__init__.py`, `__pycache__`, etc.)
- Preserves existing MkDocs configuration while updating only the navigation section
- Files are processed recursively from the source directory
- Generated documentation includes full source code for reference
- Modification timestamps help track when source files were last updated