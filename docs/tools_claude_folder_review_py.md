<!-- Auto-generated by Claude on 2025-06-21 23:19 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning directories for source files and using Anthropic's Claude AI to provide structural code insights. The tool generates comprehensive code reviews in Markdown format, focusing on code organization, potential bugs, architectural issues, and improvement suggestions.

## Purpose

This tool is designed for developers and teams who want to:
- Get AI-powered code reviews of entire project folders
- Identify architectural weaknesses and patterns
- Receive suggestions for code organization and modularization
- Generate documentation-ready review reports

## Key Features

- **Recursive file scanning** for multiple programming languages
- **Progress tracking** with visual progress bars and ETA calculations
- **Batch processing** of multiple source files into a single AI prompt
- **Timestamped output** with organized Markdown reports
- **Error handling** for file reading and API communication

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Environment Setup

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Current number of processed files
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory structure to find all source files with valid extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Main Workflow

### 1. **Initialization**
- Loads environment variables
- Initializes Claude API client
- Sets up output directory
- Processes command line arguments

### 2. **File Discovery**
- Scans target folder recursively
- Filters files by supported extensions
- Validates that files exist

### 3. **File Processing**
- Reads each source file
- Combines content into a single prompt
- Tracks progress with visual indicators
- Calculates estimated time to completion

### 4. **AI Analysis**
- Sends combined codebase to Claude API
- Requests structured review focusing on:
  - Code organization
  - Bug patterns
  - Architecture weaknesses
  - Modularization suggestions

### 5. **Output Generation**
- Saves review as timestamped Markdown file
- Provides summary of processed files
- Reports total processing time

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py
```
*Uses default folder: `../137docs`*

### Specify Custom Folder
```bash
python claude_folder_reviewer.py /path/to/your/project
```

## Output

### File Location
Reviews are saved to: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Console Output Example
```
üîç Found 15 source files in: ../my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà--] 93% ‚è± ETA: 00:05 | ‚úÖ src/main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:15

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

## Error Handling

The script includes robust error handling for:
- **Missing files**: Graceful handling of unreadable files
- **API errors**: Clear error messages for Claude API issues
- **Empty directories**: Validation and early exit for folders with no valid files
- **File permission issues**: Error logging without script termination

## Suggestions and Notes

### üí° **Best Practices**
- Ensure your `ANTHROPIC_API_KEY` is properly set in the `.env` file
- Use the tool on focused project directories rather than entire filesystems
- Review the generated Markdown files for actionable insights

### ‚ö†Ô∏è **Limitations**
- **Token limits**: Large codebases may exceed Claude's context window
- **API costs**: Each review consumes API tokens
- **File types**: Limited to specific programming language extensions

### üîß **Potential Improvements**
- Add support for more file types (`.go`, `.rust`, `.java`, etc.)
- Implement chunking for very large codebases
- Add configuration file support for custom settings
- Include code complexity metrics in the analysis

### üöÄ **Usage Tips**
- Run on clean, well-organized codebases for best results
- Use the timestamped outputs to track improvement over time
- Combine with other code quality tools for comprehensive analysis