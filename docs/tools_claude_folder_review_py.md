<!-- Auto-generated by Claude on 2025-05-31 20:31 -->

# Code Review Tool Documentation

## Overview

This Python script is an automated code review tool that analyzes entire codebases using Anthropic's Claude AI. It scans a specified folder for source code files, combines them into a single prompt, and generates comprehensive code review insights in Markdown format.

## Purpose

- **Automated Code Review**: Leverages Claude AI to provide senior-level code review insights
- **Batch Processing**: Reviews entire folders/codebases at once rather than individual files
- **Architecture Analysis**: Focuses on high-level code organization, patterns, and structural improvements
- **Documentation Generation**: Outputs structured Markdown reports with actionable feedback

## Key Features

### File Discovery and Processing
- Recursively scans target directories for source code files
- Filters files by extension (currently supports Python, JavaScript/TypeScript, React)
- Combines all valid files into a single review prompt
- Tracks progress with visual progress bar and ETA estimation

### AI-Powered Analysis
- Uses Anthropic's Claude AI for intelligent code review
- Focuses on:
  - Code organization and structure
  - Bug patterns and potential issues
  - Architecture weaknesses
  - Modularization suggestions
  - Code clarity improvements

### Output Management
- Generates timestamped Markdown reports
- Saves reviews to `output/` directory
- Provides summary of reviewed files

## Configuration

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Supported File Types
Currently configured for:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

*Note: Additional file types are commented out but can be enabled*

## Usage

### Basic Usage
```bash
python review_tool.py [folder_path]
```

### Examples
```bash
# Review default folder (../137docs)
python review_tool.py

# Review specific folder
python review_tool.py /path/to/your/project

# Review current directory
python review_tool.py .
```

## Key Functions and Components

### File Discovery
```python
for root, _, filenames in os.walk(folder):
    for filename in filenames:
        if filename.endswith(valid_exts):
            files.append(os.path.join(root, filename))
```

### Progress Tracking
```python
def render_progress(current, total, width=30):
    percent = current / total
    filled = int(width * percent)
    bar = "‚ñà" * filled + "-" * (width - filled)
    return f"[{bar}] {int(percent * 100)}%"
```

### Claude API Integration
- Uses `anthropic.Anthropic()` client
- Sends combined codebase as single prompt
- Configurable model selection
- 2000 token limit for responses

## Output Format

### Console Output
- Progress bar with ETA estimation
- File-by-file processing status
- Final summary with processing time
- List of all reviewed files

### Generated Report
- Timestamped Markdown file: `folder_review_YYYY-MM-DDTHH-MM-SS.md`
- Structured insights and recommendations
- Saved in `output/` directory

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

## Installation Requirements

```bash
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each review consumes Claude API tokens - monitor usage for large codebases
2. **Token Limits**: Large codebases may exceed Claude's input limits
3. **File Size**: No individual file size limits implemented

### üîß Potential Improvements

1. **Chunking Strategy**: Implement code splitting for very large codebases
2. **File Filtering**: Add file size limits and gitignore respect
3. **Configuration File**: Move settings to external config file
4. **Multiple Output Formats**: Support JSON, HTML output formats
5. **Incremental Reviews**: Add git diff integration for changed files only
6. **Custom Prompts**: Allow customizable review focus areas

### üêõ Error Handling

- Graceful handling of file read errors
- API error reporting
- Exit codes for automation integration

### üìù Usage Tips

- Start with smaller codebases to understand output quality
- Review the generated prompts to ensure they meet your needs
- Consider cost implications for large repositories
- Use `.env` file to securely manage API keys

## Version Information

- **Author**: Andr√© Wolke
- **Version**: 1.0.0
- **Date**: 2025-05-31