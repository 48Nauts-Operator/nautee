<!-- Auto-generated by Claude on 2025-06-01 17:16 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The tool generates detailed Markdown reports focusing on code organization, potential bugs, architectural issues, and improvement suggestions.

## Purpose

This tool is designed to help developers and teams:
- Get automated code reviews for entire project folders
- Identify structural weaknesses and bug patterns
- Receive suggestions for better code organization
- Generate documentation-ready reports in Markdown format

## Key Features

- **Recursive file scanning** with support for multiple programming languages
- **Progress tracking** with visual progress bars and ETA calculations  
- **Batch processing** of multiple source files into a single review
- **AI-powered analysis** using Anthropic Claude
- **Timestamped output** files for version tracking

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively searches a directory tree for source files with specified extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths matching the criteria

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup**
   - Loads environment variables from `.env` file
   - Initializes Anthropic client
   - Sets up output directory

2. **File Discovery**
   - Scans target folder for valid source files
   - Supports: `.py`, `.js`, `.ts`, `.tsx`, `.jsx`

3. **Content Processing**
   - Reads each file and combines into a single prompt
   - Tracks progress with visual indicators
   - Handles file reading errors gracefully

4. **AI Analysis**
   - Sends combined content to Claude API
   - Receives structured Markdown review

5. **Output Generation**
   - Saves review to timestamped file
   - Provides summary of processed files

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Supported File Types

Currently supports the following extensions:
- `.py` (Python)
- `.js` (JavaScript) 
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py
```
*Defaults to reviewing the `../137docs` directory*

### Custom Directory
```bash
python claude_folder_reviewer.py /path/to/your/project
```

### Output Location
All reviews are saved to the `output/` directory with filenames in the format:
```
folder_review_YYYY-MM-DDTHH-MM-SS.md
```

## Dependencies

```bash
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run makes a single API call to Claude, but large codebases may result in significant token usage
- **File Size Limits**: Very large codebases may exceed Claude's context window limits
- **Rate Limiting**: Consider implementing delays for very large projects

### üîß Potential Improvements

1. **Add file filtering options** to exclude certain directories (e.g., `node_modules`, `.git`)
2. **Implement chunking** for large codebases that exceed token limits
3. **Add configuration file support** for customizable file extensions and review focus areas
4. **Include error recovery** and retry logic for API failures
5. **Add summary statistics** (lines of code, file counts by type, etc.)

### üí° Usage Tips

- **Start small**: Test with smaller projects first to understand output quality
- **Review the prompt**: Modify the analysis focus areas in the prompt to match your needs
- **Batch similar projects**: Use consistent folder structures for comparable reviews
- **Version control**: Keep review outputs in version control to track improvements over time

## Error Handling

The script includes error handling for:
- Missing or invalid API keys
- File reading permissions issues  
- API communication errors
- Empty directories

Errors are displayed with descriptive emoji indicators for easy identification.