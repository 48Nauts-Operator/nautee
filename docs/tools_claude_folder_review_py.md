<!-- Auto-generated by Claude on 2025-06-01 23:18 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning source code folders, collecting files, and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The tool generates detailed Markdown reports focusing on code organization, potential bugs, architectural issues, and improvement suggestions.

## Purpose

This tool is designed to help developers and teams:
- Get automated code reviews for entire project folders
- Identify structural weaknesses and bug patterns
- Receive suggestions for better code organization
- Generate documentation-ready reports in Markdown format

## Key Features

- **Recursive file scanning** with support for multiple programming languages
- **Progress tracking** with visual progress bars and ETA calculations  
- **Batch processing** of source files into a single AI prompt
- **Timestamped output** with organized report generation
- **Error handling** for file reading and API communication

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

**Required packages:**
- `anthropic` - Anthropic Claude API client
- `python-dotenv` - Environment variable management

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

### Supported File Extensions

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current number of processed files
- `total` (int): Total number of files to process
- `width` (int): Character width of the progress bar (default: 30)

**Returns:**
- `str`: Formatted progress bar string with percentage

**Example output:**
```
[████████████████████-----] 75%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively searches a directory for source files with valid extensions.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): Tuple of acceptable file extensions

**Returns:**
- `list`: List of full file paths that match the criteria

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Setup Phase**
   - Loads environment variables
   - Initializes Anthropic client
   - Creates output directory
   - Processes command line arguments

2. **File Discovery**
   - Scans target folder for valid source files
   - Reports total file count

3. **File Processing**
   - Reads each file and combines into a single prompt
   - Displays progress with ETA calculations
   - Handles file reading errors gracefully

4. **AI Review Generation**
   - Sends combined codebase to Claude API
   - Processes the AI-generated review

5. **Output Generation**
   - Saves review to timestamped Markdown file
   - Reports processing statistics

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/project

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

### Console Output
- Real-time progress tracking with visual progress bars
- ETA calculations for completion time
- File-by-file processing status
- Summary statistics upon completion

### Generated Files
Reviews are saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md` with:
- Structural analysis
- Bug pattern identification
- Architecture recommendations
- Modularization suggestions

## Error Handling

The script includes robust error handling for:
- **Missing files or directories**
- **File reading permissions issues**
- **API communication failures**
- **Invalid environment configurations**

## Limitations and Considerations

⚠️ **Important Notes:**

- **Token Limits**: Large codebases may exceed Claude's token limits (currently set to 2000 max tokens for response)
- **API Costs**: Each review consumes Claude API credits
- **File Size**: Very large files may cause prompt truncation
- **Language Support**: Currently optimized for web development languages

## Suggestions for Improvement

### Recommended Enhancements

1. **Token Management**
   ```python
   # Add token counting and chunking for large codebases
   def estimate_tokens(text: str) -> int:
       return len(text.split()) * 1.3  # Rough estimation
   ```

2. **Configuration File**
   ```yaml
   # config.yaml
   supported_extensions:
     - .py
     - .js
     - .go
     - .java
   max_file_size: 50000  # bytes
   exclude_patterns:
     - node_modules/
     - __pycache__/
   ```

3. **Incremental Reviews**
   - Add support for reviewing only changed files
   - Implement caching mechanisms for previously reviewed code

4. **Multiple Output Formats**
   - JSON export for programmatic processing
   - HTML reports with syntax highlighting
   - Integration with popular documentation generators

## Security Considerations

- **API Key Protection**: Ensure `.env` files are not committed to version control
- **Code Privacy**: Be mindful of sending proprietary code to external APIs
- **Rate Limiting**: Consider implementing rate limiting for large projects

---

*This documentation was generated for Claude Folder Reviewer v1.0*