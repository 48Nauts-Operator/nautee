<!-- Auto-generated by Claude on 2025-06-22 12:38 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning source code folders and leveraging Anthropic's Claude AI to generate comprehensive structural insights. The script aggregates multiple source files into a single analysis request and outputs detailed feedback in Markdown format.

## Purpose

This tool is designed to help developers and teams perform automated code reviews focusing on:

- **Code organization** - How well the codebase is structured
- **Bug patterns** - Potential issues and antipatterns 
- **Architecture weaknesses** - Structural problems in the design
- **Modularization suggestions** - Recommendations for better code organization

## Features

- ‚úÖ Recursive folder scanning for source files
- üìä Real-time progress tracking with ETA estimates
- ü§ñ AI-powered code analysis using Claude
- üìù Markdown-formatted output reports
- ‚öôÔ∏è Configurable file extensions and models
- üîí Environment variable support for API keys

## Requirements

### Dependencies
```python
pip install anthropic python-dotenv
```

### Environment Variables
Create a `.env` file with:
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py /path/to/your/code/folder
```

### Default Behavior
If no folder is specified, it defaults to `../137docs`:
```bash
python claude_folder_reviewer.py
```

## Key Functions

### `render_progress(current, total, width=30)`
Generates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Number of files processed
- `total` (int): Total files to process  
- `width` (int): Progress bar width in characters

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%
```

### `estimate_valid_files(folder, valid_exts)`
Recursively scans directories to find all source files with valid extensions.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): Accepted file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` - Python files
- `.js` - JavaScript files  
- `.ts` - TypeScript files
- `.tsx` - TypeScript React files
- `.jsx` - JavaScript React files

### `main()`
The primary orchestration function that:

1. **Initializes** the Claude client and configuration
2. **Scans** the target folder for valid source files
3. **Aggregates** file contents into a single prompt
4. **Submits** the combined codebase to Claude for analysis
5. **Saves** the review output to a timestamped Markdown file

## Output

### File Location
Reviews are saved to: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Sample Output Structure
```markdown
# Code Review Report

## Code Organization
- Analysis of folder structure
- Module organization feedback

## Bug Patterns  
- Identified potential issues
- Common antipatterns found

## Architecture Weaknesses
- Structural concerns
- Design pattern violations

## Suggestions
- Refactoring recommendations
- Modularization improvements
```

## Configuration

### Customizing File Extensions
Modify the `valid_exts` tuple in `main()`:
```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx", ".go", ".rs")  # Add more as needed
```

### Adjusting Claude Model
Set in your `.env` file:
```bash
ANTHROPIC_MODEL=claude-3-opus-20240229  # or your preferred model
```

## Error Handling

The script includes robust error handling for:
- **Missing API keys** - Graceful failure with clear error messages
- **File read errors** - Continues processing other files
- **API failures** - Reports Claude API errors without crashing
- **Empty folders** - Exits cleanly when no valid files found

## Performance Notes

- **Token Limits**: The script uses a 2000-token limit for responses. For very large codebases, consider splitting into smaller chunks.
- **Rate Limiting**: No built-in rate limiting - be mindful of API usage limits
- **File Size**: Very large files may exceed Claude's input limits

## Suggestions for Improvement

### Potential Enhancements
1. **Chunking Support** - Split large codebases across multiple API calls
2. **File Filtering** - Add ignore patterns (e.g., `.gitignore` support)  
3. **Configuration File** - YAML/JSON config for more flexibility
4. **Multi-format Output** - Support HTML, PDF, or other output formats
5. **Incremental Reviews** - Only review changed files since last run

### Usage Tips
- Run on clean, committed code for best results
- Use for periodic architecture reviews
- Combine with traditional code review processes
- Consider running on feature branches before merging