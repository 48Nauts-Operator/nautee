<!-- Auto-generated by Claude on 2025-06-22 05:19 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes codebases by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive code reviews. The tool combines all source files into a single prompt and returns structured insights in Markdown format.

## Purpose

This tool is designed to help developers get quick, AI-powered insights into their codebase structure and quality. It focuses on identifying:

- **Code organization** issues
- **Bug patterns** and potential vulnerabilities  
- **Architecture weaknesses**
- **Suggestions for modularization and clarity**

## Key Features

- ‚úÖ Recursive directory scanning for source files
- üìä Real-time progress tracking with ETA estimates
- ü§ñ AI-powered code analysis using Claude
- üìù Markdown-formatted output reports
- ‚ö° Batch processing for efficiency

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

**Required packages:**
- `anthropic` - Claude API client
- `python-dotenv` - Environment variable management

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Supported File Types

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` - Number of files processed
- `total` - Total files to process
- `width` - Character width of progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory for files with valid extensions.

**Parameters:**
- `folder` - Root directory path to scan
- `valid_exts` - Tuple of acceptable file extensions

**Returns:** List of full file paths

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Setup** - Loads environment variables and initializes Claude client
2. **File Discovery** - Scans target directory for source files
3. **File Processing** - Reads and combines all source files with progress tracking
4. **AI Analysis** - Sends combined codebase to Claude for review
5. **Output Generation** - Saves review as timestamped Markdown file

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py
```
*Uses default folder: `../137docs`*

### Specify Custom Folder

```bash
python claude_folder_reviewer.py /path/to/your/project
```

### Example Output

```
üîç Found 15 source files in: ../my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà--] 93% ‚è± ETA: 00:05 | ‚úÖ src/main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-25.md` in 02:30

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

## Output

Reviews are saved in the `output/` directory with timestamps:
- **Filename format:** `folder_review_YYYY-MM-DDTHH-MM-SS.md`
- **Content:** Markdown-formatted code review with insights and recommendations

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs:** Each review uses Claude API tokens - monitor usage for large codebases
- **Token Limits:** Very large codebases may exceed Claude's context window (2000 max tokens configured)
- **File Encoding:** Script assumes UTF-8 encoding for all source files

### üîß Potential Improvements

1. **Add token counting** to prevent context window overflow
2. **Implement file filtering** by size or complexity
3. **Add support for more file types** (`.go`, `.rs`, `.java`, etc.)
4. **Include git ignore parsing** to skip irrelevant files
5. **Add configuration file support** for custom settings
6. **Implement chunking strategy** for very large codebases

### üöÄ Usage Tips

- Run on focused directories rather than entire repositories for better results
- Review the generated Markdown files in a proper viewer for best formatting
- Consider running on feature branches to analyze specific changes
- Use for onboarding new team members to understand codebase structure