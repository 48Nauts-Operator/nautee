<!-- Auto-generated by Claude on 2025-06-01 15:19 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning folders for source code files and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool combines all discovered files into a single prompt and generates detailed feedback in Markdown format.

## Purpose

This tool is designed to help developers get high-level architectural and structural insights about their codebase, focusing on:

- **Code organization** - How well the code is structured
- **Bug patterns** - Potential issues or anti-patterns
- **Architecture weaknesses** - Design flaws or inefficiencies  
- **Modularization suggestions** - Recommendations for better code organization

## Features

- üîç **Recursive file scanning** with configurable file extensions
- üìä **Real-time progress tracking** with visual progress bars and ETA estimates
- ü§ñ **AI-powered code analysis** using Claude's advanced language model
- üìù **Markdown output** with timestamped reports
- ‚öôÔ∏è **Configurable models** and environment-based API key management

## Prerequisites

### Required Dependencies

```bash
pip install anthropic python-dotenv
```

### Environment Setup

Create a `.env` file in your project root:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Key Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current progress count
- `total` (int): Total items to process  
- `width` (int): Progress bar width in characters

**Returns:** Formatted progress bar string

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively discovers all source files in a directory tree.

**Parameters:**
- `folder` (str): Root directory to search
- `valid_exts` (tuple): Accepted file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

### `main()`

The primary orchestration function that:

1. **Initializes** the Claude client and loads environment variables
2. **Scans** the specified folder for valid source files
3. **Processes** each file with progress tracking
4. **Combines** all code into a single prompt
5. **Sends** the prompt to Claude for analysis
6. **Saves** the review to a timestamped output file

## Output

The script generates files in the `output/` directory with the naming pattern:

```
output/folder_review_YYYY-MM-DDTHH-MM-SS.md
```

## Error Handling

The script includes robust error handling for:

- **Missing API keys** - Fails gracefully if authentication is not configured
- **File read errors** - Continues processing other files if individual files can't be read
- **API errors** - Reports Claude API issues without crashing
- **Empty directories** - Exits cleanly when no valid files are found

## Configuration Options

### Supported File Extensions

Currently supports these extensions (defined in `valid_exts`):

```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx")
```

### Default Settings

- **Default folder:** `../137docs`
- **Default model:** `claude-sonnet-4-20250514`
- **Max tokens:** `2000`
- **Progress bar width:** `30` characters

## Suggestions for Enhancement

### Potential Improvements

1. **Add configuration file support** for custom file extensions and excluded directories
2. **Implement file size limits** to prevent oversized prompts
3. **Add support for additional languages** (Go, Rust, Java, etc.)
4. **Include token counting** to optimize prompt size
5. **Add output format options** (JSON, HTML, etc.)
6. **Implement caching** to avoid re-analyzing unchanged files

### Usage Tips

- **Large repositories:** Consider breaking down very large codebases into smaller chunks
- **API limits:** Be mindful of Claude's rate limits for extensive repositories  
- **File filtering:** You may want to exclude test files or generated code for cleaner analysis
- **Review quality:** Smaller, focused codebases typically yield more actionable insights

## Example Output Structure

The generated Markdown review typically includes sections like:

```markdown
# Code Review: Project Name

## Overall Architecture
...

## Code Organization
...

## Identified Issues
...

## Recommendations
...
```