<!-- Auto-generated by Claude on 2025-06-01 13:27 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning a directory for source files and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The script aggregates multiple source files into a single analysis request and generates detailed feedback in Markdown format.

## Purpose

This tool is designed to help developers and teams get automated code reviews focusing on:

- **Code organization** - How well the codebase is structured
- **Bug patterns** - Potential issues and anti-patterns
- **Architecture weaknesses** - Structural problems in the codebase
- **Modularization suggestions** - Recommendations for better code organization and clarity

## Key Features

- ‚úÖ Recursive directory scanning for source files
- üìä Real-time progress tracking with ETA estimation
- ü§ñ AI-powered code analysis using Claude
- üìù Markdown-formatted output reports
- ‚ö° Batch processing of multiple file types

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Official Anthropic API client
- `python-dotenv` - Environment variable management

## Configuration

### Environment Variables

Create a `.env` file in your project root:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

The script currently processes these file types:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for terminal output.

**Parameters:**
- `current` - Current number of processed files
- `total` - Total number of files to process
- `width` - Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory tree to find all source files with valid extensions.

**Parameters:**
- `folder` - Root directory path to scan
- `valid_exts` - Tuple of accepted file extensions

**Returns:** List of absolute file paths

## Usage

### Command Line

```bash
# Review current directory
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review with default fallback
python claude_folder_reviewer.py ../137docs
```

### Workflow

1. **Initialization** - Loads environment variables and sets up Claude client
2. **File Discovery** - Scans target directory for valid source files
3. **File Processing** - Reads each file and combines into single prompt
4. **Progress Tracking** - Shows real-time progress with ETA
5. **AI Analysis** - Sends combined codebase to Claude for review
6. **Report Generation** - Saves Markdown report to `output/` directory

## Output

### File Structure
```
output/
‚îî‚îÄ‚îÄ folder_review_2024-01-15T14-30-45.md
```

### Report Contents
- Detailed code organization analysis
- Identified bug patterns and potential issues
- Architecture recommendations
- Modularization suggestions
- Best practices recommendations

## Error Handling

The script includes robust error handling for:

- **Missing API key** - Graceful failure with clear error message
- **File read errors** - Continues processing other files, logs errors
- **API failures** - Catches and reports Claude API errors
- **Empty directories** - Exits cleanly when no valid files found

## Performance Considerations

- **Token Limits** - Current max_tokens set to 2000 (may need adjustment for larger codebases)
- **File Size** - Very large files may exceed API limits
- **Rate Limiting** - Consider adding delays for large projects

## Suggestions for Enhancement

### Recommended Improvements

1. **Configuration File** - Add YAML/JSON config for customizable settings
2. **File Filtering** - Add options to exclude specific directories (node_modules, .git, etc.)
3. **Chunking Strategy** - Split large codebases into smaller batches
4. **Output Formats** - Support JSON, HTML, or other output formats
5. **Incremental Reviews** - Only review changed files since last run

### Code Quality Notes

- ‚úÖ Good separation of concerns with utility functions
- ‚úÖ Clear progress feedback for user experience
- ‚ö†Ô∏è Consider adding type hints for better maintainability
- ‚ö†Ô∏è Add logging framework instead of print statements
- ‚ö†Ô∏è Implement configuration validation

## Example Usage

```bash
$ python claude_folder_reviewer.py ./my-project
üîç Found 15 source files in: ./my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-45.md` in 01:23

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
  ...
```