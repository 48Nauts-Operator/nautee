<!-- Auto-generated by Claude on 2025-06-22 10:20 -->

# Claude Folder Reviewer

## Overview

The Claude Folder Reviewer is a Python script that automates code review processes by scanning folders for source code files and leveraging Anthropic's Claude AI to provide comprehensive structural analysis and insights. The tool is designed to help developers identify code organization issues, potential bugs, architectural weaknesses, and receive suggestions for improving code modularity and clarity.

## Purpose

This script serves as an automated code review assistant that:
- Recursively scans directories for source code files
- Batches multiple files into a single analysis request
- Uses Claude AI to perform structural code analysis
- Generates detailed Markdown reports with actionable insights
- Provides progress tracking during the scanning process

## Key Features

- **Multi-language support**: Handles Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress visualization**: Real-time progress bar with ETA calculations
- **Batch processing**: Combines multiple files for comprehensive analysis
- **Automated reporting**: Generates timestamped Markdown reports
- **Error handling**: Graceful handling of file reading errors

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing status.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively discovers all source code files in the specified directory.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of absolute file paths for all valid source files

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans the target folder for valid source files
3. **Content Aggregation**: Reads and combines all source files
4. **AI Analysis**: Sends combined content to Claude for review
5. **Report Generation**: Saves the analysis results to a timestamped file

## Configuration

### Environment Variables

The script requires the following environment variables (typically stored in a `.env` file):

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Supported File Extensions

- `.py` - Python files
- `.js` - JavaScript files
- `.ts` - TypeScript files
- `.tsx` - TypeScript JSX files
- `.jsx` - JavaScript JSX files

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/project

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

The script generates:
- **Console output**: Real-time progress updates with file processing status
- **Markdown report**: Saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Sample Console Output

```
üîç Found 15 source files in: ./my_project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 67% ‚è± ETA: 01:23 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 73% ‚è± ETA: 01:05 | ‚úÖ src/utils.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:45

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - components/header.tsx
```

## Dependencies

```bash
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review sends all files in a single API request, which may consume significant tokens for large codebases
- **File Size Limits**: Very large codebases may exceed Claude's token limits
- **Rate Limiting**: Consider implementing rate limiting for production use

### üîß Potential Improvements

1. **Token Management**: Add token counting and chunking for large codebases
2. **Configuration File**: Support for custom file extensions and ignore patterns
3. **Incremental Reviews**: Only review changed files since last analysis
4. **Output Formats**: Support for additional output formats (JSON, HTML)
5. **Filtering Options**: Add gitignore-style file filtering capabilities

### üí° Usage Tips

- Use `.env` files to manage API credentials securely
- Review the generated reports regularly to track code quality improvements
- Consider running reviews as part of CI/CD pipelines for continuous quality monitoring
- For large projects, consider reviewing individual modules separately to get more focused insights