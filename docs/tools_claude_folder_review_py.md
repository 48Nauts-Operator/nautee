<!-- Auto-generated by Claude on 2025-06-01 20:21 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes codebases by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool combines all discovered source files into a single prompt and generates structured feedback in Markdown format.

## Purpose

This tool is designed to help developers get high-level insights about their codebase structure and quality by focusing on:

- **Code organization** - How well the code is structured and organized
- **Bug patterns** - Potential issues or anti-patterns in the code
- **Architecture weaknesses** - Structural problems that could affect maintainability
- **Modularization suggestions** - Recommendations for improving code clarity and separation of concerns

## Key Features

- ‚úÖ Recursive directory scanning for source files
- üìä Real-time progress tracking with ETA estimates
- ü§ñ AI-powered code analysis using Claude
- üìù Markdown-formatted output reports
- ‚ö° Batch processing of multiple file types

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

**Required packages:**
- `anthropic` - For Claude API integration
- `python-dotenv` - For environment variable management

## Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current number of processed files
- `total` (int): Total files to process  
- `width` (int): Character width of progress bar (default: 30)

**Returns:**
- `str`: Formatted progress bar with percentage

**Example output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ] 60%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively discovers all source files with specified extensions in a directory tree.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): File extensions to include

**Returns:**
- `list`: Full file paths of all matching files

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup** - Loads API keys and configuration
2. **File Discovery** - Scans for valid source files
3. **Content Aggregation** - Reads and combines all source files
4. **AI Analysis** - Sends combined content to Claude for review
5. **Report Generation** - Saves the analysis to a timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, uses default if not set
```

### Supported File Types

The script currently processes these file extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory's parent folder
python claude_folder_reviewer.py ../my-project

# Review specific folder
python claude_folder_reviewer.py /path/to/codebase

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

The script generates:

- **Console Output**: Real-time progress with ETA estimates
- **Markdown Report**: Timestamped file in `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Sample Console Output

```
üîç Found 15 source files in: ../my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ] 75% ‚è± ETA: 01:23 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ] 80% ‚è± ETA: 01:02 | ‚úÖ utils/helpers.js

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:15

üìÅ Files Reviewed:
  - src/main.py
  - utils/helpers.js
  - components/Button.tsx
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review consumes Claude API tokens based on codebase size
- **Token Limits**: Large codebases may exceed Claude's token limits (currently 2000 max tokens for output)
- **File Size**: Very large files or repositories might need chunking strategies

### üîß Potential Improvements

1. **Token Management**: Add token counting and chunking for large codebases
2. **File Filtering**: Add `.gitignore` support to skip unnecessary files
3. **Output Formats**: Support additional output formats (JSON, HTML)
4. **Configuration**: Add config file support for custom file extensions and exclusions
5. **Error Handling**: Enhanced error recovery for network issues

### üí° Best Practices

- Test with smaller codebases first to understand output quality
- Review the generated insights manually - AI suggestions should supplement, not replace, human judgment
- Consider running reviews periodically to track code quality trends
- Keep your `ANTHROPIC_API_KEY` secure and never commit it to version control

## Error Handling

The script includes error handling for:
- Missing or invalid files
- API connection issues  
- File permission problems
- Missing environment variables

Errors are displayed with descriptive emoji indicators (‚ùå) for easy identification.