<!-- Auto-generated by Claude on 2025-06-22 18:24 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically scans a directory for source code files, combines them into a single prompt, and uses Anthropic's Claude AI to generate comprehensive code review insights in Markdown format.

## Purpose

This tool helps developers get AI-powered code reviews that focus on:
- **Code organization** - How well the code is structured
- **Bug patterns** - Potential issues or anti-patterns
- **Architecture weaknesses** - Design flaws or improvement opportunities  
- **Suggestions for modularization and clarity** - Ways to improve code maintainability

## Requirements

- Python 3.x
- Required packages:
  ```bash
  pip install anthropic python-dotenv
  ```
- Environment variables:
  - `ANTHROPIC_API_KEY` - Your Anthropic API key (required)
  - `ANTHROPIC_MODEL` - Model to use (optional, defaults to `claude-sonnet-4-20250514`)

## Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

- If no folder path is provided, it defaults to `../137docs`
- Results are saved to the `output/` directory with timestamp

## Key Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current progress count
- `total` (int): Total items to process  
- `width` (int): Width of progress bar in characters

**Returns:** Formatted progress bar string with percentage

**Example output:** `[████████████----------] 67%`

### `estimate_valid_files(folder, valid_exts)`

Recursively searches a directory for source code files with valid extensions.

**Parameters:**
- `folder` (str): Root directory to search
- `valid_exts` (tuple): Acceptable file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### `main()`

The primary function that orchestrates the entire review process:

1. **Setup** - Loads environment variables and initializes Claude client
2. **File Discovery** - Scans target directory for valid source files
3. **File Processing** - Reads and combines all files with progress tracking
4. **AI Review** - Sends combined code to Claude for analysis
5. **Output Generation** - Saves review results to timestamped Markdown file

## Output

The script generates a Markdown file in the `output/` directory with the filename format:
```
folder_review_YYYY-MM-DDTHH-MM-SS.md
```

## Error Handling

- **No files found**: Exits with error message if no valid source files are discovered
- **File read errors**: Continues processing other files, logs errors for individual files
- **API errors**: Catches and displays Claude API errors

## Configuration Notes

### Environment Setup

Create a `.env` file in the same directory:
```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Token Limitations

- Current max_tokens is set to 2000
- Large codebases may require token limit adjustments
- Consider breaking very large projects into smaller chunks

## Suggestions for Improvement

1. **Add file size limits** to prevent token overflow
2. **Implement filtering options** to exclude certain directories (e.g., `node_modules`, `.git`)
3. **Add configuration file support** for customizable file extensions
4. **Include file count and size statistics** in the output
5. **Add option to exclude binary files** automatically
6. **Implement resume functionality** for large codebases

## Example Usage

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific project
python claude_folder_reviewer.py /path/to/my/project

# Review with progress tracking
python claude_folder_reviewer.py ~/development/webapp
```

The script will display real-time progress and save a comprehensive AI-generated code review to the output directory.