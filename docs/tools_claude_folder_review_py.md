<!-- Auto-generated by Claude on 2025-06-22 11:16 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that analyzes entire codebases by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool aggregates multiple source files into a single analysis request and returns structured feedback in Markdown format.

## Purpose

This script is designed to help developers and teams get high-level architectural insights about their codebase, focusing on:

- **Code organization** and structure
- **Bug patterns** and potential issues  
- **Architecture weaknesses** and design flaws
- **Suggestions for modularization** and code clarity improvements

## Key Features

- üîç **Recursive file scanning** with support for multiple programming languages
- üìä **Real-time progress tracking** with visual progress bars and ETA calculations
- ü§ñ **AI-powered analysis** using Anthropic Claude models
- üìù **Markdown output** with timestamped reports
- ‚öôÔ∏è **Configurable settings** via environment variables

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process  
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

```python
# Example output: "[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 75%"
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively discovers all source files with valid extensions in the target directory.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of absolute file paths

### `main()`

The primary orchestration function that:

1. **Initializes** the Claude API client and loads environment variables
2. **Scans** the target folder for source files
3. **Processes** each file with progress tracking and ETA calculations
4. **Combines** all source code into a single prompt
5. **Sends** the consolidated prompt to Claude for analysis
6. **Saves** the AI-generated review to a timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Supported File Types

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory's parent folder
python claude_folder_reviewer.py

# Review specific project folder
python claude_folder_reviewer.py /path/to/my/project

# Review relative path
python claude_folder_reviewer.py ../my-app/src
```

## Output

The script generates timestamped Markdown files in the `output/` directory:

```
output/folder_review_2024-01-15T14-30-45.md
```

Each report includes:
- Detailed code analysis and recommendations
- Architecture insights
- Bug pattern identification
- Modularization suggestions

## Requirements

```python
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è **Important Considerations**

- **API Costs**: Each review consumes Claude API tokens based on the total codebase size
- **Token Limits**: Large codebases may exceed model context limits (currently set to 2000 max tokens for output)
- **File Size**: Very large files or codebases might need chunking strategies

### üöÄ **Potential Improvements**

1. **Add file filtering options** to exclude test files, build artifacts, or specific directories
2. **Implement chunking strategy** for large codebases that exceed token limits
3. **Add support for more file types** (`.go`, `.rust`, `.java`, etc.)
4. **Include configuration file** support for customizable review criteria
5. **Add diff mode** to review only changed files in Git repositories
6. **Implement parallel processing** for faster file reading

### üí° **Usage Tips**

- Run on focused directories (e.g., `src/` folder) rather than entire repositories
- Use meaningful folder names as the script uses them in output filenames  
- Review the generated Markdown files in a proper Markdown viewer for best formatting
- Consider running regular reviews during development cycles for continuous code quality monitoring

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File reading permissions issues
- Claude API failures
- Empty directories with no valid source files