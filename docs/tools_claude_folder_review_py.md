<!-- Auto-generated by Claude on 2025-06-08 06:34 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive structural analysis and insights.

## Purpose

This tool is designed to help developers and teams get automated code reviews focused on:
- **Code organization** and structure
- **Bug patterns** and potential issues
- **Architecture weaknesses** and design flaws
- **Suggestions for modularization** and code clarity improvements

## Features

- üîç **Recursive file scanning** with support for multiple programming languages
- üìä **Real-time progress tracking** with ETA calculations
- ü§ñ **AI-powered code analysis** using Claude
- üìù **Markdown output** for easy reading and sharing
- ‚ö° **Batch processing** of entire codebases

## Requirements

- Python 3.x
- `anthropic` library
- `python-dotenv` library
- Valid Anthropic API key

## Setup

1. Install required dependencies:
   ```bash
   pip install anthropic python-dotenv
   ```

2. Create a `.env` file with your Anthropic API credentials:
   ```env
   ANTHROPIC_API_KEY=your_api_key_here
   ANTHROPIC_MODEL=claude-sonnet-4-20250514
   ```

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples
```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review with default folder (../137docs)
python claude_folder_reviewer.py
```

## Supported File Types

The script currently supports the following file extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Key Functions

### `render_progress(current, total, width=30)`
Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current number of processed files
- `total` (int): Total number of files to process
- `width` (int): Character width of the progress bar

**Returns:** Formatted progress bar string with percentage

### `estimate_valid_files(folder, valid_exts)`
Recursively scans a directory for files with specified extensions.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): Tuple of valid file extensions

**Returns:** List of full file paths matching the criteria

### `main()`
The primary function that orchestrates the entire review process:
1. Loads environment variables and initializes Claude client
2. Scans for valid source files
3. Reads and combines file contents
4. Sends batch request to Claude API
5. Saves the review to timestamped output file

## Output

Reviews are saved in the `output/` directory with timestamped filenames:
```
output/folder_review_2024-01-15T14-30-25.md
```

The output includes:
- **Comprehensive code analysis** in Markdown format
- **Structured insights** on code organization and architecture
- **Actionable recommendations** for improvements
- **List of reviewed files** for reference

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File reading permissions
- Network connectivity issues
- Invalid folder paths

## Performance Features

- **Progress tracking** with visual progress bar
- **ETA calculations** for large codebases
- **Efficient file batching** to minimize API calls
- **Graceful error recovery** for individual file failures

## Configuration Options

### Environment Variables
- `ANTHROPIC_API_KEY`: Your Anthropic API key (required)
- `ANTHROPIC_MODEL`: Claude model to use (optional, defaults to claude-sonnet-4-20250514)

### Customization Notes
- **File extensions** can be modified by updating the `valid_exts` tuple
- **Output directory** can be changed by modifying the `os.makedirs("output", exist_ok=True)` line
- **Token limits** can be adjusted in the Claude API call parameters

## Best Practices

- **API Rate Limits**: Be mindful of Anthropic's rate limits for large codebases
- **File Size**: Very large files may exceed token limits; consider splitting large codebases
- **Sensitive Code**: Ensure you're comfortable sending your code to external APIs
- **Regular Reviews**: Use this tool as part of your regular code review process

## Troubleshooting

### Common Issues
- **No API Key**: Ensure your `.env` file contains a valid `ANTHROPIC_API_KEY`
- **No Files Found**: Check that your target directory contains supported file types
- **Permission Errors**: Verify read permissions for the target directory
- **Network Errors**: Check internet connectivity and API status