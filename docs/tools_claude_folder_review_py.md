<!-- Auto-generated by Claude on 2025-06-02 08:28 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes source code folders using Anthropic's Claude AI. It scans directories for source files, combines them into a single prompt, and generates comprehensive code review insights in Markdown format.

## Purpose

This tool is designed to provide automated code review and analysis focusing on:

- **Code organization** - Structure and layout of the codebase
- **Bug patterns** - Potential issues and problematic code patterns  
- **Architecture weaknesses** - Structural problems in the codebase design
- **Suggestions for modularization and clarity** - Recommendations for improvement

## Features

- Recursive folder scanning for source files
- Progress tracking with visual progress bar and ETA
- Support for multiple programming languages
- Timestamped output files
- Error handling for file read operations
- Configurable AI model selection

## Requirements

### Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Supported File Types

The script currently supports the following file extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Generates a visual progress bar for tracking file processing progress.

**Parameters:**
- `current`: Current number of processed files
- `total`: Total number of files to process
- `width`: Width of the progress bar in characters (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 75%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory to find all source files with valid extensions.

**Parameters:**
- `folder`: Root directory path to search
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths for all valid source files

## Usage

### Command Line

```bash
# Review current directory's parent folder (default: ../137docs)
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project
```

### Output

The script generates:
- **Console output**: Progress tracking and file listing
- **Markdown file**: Detailed review saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

## Implementation Details

### Main Workflow

1. **Setup Phase**
   - Load environment variables
   - Initialize Anthropic client
   - Create output directory
   - Scan for valid source files

2. **File Processing**
   - Read each source file
   - Combine into single formatted prompt
   - Track progress with ETA calculations

3. **AI Analysis**
   - Send combined codebase to Claude API
   - Receive structured review in Markdown format

4. **Output Generation**
   - Save timestamped review file
   - Display summary and file list

### Error Handling

- Graceful handling of file read errors
- API error reporting
- Validation for empty directories

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Large codebases will consume significant API tokens
- **Token Limits**: Very large folders may exceed Claude's context window
- **File Encoding**: Assumes UTF-8 encoding for all source files

### üîß Potential Improvements

1. **Add token counting** to prevent context window overflow
2. **Implement file size filtering** to exclude very large files
3. **Add configuration file** for customizable file extensions
4. **Support for excluding directories** (e.g., `node_modules`, `.git`)
5. **Batch processing** for large codebases
6. **Interactive mode** for selective file inclusion

### üí° Usage Tips

- Test with smaller folders first to understand output quality
- Review the generated Markdown files for actionable insights
- Consider running on specific subdirectories for focused analysis
- Monitor API usage to manage costs effectively

## Example Output Structure

Generated reviews typically include:

```markdown
# Code Review: Project Analysis

## Overall Architecture
- Summary of codebase structure
- Architectural patterns identified

## Code Organization Issues
- File structure problems
- Naming convention inconsistencies

## Potential Bugs and Issues
- Error handling gaps
- Logic flaws

## Recommendations
- Refactoring suggestions
- Best practice implementations
```