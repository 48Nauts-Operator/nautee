<!-- Auto-generated by Claude on 2025-06-23 03:26 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review for entire project folders. It scans directories for source code files, combines them into a single prompt, and leverages Anthropic's Claude AI to generate comprehensive structural code insights in Markdown format.

## Purpose

This tool is designed to provide high-level code analysis focusing on:
- **Code organization** - How well the codebase is structured
- **Bug patterns** - Potential issues or anti-patterns
- **Architecture weaknesses** - Design flaws or bottlenecks  
- **Suggestions for modularization and clarity** - Recommendations for improvement

## Requirements

- Python 3.x
- Required packages:
  - `anthropic` - Claude API client
  - `python-dotenv` - Environment variable management
- Environment variables:
  - `ANTHROPIC_API_KEY` - Your Anthropic API key (required)
  - `ANTHROPIC_MODEL` - Claude model to use (optional, defaults to `claude-sonnet-4-20250514`)

## Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

- If no folder path is provided, it defaults to `../137docs`
- Output files are saved to the `output/` directory (created automatically)

## Key Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` - Number of files processed so far
- `total` - Total number of files to process  
- `width` - Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example output:** `[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 60%`

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory tree to find all source code files with valid extensions.

**Parameters:**
- `folder` - Root directory to search
- `valid_exts` - Tuple of acceptable file extensions

**Returns:** List of full file paths

**Supported file types:**
- `.py` - Python
- `.js` - JavaScript  
- `.ts` - TypeScript
- `.tsx` - TypeScript React
- `.jsx` - JavaScript React

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Setup** - Loads environment variables and initializes Claude client
2. **File Discovery** - Scans target folder for valid source files
3. **File Processing** - Reads each file and combines into single prompt
4. **API Request** - Sends combined codebase to Claude for analysis
5. **Output Generation** - Saves review to timestamped Markdown file

## Output

The script generates a timestamped Markdown file in the format:
```
output/folder_review_YYYY-MM-DDTHH-MM-SS.md
```

The review includes structured insights about the codebase's organization, potential issues, and improvement recommendations.

## Features

- **Progress Tracking** - Visual progress bar with ETA calculations
- **Error Handling** - Continues processing even if individual files fail to read
- **Flexible Input** - Command-line folder specification with sensible defaults
- **Timestamped Output** - Unique filenames prevent overwrites
- **Comprehensive Logging** - Shows processed files and timing information

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs** - Large codebases will consume significant Claude API tokens
- **Token Limits** - Very large codebases may exceed Claude's context window (currently 2000 max tokens for response)
- **File Size** - No individual file size limits are enforced

### üîß Potential Improvements

1. **Add token counting** to warn about large codebases before API calls
2. **Implement chunking** for codebases that exceed context limits
3. **Add configuration file** support for custom file extensions and settings
4. **Include file filtering** options (e.g., ignore test files, node_modules)
5. **Add summary statistics** (lines of code, file counts by type)

### üí° Usage Tips

- Test with smaller codebases first to understand output quality and API costs
- Consider using `.env` file for API key management rather than environment variables
- Review the generated Markdown files for actionable insights and track improvements over time

## Error Handling

The script includes robust error handling:
- Missing API keys result in clear error messages
- Unreadable files are skipped with warnings
- API failures are caught and reported
- Empty directories are detected and handled gracefully