<!-- Auto-generated by Claude on 2025-06-23 10:23 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning folders for source files and leveraging Anthropic's Claude AI to provide structural code insights. The tool batches multiple files together and generates comprehensive Markdown-formatted reviews focusing on code quality, architecture, and improvement suggestions.

## Purpose

This tool is designed to:
- **Automate code reviews** for entire project folders
- **Identify structural issues** and architecture weaknesses
- **Provide actionable insights** for code improvement
- **Generate comprehensive reports** in Markdown format
- **Save time** on manual code review processes

## Key Features

- ðŸ” **Recursive file scanning** with support for multiple programming languages
- ðŸ“Š **Real-time progress tracking** with ETA calculations
- ðŸ¤– **AI-powered code analysis** using Claude
- ðŸ“ **Markdown report generation** with timestamps
- âš¡ **Batch processing** for efficient API usage

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Official Anthropic API client
- `python-dotenv` - Environment variable management

## Important Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for terminal output.

**Parameters:**
- `current` (int): Current progress count
- `total` (int): Total items to process  
- `width` (int): Progress bar width in characters (default: 30)

**Returns:**
- `str`: Formatted progress bar with percentage

```python
# Example output: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ----------] 67%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively discovers source files in a directory tree.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): Supported file extensions

**Returns:**
- `list`: Complete file paths of all valid source files

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup** - Loads API keys and configuration
2. **File Discovery** - Scans target folder for source files
3. **Content Aggregation** - Combines all files into a single prompt
4. **AI Analysis** - Sends batch request to Claude API
5. **Report Generation** - Saves results to timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file in the project root:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Command Line Usage

```bash
# Review current directory
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/project

# Review relative path
python claude_folder_reviewer.py ../my-project
```

## Output Format

### Terminal Output
- Real-time progress tracking
- ETA calculations
- File processing status
- Error handling for inaccessible files

### Generated Reports
- **Location**: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`
- **Format**: Structured Markdown with sections for:
  - Code organization analysis
  - Bug pattern identification
  - Architecture weakness assessment
  - Modularization recommendations

## Error Handling

The script includes robust error handling for:
- **Missing API keys** - Graceful failure with clear error messages
- **Invalid file paths** - Continues processing other files
- **API rate limits** - Proper exception handling for Claude API errors
- **File access issues** - Skips problematic files with error logging

## Limitations & Considerations

### Token Limits
- Claude has a **2000 token limit** for responses
- Large codebases may need to be reviewed in chunks
- Consider splitting very large projects into smaller batches

### API Costs
- Each review consumes Claude API credits
- Batch processing helps minimize API calls
- Monitor usage for cost-sensitive projects

### File Size Limits
- Very large files may exceed prompt limits
- Consider excluding generated files or dependencies

## Suggestions for Improvement

### Recommended Enhancements

1. **Configuration File Support**
   ```python
   # Add support for .reviewrc or config.yaml
   # Allow custom file extension lists
   # Enable/disable specific analysis types
   ```

2. **Chunking Strategy**
   ```python
   # Implement intelligent file batching
   # Respect token limits automatically
   # Generate multiple reports for large projects
   ```

3. **Output Customization**
   ```python
   # Add JSON output format option
   # Support custom report templates
   # Enable filtering by severity/category
   ```

4. **Enhanced Progress Tracking**
   ```python
   # Add file size estimation
   # Show processing speed metrics
   # Include memory usage monitoring
   ```

### Usage Best Practices

- **Start small** - Test with small projects first
- **Review outputs** - Validate AI suggestions before implementation
- **Version control** - Keep review reports in project history
- **Iterative improvement** - Run reviews regularly during development

## Example Workflow

```bash
# 1. Set up environment
echo "ANTHROPIC_API_KEY=your_key" > .env

# 2. Run review
python claude_folder_reviewer.py ./my-project

# 3. Check results
ls output/
cat output/folder_review_2024-01-15T14-30-45.md
```

This tool provides a powerful foundation for automated code review processes and can be easily extended to meet specific project requirements.