<!-- Auto-generated by Claude on 2025-06-22 16:23 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning folders for source files and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool focuses on structural analysis, identifying potential issues, and suggesting improvements for better code organization and architecture.

## Purpose

This script serves as an automated code review assistant that:
- Scans directories for source code files
- Batches all files into a single analysis prompt
- Uses Claude AI to analyze code structure and patterns
- Generates detailed Markdown reports with actionable insights

## Key Features

- **Multi-language Support**: Analyzes Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress Tracking**: Real-time progress bar with ETA calculations
- **Batch Processing**: Combines all files for holistic codebase analysis
- **Automated Reporting**: Generates timestamped Markdown reports
- **Error Handling**: Gracefully handles file read errors and API issues

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively searches a directory for source files with valid extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths matching the criteria

### `main()`

The primary function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans the target folder for source files
3. **Content Aggregation**: Reads and combines all source files
4. **AI Analysis**: Sends combined content to Claude for review
5. **Report Generation**: Saves the analysis as a timestamped Markdown file

## Configuration

### Environment Variables

The script requires the following environment variables (typically stored in a `.env` file):

- `ANTHROPIC_API_KEY`: Your Anthropic Claude API key (required)
- `ANTHROPIC_MODEL`: Claude model to use (optional, defaults to "claude-sonnet-4-20250514")

### Supported File Extensions

- `.py` - Python files
- `.js` - JavaScript files
- `.ts` - TypeScript files
- `.tsx` - TypeScript JSX files
- `.jsx` - JavaScript JSX files

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory's parent folder (default)
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review relative path
python claude_folder_reviewer.py ./src
```

## Output

The script generates:
- **Console Output**: Real-time progress with file processing status
- **Markdown Report**: Detailed analysis saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Sample Console Output

```
üîç Found 15 source files in: ./src

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67% ‚è± ETA: 02:15 | ‚úÖ components/Header.tsx
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ utils/helpers.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-45.md` in 03:42

üìÅ Files Reviewed:
  - components/Header.tsx
  - utils/helpers.py
  - main.py
```

## Analysis Focus Areas

The Claude AI analysis concentrates on:

- **Code Organization**: File structure and module organization
- **Bug Patterns**: Common anti-patterns and potential issues
- **Architecture Weaknesses**: Structural problems and design flaws
- **Modularization Suggestions**: Recommendations for better code separation
- **Clarity Improvements**: Ways to enhance code readability

## Requirements

### Dependencies

```python
pip install anthropic python-dotenv
```

### System Requirements

- Python 3.6+
- Valid Anthropic Claude API key
- Internet connection for API calls

## Notes and Suggestions

### Best Practices

- **API Key Security**: Store your `ANTHROPIC_API_KEY` in a `.env` file, never commit it to version control
- **Large Codebases**: Be mindful of Claude's token limits when analyzing very large projects
- **Regular Reviews**: Run periodic reviews to track code quality improvements over time

### Limitations

- **Token Limits**: Very large codebases may exceed Claude's context window
- **Language Support**: Currently limited to web and Python technologies
- **Binary Files**: Only processes text-based source files

### Potential Improvements

- Add support for more programming languages
- Implement file size filtering to handle large codebases
- Add configuration file support for custom settings
- Include code metrics and complexity analysis
- Implement incremental analysis for large projects

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File read permissions
- Network connectivity issues
- API rate limiting
- Invalid folder paths