<!-- Auto-generated by Claude on 2025-06-08 07:18 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning source files in a directory and using Anthropic's Claude AI to provide comprehensive code reviews. The tool generates detailed insights about code organization, potential bugs, architecture issues, and improvement suggestions in Markdown format.

## Purpose

This tool is designed to help developers:
- Get automated code reviews for entire projects
- Identify structural issues and bug patterns
- Receive suggestions for better code organization
- Improve code modularity and clarity
- Save time on manual code reviews

## Key Features

- **Recursive file scanning** - Searches through all subdirectories
- **Progress tracking** - Visual progress bar with ETA estimates
- **Multiple language support** - Supports Python, JavaScript, TypeScript, JSX, and TSX files
- **Batch processing** - Combines all files into a single review request
- **Timestamped output** - Generates unique output files with timestamps

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current number of processed files
- `total` (int): Total number of files to process
- `width` (int): Width of the progress bar (default: 30 characters)

**Returns:**
- Formatted progress bar string with percentage

**Example output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 75%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory to find all source code files with valid extensions.

**Parameters:**
- `folder` (str): Root directory path to search
- `valid_exts` (tuple): Tuple of acceptable file extensions

**Returns:**
- List of full file paths for all valid source files

### `main()`

The primary function that orchestrates the entire review process:

1. **Environment Setup**
   - Loads environment variables from `.env` file
   - Initializes Anthropic client
   - Sets up model configuration

2. **File Discovery**
   - Scans target folder for source files
   - Supports extensions: `.py`, `.js`, `.ts`, `.tsx`, `.jsx`

3. **File Processing**
   - Reads each file and combines content
   - Displays real-time progress with ETA
   - Handles errors gracefully

4. **AI Review Generation**
   - Sends combined codebase to Claude API
   - Requests structured analysis focusing on:
     - Code organization
     - Bug patterns
     - Architecture weaknesses
     - Modularization suggestions

5. **Output Generation**
   - Saves review to timestamped Markdown file
   - Displays processing summary

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx")
```

## Usage

### Command Line

```bash
# Review current directory
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review with default folder (../137docs)
python claude_folder_reviewer.py
```

### Example Output

```
üîç Found 15 source files in: ../my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:15

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - frontend/app.js
```

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

**Required packages:**
- `anthropic` - Anthropic Claude API client
- `python-dotenv` - Environment variable management

## Installation

```bash
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review sends your entire codebase to Claude API, which may incur significant costs for large projects
- **Token Limits**: Large codebases may exceed API token limits
- **Sensitive Code**: Avoid using this tool with proprietary or sensitive code that shouldn't be sent to external APIs

### üîß Potential Improvements

1. **File Size Filtering**: Add maximum file size limits to avoid processing very large files
2. **Gitignore Integration**: Respect `.gitignore` rules to avoid reviewing build files
3. **Chunking Strategy**: Split very large codebases into multiple smaller reviews
4. **Custom Extensions**: Allow users to specify custom file extensions via command line
5. **Output Formats**: Support additional output formats (HTML, PDF)
6. **Error Recovery**: Implement retry logic for API failures

### üí° Best Practices

- Test with small projects first to understand API costs
- Review the generated output files regularly
- Use version control to track changes based on review suggestions
- Consider running reviews periodically during development cycles

## Output Structure

The generated Markdown review typically includes:
- Executive summary of the codebase
- Identified issues and bug patterns
- Architecture recommendations
- Specific suggestions for improvement
- Code organization feedback