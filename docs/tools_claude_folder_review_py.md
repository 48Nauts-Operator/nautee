<!-- Auto-generated by Claude on 2025-06-01 11:15 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning source files in a directory and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool combines all source files into a single prompt and generates a detailed Markdown report focusing on code quality, architecture, and improvement suggestions.

## Purpose

This tool is designed to help developers:
- Get an AI-powered overview of their codebase structure
- Identify potential bugs and architectural issues
- Receive suggestions for code organization and modularization
- Generate documentation-ready insights in Markdown format

## Key Features

- **Recursive file scanning** for multiple programming languages
- **Progress tracking** with visual progress bar and ETA estimation
- **Batch processing** of source files into a single AI prompt
- **Markdown output** with timestamped file generation
- **Error handling** for file reading and API interactions

## Requirements

### Dependencies
```python
pip install anthropic python-dotenv
```

### Environment Variables
Create a `.env` file with:
```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted string with progress bar and percentage

**Example output:** `[████████████████████----------] 67%`

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory tree to find all source files with valid extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### `main()`

The primary function that orchestrates the entire review process:

1. **Setup Phase:**
   - Loads environment variables
   - Initializes Claude API client
   - Sets up output directory

2. **File Discovery:**
   - Scans target folder for source files
   - Validates file count

3. **Processing Phase:**
   - Reads each file with progress tracking
   - Combines content into single prompt
   - Handles file reading errors gracefully

4. **AI Analysis:**
   - Sends combined codebase to Claude
   - Requests structured review focusing on:
     - Code organization
     - Bug patterns
     - Architecture weaknesses
     - Modularization suggestions

5. **Output Generation:**
   - Saves review as timestamped Markdown file
   - Provides processing summary

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py /path/to/your/codebase
```

### Default Behavior
```bash
python claude_folder_reviewer.py
# Uses "../137docs" as default folder
```

## Output

### Console Output
- Real-time progress tracking with ETA
- File processing status
- Error reporting for problematic files
- Processing time summary
- List of successfully reviewed files

### Generated Files
- **Location:** `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`
- **Format:** Markdown document with Claude's analysis
- **Content:** Structured insights about code quality and architecture

## Error Handling

The script includes robust error handling for:
- **Missing files:** Graceful handling when target folder doesn't exist
- **Invalid files:** Continues processing when individual files can't be read
- **API errors:** Clear error messages for Claude API issues
- **No valid files:** Exits gracefully with informative message

## Notes and Suggestions

### Performance Considerations
- **Large codebases:** May hit Claude's token limits with very large projects
- **API costs:** Each run consumes Claude API tokens
- **Processing time:** Depends on number of files and API response time

### Best Practices
- **Organize output:** Review the `output/` directory regularly
- **Filter files:** Consider modifying `valid_exts` for specific needs
- **Token limits:** Break down very large codebases into smaller chunks

### Potential Improvements
- Add configuration file support for custom file extensions
- Implement token counting to prevent API limit issues
- Add support for excluding certain directories (e.g., `node_modules`, `.git`)
- Include file size filtering to avoid processing very large files

### Security Considerations
- Ensure your `.env` file is in `.gitignore`
- Be mindful of sending proprietary code to external AI services
- Consider local AI alternatives for sensitive codebases