<!-- Auto-generated by Claude on 2025-06-22 21:18 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive structural analysis and insights. The script aggregates multiple source files into a single prompt and generates detailed Markdown reports focusing on code quality, architecture, and improvement suggestions.

## Purpose

This tool is designed to help developers and teams:
- **Automate code reviews** across entire project directories
- **Identify architectural weaknesses** and bug patterns
- **Receive AI-powered suggestions** for code organization and modularization
- **Generate comprehensive reports** in Markdown format for documentation

## Key Features

- ‚úÖ **Multi-language support** for Python, JavaScript, TypeScript, JSX, and TSX files
- ‚úÖ **Recursive directory scanning** to find all relevant source files
- ‚úÖ **Real-time progress tracking** with visual progress bars and ETA calculations
- ‚úÖ **Error handling** for file reading issues
- ‚úÖ **Timestamped output** files for organized report management

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted string with progress bar and percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 60%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively searches a directory for source files with specified extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths matching the criteria

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans target directory for source files
3. **Content Aggregation**: Reads and combines file contents
4. **AI Analysis**: Sends aggregated code to Claude API
5. **Report Generation**: Saves results to timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific project folder
python claude_folder_reviewer.py /path/to/my/project

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

The script generates:
- **Progress tracking** in the terminal with ETA estimates
- **Markdown report** saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`
- **Summary of reviewed files** displayed at completion

### Sample Output Format

```
üîç Found 15 source files in: /my/project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:34

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - components/Header.tsx
```

## Dependencies

Install required packages:

```bash
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review consumes Claude API tokens proportional to codebase size
- **Token Limits**: Large codebases may exceed Claude's context window (currently 2000 max tokens for output)
- **File Size**: Very large files or numerous files might require batching strategies

### üîß Potential Improvements

1. **Batch Processing**: Implement chunking for large codebases
2. **File Filtering**: Add ignore patterns for generated files, dependencies
3. **Custom Extensions**: Make file extensions configurable via command line
4. **Output Formats**: Support for JSON, HTML, or other output formats
5. **Caching**: Implement file change detection to avoid re-reviewing unchanged files

### üí° Best Practices

- Use on smaller to medium-sized projects initially
- Review the generated reports manually for accuracy
- Consider using different Claude models based on your needs
- Regularly update your `.env` file with the latest model versions

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File reading permissions issues
- Network connectivity problems with Claude API
- Empty directories or no matching files