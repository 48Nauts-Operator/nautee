<!-- Auto-generated by Claude on 2025-06-23 05:22 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning folders for source files and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool generates structured Markdown reports focusing on code organization, potential bugs, architectural weaknesses, and improvement suggestions.

## Purpose

This tool is designed for developers and teams who want to:
- Get automated code reviews of entire project folders
- Identify architectural patterns and anti-patterns
- Receive suggestions for code organization and modularization
- Detect potential bug patterns across multiple files
- Generate comprehensive documentation of code structure

## Key Features

- **Multi-language support**: Supports Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress tracking**: Visual progress bar with ETA calculations
- **Batch processing**: Combines all source files into a single AI prompt for holistic analysis
- **Markdown output**: Generates timestamped review reports in Markdown format
- **Error handling**: Gracefully handles file reading errors and API failures

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

**Required packages:**
- `anthropic` - Anthropic Claude API client
- `python-dotenv` - Environment variable management

## Environment Setup

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Important Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example output:** `[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 65%`

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory for source files with specified extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths matching the criteria

**Supported extensions:** `.py`, `.js`, `.ts`, `.tsx`, `.jsx`

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment setup**: Loads API credentials and configuration
2. **File discovery**: Scans target folder for valid source files  
3. **Content aggregation**: Reads and combines all source files
4. **AI analysis**: Sends combined content to Claude for review
5. **Report generation**: Saves timestamped Markdown report to output folder

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py
```
*Reviews the default folder: `../137docs`*

### Custom Folder
```bash
python claude_folder_reviewer.py /path/to/your/project
```

## Output

The script generates timestamped Markdown files in the `output/` directory:
- **Filename format**: `folder_review_YYYY-MM-DDTHH-MM-SS.md`
- **Content**: Structured code review with insights on organization, bugs, architecture, and improvement suggestions

## Console Output Example

```
üîç Found 15 source files in: /my/project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ utils/helpers.js

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-25.md` in 02:45

üìÅ Files Reviewed:
  - src/main.py
  - utils/helpers.js
  - components/App.tsx
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review uses Claude API tokens; monitor usage for large codebases
- **Token Limits**: Very large codebases may exceed model token limits (currently 2000 max tokens for response)
- **File Size**: No current limit on individual file sizes - large files may cause issues

### üîß Potential Improvements

1. **Add file size filtering** to prevent extremely large files from breaking the process
2. **Implement chunking strategy** for codebases that exceed token limits  
3. **Add configuration file support** for customizing file extensions and exclusion patterns
4. **Include line count and complexity metrics** in the progress output
5. **Add support for additional languages** (Go, Rust, Java, etc.)

### üí° Best Practices

- Run on smaller projects first to understand output format and API costs
- Review the generated Markdown files regularly to track code quality improvements
- Use version control to compare reviews over time
- Consider excluding test files or generated code for more focused reviews

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File reading permissions issues  
- Network connectivity problems with Claude API
- Empty directories or unsupported file types

All errors are logged with descriptive messages and emoji indicators for easy identification.