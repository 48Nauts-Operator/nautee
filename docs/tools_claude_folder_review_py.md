<!-- Auto-generated by Claude on 2025-06-22 22:18 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes codebases by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive code reviews. The tool generates structured insights in Markdown format, focusing on code quality, architecture, and improvement suggestions.

## Purpose

This script serves as an automated code review assistant that:
- Scans directories recursively for source code files
- Batches multiple files into a single AI prompt for holistic analysis
- Generates detailed code reviews focusing on:
  - Code organization and structure
  - Potential bug patterns
  - Architecture weaknesses
  - Modularization suggestions
  - Code clarity improvements

## Key Features

- **Multi-language support**: Supports Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress tracking**: Real-time progress bar with ETA calculations
- **Batch processing**: Combines all files into a single comprehensive review
- **Timestamped output**: Generates uniquely named output files
- **Error handling**: Gracefully handles file reading errors and API failures

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Current number of processed files
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà-----] 75%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively discovers all valid source files in the specified directory.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of absolute file paths

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans for valid source files
3. **Progress Tracking**: Processes files with real-time feedback
4. **Content Aggregation**: Combines all files into a structured prompt
5. **AI Analysis**: Sends combined content to Claude for review
6. **Output Generation**: Saves the review to a timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific project folder
python claude_folder_reviewer.py /path/to/your/project

# Review using default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

The script generates:
- **Console output**: Real-time progress updates with ETA
- **Markdown file**: Comprehensive review saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`
- **File summary**: List of all reviewed files

### Sample Console Output

```
üîç Found 15 source files in: ./my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 80% ‚è± ETA: 01:23 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ tests/test_main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-45.md` in 02:15

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

## Dependencies

```python
pip install anthropic python-dotenv
```

## Error Handling

The script includes robust error handling for:
- **Missing API keys**: Graceful failure with clear error messages
- **File read errors**: Individual file failures don't stop the entire process
- **API errors**: Claude API connection issues are caught and reported
- **Empty directories**: Exits cleanly when no valid files are found

## Suggestions for Enhancement

### Performance Improvements
- **Token limit awareness**: Monitor prompt size to avoid API limits
- **Parallel processing**: Process files concurrently for faster scanning
- **Incremental reviews**: Only review changed files in subsequent runs

### Feature Additions
- **Configuration file**: Support for custom file extensions and exclusion patterns
- **Multiple output formats**: JSON, HTML, or plain text options
- **Integration hooks**: Git hooks for automated pre-commit reviews
- **Custom prompts**: User-defined review criteria and focus areas

### Code Quality
- **Type hints**: Add comprehensive type annotations
- **Logging**: Replace print statements with proper logging
- **Testing**: Add unit tests for utility functions
- **Documentation**: Add inline docstrings for better maintainability

## Notes

‚ö†Ô∏è **Important Considerations:**
- Large codebases may exceed Claude's token limits
- API costs scale with codebase size
- Review quality depends on code complexity and Claude's current capabilities
- Sensitive code should not be processed without proper security considerations