<!-- Auto-generated by Claude on 2025-06-01 19:15 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The tool combines multiple source files into a single analysis request and generates detailed Markdown reports focusing on code quality, architecture, and improvement suggestions.

## Purpose

This script serves as an automated code review assistant that helps developers:

- **Analyze entire codebases** at once for structural patterns
- **Identify potential bugs** and architectural weaknesses
- **Receive AI-powered suggestions** for code organization and modularization
- **Generate comprehensive reports** in readable Markdown format

## Key Features

- ‚úÖ **Multi-language support** for common web and Python files
- ‚úÖ **Progress tracking** with visual progress bars and ETA calculations
- ‚úÖ **Batch processing** of multiple files into single AI analysis
- ‚úÖ **Timestamped output** for tracking review history
- ‚úÖ **Error handling** for file access issues

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Core Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current file being processed
- `total` (int): Total number of files to process
- `width` (int): Character width of progress bar (default: 30)

**Returns:**
- `str`: Formatted progress bar with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively scans directories to find all source files with valid extensions.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): Accepted file extensions

**Returns:**
- `list`: Complete file paths of all valid source files

**Supported Extensions:**
- `.py` - Python files
- `.js` - JavaScript files  
- `.ts` - TypeScript files
- `.tsx` - TypeScript React files
- `.jsx` - JavaScript React files

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Default Settings

- **Default folder**: `../137docs` (if no argument provided)
- **Output directory**: `output/` (created automatically)
- **Model fallback**: `claude-sonnet-4-20250514`
- **Max tokens**: 2000

## Usage

### Command Line

```bash
# Review default folder
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project
```

### Example Output

```
üîç Found 15 source files in: ../my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà--] 80% ‚è± ETA: 00:15 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà-] 87% ‚è± ETA: 00:08 | ‚úÖ src/utils.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 01:23

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - src/components/header.tsx
```

## Output Format

The script generates timestamped Markdown files in the `output/` directory with:

- **Code organization analysis**
- **Bug pattern identification**
- **Architecture weakness assessment**
- **Modularization suggestions**
- **Code clarity improvements**

## Error Handling

The script includes robust error handling for:

- **Missing API keys** - Environment variable validation
- **File access errors** - Individual file read failures don't stop processing
- **API failures** - Claude service connectivity issues
- **Empty directories** - Graceful exit when no valid files found

## Suggestions for Improvement

### Performance Enhancements
- Consider adding **file size limits** to prevent token overflow
- Implement **chunking strategies** for very large codebases
- Add **concurrent file reading** for faster processing

### Feature Additions
- **Configuration file support** for custom file extensions
- **Exclude patterns** for ignoring specific directories (e.g., `node_modules`)
- **Multiple output formats** (JSON, HTML, etc.)
- **Integration with git** for reviewing only changed files

### Error Recovery
- **Retry logic** for API failures
- **Partial processing recovery** if script is interrupted
- **File encoding detection** for international character support

## Security Notes

‚ö†Ô∏è **Important**: Ensure your `.env` file is added to `.gitignore` to prevent API key exposure in version control.

‚ö†Ô∏è **Token Limits**: Be aware of Claude's token limits when processing very large codebases.