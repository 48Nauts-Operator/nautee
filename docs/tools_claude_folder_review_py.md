<!-- Auto-generated by Claude on 2025-06-08 03:24 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning folders for source files and leveraging Anthropic's Claude AI to provide comprehensive code reviews. The tool generates detailed insights about code organization, potential bugs, architectural issues, and improvement suggestions in Markdown format.

## Purpose

This tool is designed for developers and teams who want to:
- Get automated code reviews of entire project folders
- Identify structural weaknesses in their codebase
- Receive suggestions for better code organization and modularization
- Analyze multiple files simultaneously for comprehensive insights

## Key Features

- **Recursive File Scanning**: Automatically discovers source files in nested directories
- **Batch Processing**: Combines multiple files into a single AI prompt for holistic analysis
- **Progress Tracking**: Visual progress bar with ETA estimation
- **Multiple Language Support**: Supports Python, JavaScript, TypeScript, JSX, and TSX files
- **Markdown Output**: Generates structured review reports in Markdown format

## Installation & Setup

### Prerequisites

```bash
pip install anthropic python-dotenv
```

### Environment Configuration

Create a `.env` file in the project directory:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory's parent folder
python claude_folder_reviewer.py ../my_project

# Review specific folder
python claude_folder_reviewer.py /path/to/codebase

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Current number of processed files
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[████████████████████----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively searches for source files with valid extensions.

**Parameters:**
- `folder`: Root directory path to search
- `valid_exts`: Tuple of accepted file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### `main()`

The primary function that orchestrates the entire review process:

1. **Setup Phase**: Loads environment variables and initializes Claude client
2. **Discovery Phase**: Scans folder for valid source files
3. **Processing Phase**: Reads files and combines them into a single prompt
4. **Analysis Phase**: Sends combined code to Claude for review
5. **Output Phase**: Saves the review to a timestamped Markdown file

## Output

### File Location
Reviews are saved to: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Review Focus Areas
The AI analysis covers:
- **Code Organization**: Structure and file organization patterns
- **Bug Patterns**: Potential issues and vulnerabilities
- **Architecture Weaknesses**: Design flaws and improvement opportunities
- **Modularization Suggestions**: Recommendations for better code separation

## Configuration Options

### Supported File Extensions
Currently supports web development and Python files:
```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx")
```

### Model Configuration
The default model can be changed via environment variable:
```env
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

## Error Handling

The script includes robust error handling for:
- **Missing API Keys**: Graceful failure with clear error messages
- **File Read Errors**: Individual file failures don't stop the entire process
- **API Errors**: Network and API communication issues are caught and reported
- **Empty Folders**: Validation ensures at least one valid file exists

## Notes & Suggestions

### Performance Considerations
- **Large Codebases**: Be mindful of Claude's token limits when reviewing very large projects
- **API Costs**: Each review consumes API tokens; consider batching smaller projects together

### Best Practices
- **Regular Reviews**: Run periodic reviews to catch architectural drift
- **Focused Analysis**: For large projects, consider reviewing specific modules separately
- **Team Integration**: Share generated reports with team members for collaborative improvement

### Limitations
- **Token Limits**: Very large codebases may exceed Claude's context window
- **Language Support**: Currently limited to web development languages and Python
- **Binary Files**: Only processes text-based source files

### Future Enhancements
Consider adding:
- Support for additional programming languages
- Configurable file filtering options
- Integration with version control systems
- Automated report scheduling

## Example Output Structure

```markdown
# Code Review Report
## Code Organization
- Analysis of folder structure
- Import/dependency patterns

## Potential Issues
- Bug patterns identified
- Security concerns

## Architecture Recommendations
- Suggested improvements
- Refactoring opportunities
```