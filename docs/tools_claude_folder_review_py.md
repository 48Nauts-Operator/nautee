<!-- Auto-generated by Claude on 2025-06-21 22:18 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning a folder for source files and using Anthropic's Claude AI to generate comprehensive code analysis. The tool batches multiple source files into a single prompt and returns structured insights in Markdown format.

## Purpose

This script is designed to help developers get automated feedback on their codebase by analyzing:

- **Code organization** - How well the code is structured and organized
- **Bug patterns** - Potential issues or anti-patterns in the code
- **Architecture weaknesses** - Structural problems in the codebase design
- **Suggestions for modularization and clarity** - Recommendations for improving code maintainability

## Requirements

### Dependencies
```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Environment Variables
- `ANTHROPIC_API_KEY` - Your Anthropic API key (required)
- `ANTHROPIC_MODEL` - Model to use (optional, defaults to "claude-sonnet-4-20250514")

### Setup
Create a `.env` file in your project root:
```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

## Key Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Renders a visual progress bar for tracking file processing.

**Parameters:**
- `current` - Current number of processed files
- `total` - Total number of files to process
- `width` - Width of the progress bar (default: 30 characters)

**Returns:** Formatted progress bar string with percentage

**Example output:** `[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%`

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory to find all source files with valid extensions.

**Parameters:**
- `folder` - Root directory path to search
- `valid_exts` - Tuple of acceptable file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Command Line
```bash
# Review current directory
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review with default fallback folder
python claude_folder_reviewer.py  # Uses "../137docs" as default
```

### Output
The script generates timestamped Markdown files in the `output/` directory:
```
output/folder_review_2024-01-15T14-30-45.md
```

## Workflow

1. **Environment Setup** - Loads environment variables and initializes Claude client
2. **File Discovery** - Recursively finds all valid source files
3. **Progress Tracking** - Shows real-time progress with ETA estimates
4. **File Processing** - Reads each file and combines into a single prompt
5. **AI Analysis** - Sends combined codebase to Claude for review
6. **Report Generation** - Saves the analysis as a timestamped Markdown file

## Features

### Progress Monitoring
- Real-time progress bar
- ETA calculation based on processing speed
- File-by-file status updates

### Error Handling
- Graceful handling of unreadable files
- API error reporting
- Validation for empty directories

### Flexible Configuration
- Customizable model selection via environment variables
- Support for multiple programming languages
- Configurable target directories

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run consumes Claude API tokens. Monitor usage for large codebases.
- **Token Limits**: Very large codebases may exceed Claude's token limits (current limit: 2000 tokens for response).
- **File Size**: No individual file size checking - very large files could cause issues.

### üîß Potential Improvements

1. **Add file size validation** to prevent processing extremely large files
2. **Implement chunking** for codebases that exceed token limits  
3. **Add configuration file support** for custom file extensions and exclusion patterns
4. **Include Git integration** to review only changed files
5. **Add output format options** (JSON, HTML, etc.)

### üí° Usage Tips

- Use `.gitignore` patterns to exclude build artifacts and dependencies
- Consider running on feature branches for focused reviews
- Review the output manually as AI suggestions may need human validation
- Keep API keys secure and never commit them to version control

### üöÄ Example Use Cases

- **Pre-commit reviews** - Analyze changes before committing
- **Legacy code assessment** - Understand inherited codebases
- **Architecture planning** - Get suggestions before major refactoring
- **Code quality audits** - Regular automated code quality checks