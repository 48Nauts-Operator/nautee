<!-- Auto-generated by Claude on 2025-06-02 03:21 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning folders for source code files and leveraging Anthropic's Claude AI to provide comprehensive structural insights and recommendations.

## Purpose

This tool is designed to help developers and teams:
- Get automated code reviews for entire project folders
- Identify architectural weaknesses and bug patterns
- Receive suggestions for better code organization
- Improve code modularity and clarity

## Features

- **Multi-language Support**: Processes Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress Tracking**: Real-time progress bar with ETA calculations
- **Batch Processing**: Combines multiple files into a single AI review request
- **Markdown Output**: Generates structured review reports in Markdown format
- **Error Handling**: Gracefully handles file reading errors and API failures

## Requirements

### Dependencies
```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Environment Variables
- `ANTHROPIC_API_KEY`: Your Anthropic Claude API key (required)
- `ANTHROPIC_MODEL`: Claude model to use (optional, defaults to `claude-sonnet-4-20250514`)

### Setup
1. Install required packages:
   ```bash
   pip install anthropic python-dotenv
   ```
2. Create a `.env` file with your API key:
   ```
   ANTHROPIC_API_KEY=your_api_key_here
   ANTHROPIC_MODEL=claude-sonnet-4-20250514  # optional
   ```

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Current number of processed files
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 75%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory to find all source code files with valid extensions.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### `main()`

The primary function that orchestrates the entire review process:

1. **Environment Setup**: Loads environment variables and initializes Claude client
2. **File Discovery**: Scans the target folder for source files
3. **Content Aggregation**: Reads and combines all source files
4. **AI Review**: Sends combined content to Claude for analysis
5. **Report Generation**: Saves the review as a timestamped Markdown file

## Usage

### Command Line
```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples
```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/project

# Review default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

### Console Output
```
üîç Found 15 source files in: ../my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-25.md` in 02:15

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

### Generated Report
- **Location**: `output/folder_review_[timestamp].md`
- **Format**: Markdown with structured insights
- **Content**: Code organization analysis, bug patterns, architecture recommendations

## Configuration

### Supported File Types
The script currently processes these file extensions:
```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx")
```

### Output Directory
Reviews are automatically saved to an `output/` directory, which is created if it doesn't exist.

## Error Handling

- **Missing Files**: Gracefully skips unreadable files and continues processing
- **API Errors**: Catches and reports Claude API failures
- **No Valid Files**: Exits gracefully when no source files are found

## Limitations & Considerations

- **Token Limits**: Large codebases may exceed Claude's token limits (currently set to 2000 max tokens for response)
- **API Costs**: Each review consumes API tokens; consider costs for large projects
- **File Size**: Very large files may cause issues with prompt length limits

## Suggestions for Improvement

- Add support for more programming languages
- Implement file size filtering to avoid oversized prompts
- Add configuration file support for custom settings
- Include exclude patterns for ignoring specific files/directories
- Add support for incremental reviews (only changed files)