<!-- Auto-generated by Claude on 2025-05-31 21:12 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning folders for source files and leveraging Anthropic's Claude AI to provide comprehensive code review insights. The tool focuses on identifying structural issues, architectural weaknesses, and providing actionable recommendations for code improvement.

## Purpose

This script is designed to:
- **Automate code reviews** for entire project folders
- **Identify patterns and issues** across multiple files simultaneously
- **Generate structured feedback** in Markdown format
- **Save time** by providing AI-powered insights on code organization and architecture

## Key Features

- üîç **Recursive file scanning** with support for multiple programming languages
- üìä **Real-time progress tracking** with ETA calculations
- ü§ñ **AI-powered analysis** using Anthropic Claude
- üìù **Markdown output** with timestamped reports
- ‚ö° **Batch processing** of multiple source files

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Anthropic Claude API client
- `python-dotenv` - Environment variable management

## Configuration

### Environment Variables
Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Supported File Extensions
The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Generates a visual progress bar for tracking file processing.

**Parameters:**
- `current` - Number of files processed
- `total` - Total number of files to process
- `width` - Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory tree to find all source files with valid extensions.

**Parameters:**
- `folder` - Root directory path to scan
- `valid_exts` - Tuple of acceptable file extensions

**Returns:** List of absolute file paths

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Setup Phase**
   - Loads environment variables
   - Initializes Claude client
   - Creates output directory

2. **File Discovery**
   - Scans target folder for valid source files
   - Validates file count

3. **File Processing**
   - Reads each file and combines content
   - Displays real-time progress with ETA
   - Handles file reading errors gracefully

4. **AI Analysis**
   - Sends combined codebase to Claude API
   - Requests structured review focusing on:
     - Code organization
     - Bug patterns
     - Architecture weaknesses
     - Modularization suggestions

5. **Output Generation**
   - Saves review to timestamped Markdown file
   - Displays processing summary

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py /path/to/your/codebase
```

### Default Behavior
If no folder is specified, it defaults to `../137docs`:
```bash
python claude_folder_reviewer.py
```

## Output

### File Structure
Reviews are saved to the `output/` directory with timestamped filenames:
```
output/folder_review_2024-01-15T14-30-45.md
```

### Sample Output Format
The script provides detailed console output during execution:

```
üîç Found 15 source files in: /path/to/project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67% ‚è± ETA: 02:15 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----] 75% ‚è± ETA: 01:45 | ‚úÖ src/utils.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-45.md` in 05:32

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

## Error Handling

- **Missing API Key**: Script will fail if `ANTHROPIC_API_KEY` is not set
- **No Valid Files**: Exits with error message if no source files are found
- **File Read Errors**: Continues processing other files, logs errors
- **API Errors**: Catches and displays Claude API errors

## Limitations and Considerations

### Token Limits
- **Current limit**: 2000 tokens for Claude response
- **Large codebases** may hit input token limits
- Consider breaking down very large projects

### File Type Support
- Currently limited to web development languages
- Can be easily extended by modifying `valid_exts` tuple

### API Costs
- Each review consumes Claude API tokens
- Monitor usage for large codebases

## Suggestions for Enhancement

1. **Add configuration file** support for custom file extensions
2. **Implement chunking** for very large codebases
3. **Add filtering options** to exclude certain directories (e.g., `node_modules`)
4. **Support for additional languages** (Java, C++, Go, etc.)
5. **Interactive mode** for selective file inclusion
6. **Integration with CI/CD** pipelines for automated reviews

## Security Notes

- Store API keys securely using environment variables
- Avoid committing `.env` files to version control
- Be mindful of sending proprietary code to external APIs