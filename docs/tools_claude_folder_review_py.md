<!-- Auto-generated by Claude on 2025-06-01 22:18 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning directories for source files and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The tool generates detailed Markdown reports focusing on code organization, potential bugs, architectural issues, and improvement suggestions.

## Purpose

This tool is designed for developers and teams who need:
- Automated code quality assessments
- Architectural review of entire codebases
- Identification of potential bug patterns
- Suggestions for code modularization and clarity improvements
- Quick overview of code structure across multiple files

## Key Features

- **Multi-language Support**: Scans Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress Tracking**: Real-time progress bar with ETA calculations
- **Batch Processing**: Combines multiple files into a single AI prompt for comprehensive analysis
- **Markdown Output**: Generates well-formatted review reports
- **Error Handling**: Gracefully handles file reading errors and API failures

## Installation & Setup

### Prerequisites

```bash
pip install anthropic python-dotenv
```

### Environment Configuration

Create a `.env` file in the script directory:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory's parent folder
python claude_folder_reviewer.py ../my_project

# Review specific folder
python claude_folder_reviewer.py /path/to/codebase

# Use default folder (../137docs)
python claude_folder_reviewer.py
```

## Functions Reference

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed
- `total`: Total files to process  
- `width`: Progress bar width in characters (default: 30)

**Returns:** Formatted progress string with percentage

**Example Output:**
```
[████████████████████████------] 80%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively discovers all source files with valid extensions in the target directory.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### `main()`

Primary execution function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans target directory for source files
3. **Content Aggregation**: Reads and combines file contents
4. **AI Analysis**: Sends combined content to Claude for review
5. **Report Generation**: Saves Markdown report with timestamp

## Output Format

### File Structure
```
output/
└── folder_review_YYYY-MM-DDTHH-MM-SS.md
```

### Report Contents
The generated Markdown report typically includes:
- **Code Organization Analysis**
- **Identified Bug Patterns**
- **Architecture Weakness Assessment**
- **Modularization Recommendations**
- **Code Clarity Suggestions**

## Configuration Options

### Model Selection
Modify the model via environment variable:
```env
ANTHROPIC_MODEL=claude-3-opus-20240229
```

### Supported File Extensions
To add new file types, modify the `valid_exts` tuple in `main()`:
```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx", ".go", ".java")
```

## Error Handling

The script includes robust error handling for:
- **Missing API Keys**: Graceful failure with clear error messages
- **File Access Issues**: Continues processing other files when individual files fail
- **API Rate Limits**: Reports Claude API errors without crashing
- **Empty Directories**: Exits cleanly when no valid files are found

## Performance Considerations

### Token Limits
- Current max tokens: 2000
- Large codebases may require chunking for complete analysis

### Rate Limiting
- No built-in rate limiting (depends on Anthropic API limits)
- Consider adding delays for large projects

## Best Practices

### Usage Recommendations
- **Start Small**: Test with smaller codebases first
- **Review Regularly**: Run periodic reviews during development cycles  
- **Compare Reports**: Track improvements over time using timestamped outputs

### Limitations
- **Context Window**: Very large codebases may exceed Claude's context limits
- **Language Focus**: Optimized for web development languages
- **Static Analysis**: Cannot detect runtime-specific issues

## Troubleshooting

### Common Issues

**No files found:**
```bash
❌ No valid files found in /path/to/folder
```
- Verify folder path exists
- Check if folder contains supported file types

**API Authentication Error:**
```bash
❌ Claude API error: Authentication failed
```
- Verify `ANTHROPIC_API_KEY` in `.env` file
- Check API key validity and permissions

**File Permission Errors:**
- Ensure read permissions for target directory
- Run with appropriate user privileges if needed

## Future Enhancements

Potential improvements for future versions:
- **Configuration File**: YAML/JSON config for custom settings
- **Chunk Processing**: Handle larger codebases by splitting into chunks
- **Custom Prompts**: Allow user-defined review criteria
- **Integration**: Git hooks for automated reviews on commits
- **Filtering**: Exclude specific directories (node_modules, .git, etc.)