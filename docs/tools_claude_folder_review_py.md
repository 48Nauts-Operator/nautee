<!-- Auto-generated by Claude on 2025-06-21 21:17 -->

# Claude Folder Reviewer

## Overview

The Claude Folder Reviewer is a Python script that automates code review processes by scanning a directory for source files and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The tool batches multiple files into a single review request and generates detailed feedback in Markdown format.

## Purpose

This script is designed to help developers and teams get AI-powered code reviews focused on:

- **Code organization** - How well the codebase is structured
- **Bug patterns** - Potential issues or anti-patterns in the code
- **Architecture weaknesses** - Structural problems in the design
- **Suggestions for modularization and clarity** - Recommendations for improvement

## Key Features

- üìÅ Recursive directory scanning for source files
- üîÑ Real-time progress tracking with ETA estimation
- ü§ñ AI-powered code review using Claude
- üìù Markdown-formatted output with timestamps
- üéØ Support for multiple programming languages

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Generates a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Number of files processed so far
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively discovers all source files with valid extensions in the specified directory.

**Parameters:**
- `folder`: Root directory path to scan
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of absolute file paths

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup** - Loads API credentials and configuration
2. **File Discovery** - Scans the target directory for source files
3. **Content Batching** - Combines all files into a single prompt
4. **AI Review** - Sends the batched content to Claude for analysis
5. **Output Generation** - Saves the review to a timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/my/project

# Review default folder (../137docs)
python claude_folder_reviewer.py
```

## Output

The script generates timestamped Markdown files in the `output/` directory:

```
output/folder_review_2024-01-15T14-30-22.md
```

## Dependencies

```bash
pip install anthropic python-dotenv
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review consumes Claude API tokens. Monitor usage for large codebases.
- **File Size Limits**: Very large codebases may exceed Claude's token limits.
- **Rate Limiting**: The script doesn't implement rate limiting for API calls.

### üîß Potential Improvements

1. **Add file size filtering** to prevent processing overly large files
2. **Implement chunking strategy** for massive codebases that exceed token limits
3. **Add configuration file support** for customizing file extensions and exclusions
4. **Include error recovery** for partial failures during file processing
5. **Add summary statistics** showing total lines of code, file counts by type, etc.

### üí° Usage Tips

- Use `.gitignore` patterns to exclude unnecessary files before running
- Consider running on feature branches or specific modules rather than entire large repositories
- Review the output manually as AI suggestions should be validated by human developers

## Error Handling

The script includes basic error handling for:
- Missing or invalid files
- API connection issues
- File permission problems

Errors are logged to console with descriptive messages and emoji indicators for easy identification.