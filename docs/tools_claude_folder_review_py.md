<!-- Auto-generated by Claude on 2025-06-22 06:34 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning a directory for source files and leveraging Anthropic's Claude AI to provide comprehensive structural code insights. The tool combines all discovered source files into a single prompt and generates a detailed Markdown report focusing on code quality, architecture, and improvement opportunities.

## Purpose

This script is designed to help developers and teams:
- Get automated code reviews across entire project folders
- Identify structural weaknesses and bug patterns
- Receive suggestions for better code organization
- Improve modularization and code clarity

## Key Features

- **Multi-language support**: Supports Python, JavaScript, TypeScript, and React files
- **Progress tracking**: Real-time progress bar with ETA estimation
- **Batch processing**: Combines multiple files into a single AI review request
- **Markdown output**: Generates structured reports in Markdown format
- **Error handling**: Graceful handling of file reading errors

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current number of processed files
- `total` (int): Total number of files to process
- `width` (int): Character width of the progress bar (default: 30)

**Returns:**
- `str`: Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----] 87%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively scans a directory structure to find all files with specified extensions.

**Parameters:**
- `folder` (str): Root directory path to search
- `valid_exts` (tuple): Tuple of valid file extensions

**Returns:**
- `list`: List of full file paths matching the criteria

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans for valid source files
3. **Content Aggregation**: Reads and combines file contents
4. **AI Processing**: Sends combined content to Claude for review
5. **Report Generation**: Saves the review as a timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Command Line

```bash
# Review current directory
python claude_folder_reviewer.py

# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review with default fallback
python claude_folder_reviewer.py  # Uses "../137docs" as default
```

### Output

The script generates timestamped files in the `output/` directory:

```
output/folder_review_2024-01-15T14-30-25.md
```

## Example Output Features

The generated review includes:
- **Code Organization Analysis**
- **Bug Pattern Detection**
- **Architecture Weakness Identification**
- **Modularization Suggestions**
- **Code Clarity Improvements**

## Notes and Recommendations

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each run makes a single API call to Claude with all file contents combined
- **Token Limits**: Large codebases may exceed Claude's token limits (currently set to 2000 max tokens for response)
- **File Size**: No built-in limit checking for individual file sizes

### üîß Suggested Improvements

1. **Add file size validation** to prevent processing extremely large files
2. **Implement chunking strategy** for codebases that exceed token limits
3. **Add configuration file support** for customizing file extensions and exclusion patterns
4. **Include line count and file statistics** in the final report
5. **Add option to exclude specific directories** (e.g., `node_modules`, `.git`)

### üí° Usage Tips

- Ensure your `ANTHROPIC_API_KEY` is properly set in your environment
- Start with smaller projects to understand output format and quality
- Review the generated Markdown files in a proper Markdown viewer for best formatting
- Consider running on specific subdirectories for large projects to manage costs and token limits

## Error Handling

The script includes basic error handling for:
- Missing or invalid files
- API connection issues
- File reading permissions
- Missing environment variables

Errors are logged to console with descriptive messages and emoji indicators for easy identification.