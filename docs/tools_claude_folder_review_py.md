<!-- Auto-generated by Claude on 2025-06-23 04:34 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning a directory for source files and leveraging Anthropic's Claude AI to provide structural code insights. The tool generates comprehensive Markdown-formatted reviews focusing on code organization, potential bugs, architectural issues, and improvement suggestions.

## Purpose

This tool is designed for developers and teams who need:
- Automated code reviews for entire project folders
- Structural analysis of codebases
- Identification of bug patterns and architectural weaknesses
- Suggestions for code modularization and clarity improvements

## Key Features

- **Multi-language support**: Processes Python, JavaScript, TypeScript, JSX, and TSX files
- **Batch processing**: Combines multiple files into a single AI prompt for comprehensive analysis
- **Progress tracking**: Real-time progress bar with ETA calculations
- **Timestamped output**: Generates dated review files for version tracking
- **Error handling**: Graceful handling of file reading errors

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Renders a visual progress bar for tracking file processing.

**Parameters:**
- `current`: Current number of processed files
- `total`: Total number of files to process
- `width`: Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [████████████----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively scans a directory to find all source files with valid extensions.

**Parameters:**
- `folder`: Root directory path to search
- `valid_exts`: Tuple of acceptable file extensions

**Returns:** List of full file paths matching the criteria

### `main()`

The primary function that orchestrates the entire review process:

1. **Environment Setup**: Loads API credentials and configuration
2. **File Discovery**: Scans the target folder for valid source files
3. **Content Aggregation**: Reads and combines all source files
4. **AI Processing**: Sends combined content to Claude for analysis
5. **Output Generation**: Saves the review to a timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Supported File Extensions

The script currently processes files with these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

## Usage

### Command Line

```bash
# Review specific folder
python claude_folder_reviewer.py /path/to/your/project

# Review default folder (../137docs)
python claude_folder_reviewer.py
```

### Output

Reviews are saved to the `output/` directory with timestamps:
```
output/folder_review_2024-01-15T14-30-25.md
```

## Example Output

The script provides real-time feedback during execution:

```
🔍 Found 15 source files in: /path/to/project

[████████████----------] 67% ⏱ ETA: 02:15 | ✅ src/main.py
[██████████████--------] 78% ⏱ ETA: 01:45 | ✅ src/utils.py

✅ Folder review saved to `output/folder_review_2024-01-15T14-30-25.md` in 03:42

📁 Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File reading permissions
- Network connectivity issues
- API rate limiting

## Suggestions for Improvement

- **Add configuration file support** for customizing file extensions and review focus areas
- **Implement file size limits** to avoid API token limits
- **Add output format options** (JSON, HTML, etc.)
- **Include code metrics** (complexity, line counts, etc.) in reviews
- **Add support for exclusion patterns** (ignore certain directories/files)

## Dependencies

```python
anthropic>=0.7.0
python-dotenv>=0.19.0
```

## Notes

- Ensure your Anthropic API key has sufficient credits before processing large codebases
- The script creates an `output/` directory automatically if it doesn't exist
- Large codebases may take significant time to process due to API rate limits
- Review quality depends on the Claude model version specified in configuration