<!-- Auto-generated by Claude on 2025-06-22 20:21 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning directories for source code files, batching them together, and leveraging Anthropic's Claude AI to provide comprehensive structural code insights in Markdown format.

## Purpose

This tool helps developers and teams by:
- **Automating code reviews** across entire project folders
- **Identifying structural issues** and architectural weaknesses
- **Providing actionable insights** for code organization improvements
- **Detecting bug patterns** and potential issues
- **Suggesting modularization** strategies for better code clarity

## Key Features

- üîç **Recursive file scanning** for multiple programming languages
- üìä **Real-time progress tracking** with visual progress bars
- ‚ö° **Batch processing** of multiple files in a single API call
- üìù **Markdown output** with timestamped reports
- üîß **Configurable file extensions** and output directories

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Environment Setup

Create a `.env` file with the following variables:

```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Functions

### `render_progress(current: int, total: int, width: int = 30) -> str`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` - Current number of processed files
- `total` - Total number of files to process
- `width` - Character width of the progress bar (default: 30)

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà----------] 67%
```

### `estimate_valid_files(folder: str, valid_exts: tuple) -> list`

Recursively discovers all source code files in the specified directory.

**Parameters:**
- `folder` - Root directory path to scan
- `valid_exts` - Tuple of acceptable file extensions

**Returns:** List of full file paths matching the criteria

**Supported Extensions:**
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

### `main()`

The primary execution function that orchestrates the entire review process.

**Workflow:**
1. **Environment Setup** - Loads API keys and configuration
2. **File Discovery** - Scans target directory for source files
3. **Content Aggregation** - Reads and combines all files into a single prompt
4. **AI Analysis** - Sends batched content to Claude for review
5. **Report Generation** - Saves insights to timestamped Markdown file

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py /path/to/your/project
```

### Default Behavior
```bash
python claude_folder_reviewer.py
# Uses default folder: "../137docs"
```

## Output

The script generates timestamped Markdown reports in the `output/` directory:

```
output/folder_review_2024-01-15T14-30-22.md
```

### Sample Output Structure
```markdown
# Code Review Report

## Code Organization
- Analysis of project structure
- Module organization feedback

## Bug Patterns
- Potential issues identified
- Common anti-patterns found

## Architecture Weaknesses
- Structural concerns
- Dependency issues

## Suggestions
- Modularization recommendations
- Code clarity improvements
```

## Error Handling

The script includes robust error handling for:
- **Missing files** - Graceful handling of inaccessible files
- **API failures** - Clear error messages for Claude API issues
- **Invalid directories** - Validation of input paths
- **Empty folders** - Early exit with informative messages

## Performance Considerations

- **Batch Processing**: Combines all files into a single API call to minimize latency
- **Progress Tracking**: Real-time ETA calculations based on processing speed
- **Memory Efficiency**: Processes files sequentially to manage memory usage

## Limitations

- **Token Limits**: Large codebases may exceed Claude's token limits (2000 tokens max)
- **File Size**: Very large individual files may cause processing issues
- **Language Support**: Limited to predefined file extensions

## Suggestions for Improvement

1. **Implement chunking** for very large codebases
2. **Add configuration file** support for custom file extensions
3. **Include filtering options** to exclude specific directories (e.g., `node_modules`, `.git`)
4. **Add support for additional languages** (Go, Rust, Java, etc.)
5. **Implement caching** to avoid re-processing unchanged files
6. **Add output format options** (JSON, HTML, etc.)

## Example Execution

```bash
üîç Found 15 source files in: ./my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà--] 93% ‚è± ETA: 00:12 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ tests/test_main.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:45

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
  - config/settings.py
```