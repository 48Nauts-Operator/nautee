<!-- Auto-generated by Claude on 2025-06-02 06:31 -->

# Claude Folder Reviewer Documentation

## Overview

The **Claude Folder Reviewer** is a Python script that automatically analyzes entire codebases by scanning source files in a directory and leveraging Anthropic Claude AI to provide comprehensive code review insights. The tool aggregates all source files into a single prompt and returns structured feedback in Markdown format.

## Purpose

This script is designed to help developers:
- **Analyze code organization** across multiple files
- **Identify bug patterns** and potential issues
- **Discover architecture weaknesses** in the codebase
- **Receive suggestions** for better modularization and code clarity

## Features

- ‚úÖ **Recursive file scanning** with configurable file extensions
- üìä **Real-time progress tracking** with ETA estimates
- ü§ñ **AI-powered code analysis** using Claude
- üìù **Markdown output** with timestamped results
- üîß **Environment-based configuration**

## Requirements

### Dependencies
```bash
pip install anthropic python-dotenv
```

### Environment Variables
Create a `.env` file with:
```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py /path/to/your/codebase
```

### Default Folder
If no folder is specified, it defaults to `../137docs`:
```bash
python claude_folder_reviewer.py
```

## Key Functions

### `render_progress(current, total, width=30)`
Creates a visual progress bar for file processing.

**Parameters:**
- `current` (int): Current file count
- `total` (int): Total files to process  
- `width` (int): Progress bar width in characters

**Returns:**
- Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 75%
```

### `estimate_valid_files(folder, valid_exts)`
Recursively scans directories to find all source files matching specified extensions.

**Parameters:**
- `folder` (str): Root directory path
- `valid_exts` (tuple): File extensions to include

**Returns:**
- List of absolute file paths

### `main()`
The primary orchestration function that:
1. Loads environment configuration
2. Scans for source files
3. Processes files with progress tracking
4. Sends combined content to Claude API
5. Saves results to timestamped output file

## Supported File Types

The script currently processes these file extensions:
- `.py` - Python files
- `.js` - JavaScript files  
- `.ts` - TypeScript files
- `.tsx` - TypeScript React files
- `.jsx` - JavaScript React files

## Output

### File Location
Reviews are saved to: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Content Structure
The generated review includes:
- **Code Organization Analysis**
- **Bug Pattern Detection** 
- **Architecture Weakness Assessment**
- **Modularization Recommendations**

## Error Handling

The script includes robust error handling for:
- **Missing API keys** - Graceful failure with clear messaging
- **File read errors** - Individual file failures don't stop the process
- **API errors** - Network and API issues are caught and reported
- **Empty directories** - Validates file existence before processing

## Performance Notes

- **Progress Tracking**: Real-time ETA calculations based on average processing time
- **Memory Efficiency**: Files are read sequentially to manage memory usage
- **API Limits**: Consider Claude's token limits for very large codebases

## Suggestions for Enhancement

### Potential Improvements
1. **Configurable Extensions**: Allow custom file extensions via command line arguments
2. **Exclude Patterns**: Add support for `.gitignore`-style exclusion patterns
3. **Chunked Processing**: Split large codebases into multiple API calls
4. **Output Formats**: Support additional output formats (JSON, HTML)
5. **Diff Analysis**: Compare reviews across different versions

### Usage Tips
- For large codebases, consider reviewing subdirectories separately
- Ensure your API key has sufficient quota for processing
- Review the generated output directory permissions for team sharing

## Example Output Structure
```
output/
‚îî‚îÄ‚îÄ folder_review_2024-01-15T14-30-25.md
```

The script provides clear console feedback during execution and maintains a log of all processed files for reference.