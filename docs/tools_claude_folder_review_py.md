<!-- Auto-generated by Claude on 2025-06-23 06:32 -->

# Claude Folder Reviewer

## Overview

The **Claude Folder Reviewer** is a Python script that automates code review processes by scanning a directory for source files and using Anthropic's Claude AI to generate comprehensive structural code insights. The tool focuses on identifying architectural patterns, potential bugs, and opportunities for improvement across an entire codebase.

## Purpose

This script is designed to:
- **Batch process** multiple source files in a directory structure
- **Generate AI-powered code reviews** using Anthropic Claude
- **Provide structured feedback** on code organization and architecture
- **Save results** in a readable Markdown format for documentation purposes

## Key Features

- ‚úÖ Recursive directory scanning
- ‚úÖ Progress tracking with visual progress bar
- ‚úÖ Support for multiple programming languages
- ‚úÖ Timestamped output files
- ‚úÖ Error handling and logging
- ‚úÖ ETA calculations for long-running processes

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import time
```

### Required Packages
- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management

## Important Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing status.

**Parameters:**
- `current` (int): Number of files processed
- `total` (int): Total files to process  
- `width` (int): Character width of progress bar

**Returns:** Formatted progress bar string with percentage

```python
# Example output: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 67%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively discovers all source files with specified extensions in a directory tree.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): File extensions to include

**Returns:** List of absolute file paths

### `main()`

The primary execution function that orchestrates the entire review process:

1. **Environment Setup** - Loads API credentials and configuration
2. **File Discovery** - Scans target directory for source files
3. **Content Aggregation** - Combines all files into a single prompt
4. **AI Analysis** - Sends combined content to Claude for review
5. **Output Generation** - Saves results to timestamped Markdown file

## Configuration

### Environment Variables

Create a `.env` file with the following variables:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Supported File Types

Currently supports these extensions:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript React)
- `.jsx` (JavaScript React)

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py
```
*Reviews the default `../137docs` directory*

### Custom Directory
```bash
python claude_folder_reviewer.py /path/to/your/codebase
```

## Output

The script generates timestamped Markdown files in the `output/` directory:

```
output/folder_review_2024-01-15T14-30-22.md
```

### Review Focus Areas

The AI analysis concentrates on:
- **Code Organization** - File structure and module arrangement
- **Bug Patterns** - Common error-prone code patterns
- **Architecture Weaknesses** - Design flaws and scalability issues  
- **Modularization Suggestions** - Recommendations for better code separation
- **Clarity Improvements** - Ways to make code more readable

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each review consumes Claude API tokens - monitor usage for large codebases
- **Token Limits**: Very large codebases may exceed Claude's context window (2000 max tokens currently set)
- **File Size**: Consider implementing file size limits for extremely large individual files

### üîß Potential Improvements

1. **Add file filtering** by size or complexity
2. **Implement chunking** for codebases that exceed token limits  
3. **Add configuration file** support for custom file extensions
4. **Include exclude patterns** (e.g., `node_modules`, `.git`)
5. **Add summary statistics** (lines of code, file count by type)
6. **Implement retry logic** for API failures

### üí° Usage Tips

- Run on clean, committed code for best results
- Review output files regularly to track improvement over time
- Use for onboarding new team members to understand codebase structure
- Combine with traditional code review processes for comprehensive coverage

## Error Handling

The script includes basic error handling for:
- Missing or invalid files
- API communication failures  
- File reading permissions issues
- Missing environment variables

Failed file reads are logged but don't stop the overall process.