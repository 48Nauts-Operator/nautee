<!-- Auto-generated by Claude on 2025-06-23 08:29 -->

# Claude Folder Reviewer

## Overview

The Claude Folder Reviewer is a Python script that automates code review processes by scanning directories for source code files and leveraging Anthropic's Claude AI to provide comprehensive structural analysis and insights.

## Purpose

This tool is designed to help developers get AI-powered code reviews that focus on:
- **Code organization** - How well the code is structured and organized
- **Bug patterns** - Potential issues and problematic code patterns
- **Architecture weaknesses** - Design flaws and architectural concerns
- **Suggestions for modularization and clarity** - Recommendations for better code structure

## Features

- ‚úÖ Recursive directory scanning for source files
- üìä Real-time progress tracking with visual progress bars
- ‚è±Ô∏è ETA estimation for processing completion
- ü§ñ AI-powered code analysis using Claude
- üìù Markdown-formatted output reports
- üïí Timestamped output files

## Installation & Setup

### Prerequisites

```bash
pip install anthropic python-dotenv
```

### Environment Configuration

Create a `.env` file in the project root:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

## Usage

### Basic Usage

```bash
python claude_folder_reviewer.py [folder_path]
```

### Examples

```bash
# Review current directory
python claude_folder_reviewer.py .

# Review specific folder
python claude_folder_reviewer.py /path/to/project

# Review default folder (../137docs)
python claude_folder_reviewer.py
```

## Supported File Types

The script currently processes files with the following extensions:
- `.py` - Python files
- `.js` - JavaScript files
- `.ts` - TypeScript files
- `.tsx` - TypeScript React files
- `.jsx` - JavaScript React files

## Key Functions

### `render_progress(current, total, width=30)`

Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current number of processed files
- `total` (int): Total number of files to process
- `width` (int): Character width of the progress bar

**Returns:** Formatted progress bar string with percentage

**Example Output:**
```
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà------] 80%
```

### `estimate_valid_files(folder, valid_exts)`

Recursively scans a directory tree to find all valid source files.

**Parameters:**
- `folder` (str): Root directory path to scan
- `valid_exts` (tuple): Tuple of acceptable file extensions

**Returns:** List of absolute file paths

## Output

### File Location
Reviews are saved to: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

### Sample Output Structure
```
üîç Found 15 source files in: ./my-project

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/main.py
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100% ‚è± ETA: 00:00 | ‚úÖ src/utils.py

‚úÖ Folder review saved to `output/folder_review_2024-01-15T14-30-22.md` in 02:15

üìÅ Files Reviewed:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

## Error Handling

The script includes robust error handling for:
- **Missing API keys** - Environment variable validation
- **File read errors** - Individual file processing failures
- **API errors** - Claude service communication issues
- **Empty directories** - No valid files found scenarios

## Limitations & Considerations

‚ö†Ô∏è **Token Limits**: Large codebases may exceed Claude's token limits (currently set to 2000 max tokens for responses)

‚ö†Ô∏è **API Costs**: Each review consumes Claude API credits

‚ö†Ô∏è **File Size**: Very large files may cause memory issues

## Customization Suggestions

### Adding New File Types
Modify the `valid_exts` tuple in the `main()` function:

```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx", ".go", ".rs", ".java")
```

### Adjusting Review Focus
Customize the prompt in the `main()` function to focus on specific aspects:

```python
prompt = f"""You are a security-focused code reviewer. Review for:
- Security vulnerabilities
- Input validation issues
- Authentication flaws
- Data exposure risks

Files:
{combined}
"""
```

### Increasing Token Limits
Adjust the `max_tokens` parameter for longer reviews:

```python
response = client.messages.create(
    model=model,
    max_tokens=4000,  # Increased limit
    messages=[{"role": "user", "content": prompt}]
)
```

## Dependencies

- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `os`, `sys`, `time`, `datetime` - Standard library modules