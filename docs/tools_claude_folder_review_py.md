<!-- Auto-generated by Claude on 2025-06-23 07:21 -->

# Claude Folder Reviewer

A Python script that automatically scans source code folders and generates comprehensive code reviews using Anthropic's Claude AI model.

## Purpose

This tool helps developers get AI-powered insights on their entire codebase by:
- Scanning directories for source files
- Batching all code into a single Claude API request
- Generating structured feedback in Markdown format
- Focusing on code organization, bug patterns, and architectural improvements

## Features

- **Multi-language support**: Reviews Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress tracking**: Visual progress bar with ETA estimates
- **Error handling**: Graceful handling of file read errors and API failures
- **Timestamped output**: Saves reviews with unique timestamps to avoid conflicts

## Requirements

### Dependencies
```bash
pip install anthropic python-dotenv
```

### Environment Variables
Create a `.env` file with:
```env
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

## Usage

### Basic Usage
```bash
python claude_folder_reviewer.py /path/to/your/project
```

### Default Folder
If no path is provided, it defaults to `../137docs`:
```bash
python claude_folder_reviewer.py
```

## Key Functions

### `render_progress(current, total, width=30)`
Creates a visual progress bar for tracking file processing.

**Parameters:**
- `current` (int): Current progress count
- `total` (int): Total items to process  
- `width` (int): Progress bar width in characters

**Returns:** Formatted progress bar string with percentage

### `estimate_valid_files(folder, valid_exts)`
Recursively discovers all source files in a directory tree.

**Parameters:**
- `folder` (str): Root directory to search
- `valid_exts` (tuple): Accepted file extensions

**Returns:** List of full file paths

### `main()`
Primary execution function that:
1. Sets up the Anthropic client
2. Scans for source files
3. Reads and combines all code content
4. Sends batch request to Claude
5. Saves the review to a timestamped Markdown file

## Output

Reviews are saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md` and include:
- **Code organization** analysis
- **Bug pattern** identification  
- **Architecture weakness** assessment
- **Modularization suggestions**
- **Code clarity** recommendations

## Supported File Types

- Python (`.py`)
- JavaScript (`.js`) 
- TypeScript (`.ts`)
- React JSX (`.jsx`)
- React TSX (`.tsx`)

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Large codebases will consume significant Claude API tokens
- **Token Limits**: Very large projects may exceed Claude's context window
- **Rate Limiting**: The script doesn't implement API rate limiting

### üîß Potential Improvements

1. **Add token estimation** before sending requests
2. **Implement chunking** for large codebases that exceed context limits
3. **Add configuration file** for customizing file extensions and review focus areas
4. **Include rate limiting** to avoid API throttling
5. **Add file size filtering** to skip very large files
6. **Support custom ignore patterns** (like `.gitignore`)

### üí° Usage Tips

- Test with smaller projects first to understand API costs
- Review the generated Markdown files for actionable insights
- Consider running reviews periodically as your codebase evolves
- Use the timestamped outputs to track improvements over time

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File read permissions issues
- API request failures
- Empty directories

Errors are logged with descriptive messages and emoji indicators for easy identification.