<!--
This documentation was auto-generated by Claude on 2025-05-31T15-23-59.
Source file: ./tools/claude_folder_review.py
-->

# Code Review Tool

A Python script that automatically reviews entire codebases using Claude AI to provide insights on code organization, architecture, and potential improvements.

## Overview

This tool scans a specified folder for source code files, combines them into a single review request, and uses Anthropic's Claude AI to generate comprehensive code review feedback in Markdown format.

## Features

- üîç **Multi-language Support**: Reviews Python, JavaScript, TypeScript, JSX, and TSX files
- üìä **Progress Tracking**: Real-time progress bar with ETA calculations
- ü§ñ **AI-Powered Reviews**: Leverages Claude AI for intelligent code analysis
- üìù **Markdown Output**: Generates professional review reports
- ‚ö° **Batch Processing**: Processes entire codebases in a single operation

## Prerequisites

### Dependencies

```bash
pip install anthropic python-dotenv
```

### Environment Variables

Create a `.env` file in the project root:

```env
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to claude-sonnet-4-20250514
```

## Usage

### Basic Usage

```bash
python code_review.py [folder_path]
```

### Examples

```bash
# Review default folder (../137docs)
python code_review.py

# Review specific folder
python code_review.py /path/to/your/project

# Review current directory
python code_review.py .
```

## Configuration

### Supported File Types

The script currently processes files with the following extensions:
- `.py` (Python)
- `.js` (JavaScript) 
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### Extending File Support

To add more file types, modify the `valid_exts` tuple:

```python
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx", ".html", ".css", ".json", ".go", ".java", ".yaml", ".yml")
```

## Output

### Review Reports

Generated reports are saved to `output/folder_review_YYYY-MM-DDTHH-MM-SS.md` and include:

- **Code Organization Analysis**
- **Bug Pattern Detection** 
- **Architecture Weakness Assessment**
- **Modularization Suggestions**
- **Code Clarity Improvements**

### Console Output

The script provides real-time feedback including:
- File discovery summary
- Progress bar with completion percentage
- ETA calculations
- Successfully processed files
- Final summary with processing time

## API Configuration

### Model Selection

The script uses Claude Sonnet 4 by default. You can specify a different model via environment variable:

```env
ANTHROPIC_MODEL=claude-3-opus-20240229
```

### Token Limits

- **Max Tokens**: 2000 (configurable in code)
- **Rate Limiting**: No built-in rate limiting (consider adding for large codebases)

## Error Handling

The script includes robust error handling for:
- Missing or invalid API keys
- File read permissions
- Claude API failures
- Empty directories
- Network connectivity issues

## Limitations

- **File Size**: Large files may exceed Claude's context window
- **Token Limits**: Very large codebases may hit API token limits
- **Language Context**: Code is processed as Python in markdown blocks regardless of actual language

## Troubleshooting

### Common Issues

**No files found error:**
```bash
‚ùå No valid files found in /path/to/folder
```
- Verify the folder path exists
- Check that files have supported extensions
- Ensure proper file permissions

**API Key errors:**
- Verify `ANTHROPIC_API_KEY` is set in `.env`
- Confirm API key has sufficient credits/permissions

**File permission errors:**
- Ensure read access to target directory
- Check write permissions for `output/` directory

## Version History

- **v1.0.0** (2025-05-31): Initial release by Andr√© Wolke

## Author

**Andr√© Wolke**  
Date: 2025-05-31

---

*This tool is designed to assist with code reviews and should complement, not replace, human code review processes.*