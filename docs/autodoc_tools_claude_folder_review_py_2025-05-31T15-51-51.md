<!--
This documentation was auto-generated by Claude on 2025-05-31T15-51-51.
Source file: ./tools/claude_folder_review.py
-->

# Code Review Tool Documentation

## Overview

A Python-based code review tool that leverages Anthropic's Claude AI to perform comprehensive reviews of entire codebases. The tool recursively scans directories for source files, combines them into a single review request, and generates detailed feedback in Markdown format.

## Features

- **Multi-language Support**: Reviews Python, JavaScript, TypeScript, JSX, and TSX files
- **Progress Tracking**: Real-time progress bar with ETA calculations
- **Batch Processing**: Combines multiple files into a single Claude API request
- **Structured Output**: Generates timestamped Markdown reports
- **Error Handling**: Graceful handling of file read errors and API failures

## Requirements

### Dependencies

```bash
pip install anthropic python-dotenv
```

### Environment Variables

Create a `.env` file in the project root:

```env
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

## Installation

1. Clone or download the script
2. Install required dependencies
3. Configure environment variables
4. Run the script with your target directory

## Usage

### Basic Usage

```bash
python code_review.py [target_directory]
```

### Examples

```bash
# Review default directory (../137docs)
python code_review.py

# Review specific directory
python code_review.py /path/to/your/project

# Review current directory
python code_review.py .
```

## Configuration

### Supported File Extensions

Currently configured to review:
- `.py` (Python)
- `.js` (JavaScript)
- `.ts` (TypeScript)
- `.tsx` (TypeScript JSX)
- `.jsx` (JavaScript JSX)

### Extended File Support

The script includes a commented configuration for additional file types:

```python
# Uncomment and modify to include additional file types
valid_exts = (".py", ".js", ".ts", ".tsx", ".jsx", ".html", ".css", ".json", ".go", ".java", ".yaml", ".yml")
```

## Output

### Review Report Structure

Generated reports include analysis of:

- **Code Organization**: Structure and maintainability assessment
- **Bug Patterns**: Potential issues and vulnerabilities
- **Architecture Weaknesses**: Design and scalability concerns
- **Improvement Suggestions**: Recommendations for refactoring and optimization

### Output Location

Reports are saved to: `output/folder_review_YYYY-MM-DDTHH-MM-SS.md`

## API Information

### Model Configuration

- **Default Model**: `claude-sonnet-4-20250514`
- **Token Limit**: 2,000 tokens per request
- **API Provider**: Anthropic Claude

### Rate Limiting

The tool makes a single API request per execution, combining all files into one review prompt to minimize API calls and costs.

## Error Handling

The script handles several error scenarios:

- **Missing Files**: Graceful handling of unreadable files
- **Empty Directories**: Exits with appropriate error message
- **API Failures**: Reports Claude API errors without crashing
- **Invalid Paths**: Validates directory existence

## Progress Tracking

Real-time feedback includes:

- **Progress Bar**: Visual representation of completion status
- **ETA Calculation**: Estimated time to completion
- **File Status**: Individual file processing confirmation
- **Summary Statistics**: Total processing time and file count

## Limitations

- **Token Constraints**: Large codebases may exceed Claude's token limits
- **File Size**: Very large individual files may cause processing issues
- **API Costs**: Each execution consumes API credits
- **Language Support**: Limited to predefined file extensions

## Troubleshooting

### Common Issues

**No files found error**:
```bash
❌ No valid files found in [directory]
```
- Verify directory path exists
- Check file extensions match supported types
- Ensure files are readable

**API authentication error**:
- Verify `ANTHROPIC_API_KEY` is set correctly
- Check API key permissions and credits

**Memory/token limit errors**:
- Review smaller directory subsets
- Consider filtering file types
- Split large codebases into smaller chunks

## Version Information

- **Version**: 1.0.0
- **Author**: André Wolke
- **Date**: 2025-05-31
- **License**: Not specified