<!-- Auto-generated by Claude on 2025-06-22 04:31 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects, generates Markdown documentation using Claude AI, and integrates the results into a MkDocs documentation site. It provides a streamlined way to create comprehensive documentation for Python codebases.

## Purpose

- **Automated Documentation**: Eliminates manual documentation writing by leveraging AI
- **Project Integration**: Seamlessly integrates with MkDocs for professional documentation sites
- **Batch Processing**: Processes multiple Python files in a single run
- **Configuration Management**: Automatically updates MkDocs configuration files

## Key Features

### AI-Powered Documentation Generation
- Uses Anthropic's Claude AI to analyze Python source code
- Generates structured Markdown documentation with explanations, function descriptions, and usage notes
- Provides intelligent suggestions and best practices

### MkDocs Integration
- Automatically updates `mkdocs.yml` configuration
- Maintains existing navigation structure while adding new autodoc entries
- Supports Material theme with advanced features like syntax highlighting and search

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" → "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file, with fallback to default configuration if file doesn't exist.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions (syntax highlighting, admonitions, etc.)
- Search functionality
- Code copying features

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (`test_*.py`)
- `__init__.py` files
- Non-Python files

## Configuration Requirements

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### Dependencies
```python
pip install anthropic python-dotenv pyyaml
```

## Usage

### Basic Usage
```bash
python autodoc.py                    # Documents current directory
python autodoc.py /path/to/project   # Documents specific directory
```

### Output Structure
```
docs/
├── index.md
├── module_name_py.md
├── utils_helper_py.md
└── ...
mkdocs.yml (updated)
```

## Workflow

1. **Setup**: Loads environment variables and initializes Claude client
2. **Discovery**: Scans target directory for Python files
3. **Processing**: For each file:
   - Reads source code
   - Sends to Claude for documentation generation
   - Saves generated Markdown to `docs/` directory
4. **Integration**: Updates `mkdocs.yml` with new documentation entries
5. **Index Creation**: Creates index.md if missing

## Notes and Suggestions

### Best Practices
- **API Key Security**: Store `ANTHROPIC_API_KEY` in `.env` file, never commit to version control
- **Regular Updates**: Run periodically to keep documentation synchronized with code changes
- **Manual Review**: Review generated documentation for accuracy and completeness

### Limitations
- **API Costs**: Each file processed consumes Claude API tokens
- **Rate Limits**: Large projects may hit API rate limits
- **Context Limits**: Very large files may exceed Claude's context window (1500 tokens max output)

### Potential Improvements
- Add error recovery and retry logic for API failures
- Implement incremental updates (only process changed files)
- Add support for custom documentation templates
- Include configuration for excluding specific files or directories

### Error Handling
The script includes basic error handling that continues processing other files if one fails, ensuring partial documentation generation even with problematic files.