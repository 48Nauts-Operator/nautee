<!-- Auto-generated by Claude on 2025-06-23 10:23 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects, analyzes source code using Claude AI, and generates comprehensive Markdown documentation. It integrates with MkDocs to create a complete documentation website with automatic navigation updates.

## Purpose

This tool addresses the common challenge of maintaining up-to-date documentation by:
- **Automatically discovering** Python files in a project
- **Generating intelligent documentation** using Claude's AI capabilities
- **Creating structured Markdown files** with proper formatting
- **Updating MkDocs configuration** to include new documentation pages
- **Maintaining documentation consistency** across the entire project

## Key Features

- üîç **Smart File Discovery**: Recursively scans directories for Python files
- ü§ñ **AI-Powered Documentation**: Uses Claude to generate comprehensive docs
- üìÅ **Organized Output**: Creates structured documentation in `docs/` directory
- üß≠ **Automatic Navigation**: Updates `mkdocs.yml` with new documentation pages
- üé® **Material Theme Integration**: Configures MkDocs with Material theme and extensions

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

**Returns:**
- Existing YAML configuration as dictionary
- Default configuration with Material theme

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with:
- **Material theme** with dark/light mode toggle
- **Rich markdown extensions** (code highlighting, admonitions, etc.)
- **Search functionality** and navigation features
- **Combined navigation** (static + auto-generated)

### `collect_python_files(base: str)`
Recursively discovers Python files while filtering out:
- Test files (`test_*.py`)
- Init files (`__init__.py`)
- Non-Python files

## Core Workflow

1. **Environment Setup**
   - Loads environment variables (API keys)
   - Initializes Anthropic client
   - Creates output directory structure

2. **File Discovery**
   - Scans target directory for Python files
   - Filters out unwanted files (tests, __init__)

3. **Documentation Generation**
   - Reads each Python file's source code
   - Sends code to Claude with structured prompt
   - Generates comprehensive Markdown documentation
   - Saves output with timestamp headers

4. **Navigation Management**
   - Preserves existing MkDocs navigation
   - Removes old AutoDocs entries
   - Adds new documentation pages
   - Updates mkdocs.yml configuration

## Configuration

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

### Usage
```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index (if missing)
‚îú‚îÄ‚îÄ filename_py.md             # Generated documentation files
‚îî‚îÄ‚îÄ other_module_py.md
mkdocs.yml                     # Updated configuration
```

## Suggestions and Notes

### ‚úÖ Strengths
- **Comprehensive MkDocs integration** with modern Material theme
- **Intelligent file filtering** prevents documentation clutter
- **Preserves manual navigation** while adding auto-generated content
- **Robust error handling** continues processing despite individual file failures

### üîß Potential Improvements
- **Add configuration file support** for customizing documentation prompts
- **Implement incremental updates** to avoid re-processing unchanged files
- **Add support for custom exclusion patterns** beyond hardcoded filters
- **Include docstring extraction** for supplementing AI-generated content

### ‚ö†Ô∏è Important Notes
- **Requires valid Anthropic API key** - ensure proper environment setup
- **Overwrites existing auto-generated files** - manual edits will be lost
- **Token limits apply** - very large files may be truncated
- **Network dependency** - requires internet connection for Claude API calls

### üéØ Best Practices
- Run regularly as part of CI/CD pipeline
- Review generated documentation for accuracy
- Supplement with manual documentation for complex concepts
- Use meaningful file and function names for better AI analysis