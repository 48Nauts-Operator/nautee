<!-- Auto-generated by Claude on 2025-06-01 13:27 -->

# autodoc.py Documentation

<!-- Auto-generated documentation -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file.

## Purpose

- **Automate documentation generation** for Python projects
- **Leverage AI (Claude)** to create detailed, readable documentation
- **Integrate with MkDocs** for static site generation
- **Maintain up-to-date documentation** with minimal manual effort

## Key Features

### üîç **Automated File Discovery**
- Scans directories recursively for Python files
- Filters out test files and `__init__.py` files
- Processes multiple files in batch

### ü§ñ **AI-Powered Documentation**
- Uses Anthropic's Claude API to generate documentation
- Creates structured Markdown with headings, bullet points, and code blocks
- Provides explanations of functions, classes, and overall file purpose

### üìÅ **MkDocs Integration**
- Automatically updates `mkdocs.yml` configuration
- Preserves existing navigation structure
- Adds generated docs under "AutoDocs" section

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing slashes and dots with underscores.

```python
# Example: "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions
- Search and navigation features
- mkdocstrings plugin integration

### `collect_python_files(base: str)`
Recursively discovers Python files while excluding:
- Test files (`test_*.py`)
- Init files (`__init__.py`)

## Configuration

### Required Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Usage
```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index
‚îú‚îÄ‚îÄ filename_py.md             # Generated documentation
‚îî‚îÄ‚îÄ other_module_py.md         # More generated docs

mkdocs.yml                     # Updated configuration
```

## Dependencies

- **anthropic**: Claude API client
- **python-dotenv**: Environment variable management
- **PyYAML**: YAML configuration handling

## Notes and Suggestions

### ‚ö†Ô∏è **Important Considerations**

1. **API Costs**: Each file generates an API call to Claude - monitor usage for large codebases
2. **Rate Limits**: Consider adding delays between requests for large projects
3. **File Overwrites**: Generated documentation files are overwritten on each run

### üîß **Potential Improvements**

1. **Caching**: Add file modification time checks to avoid regenerating unchanged files
2. **Error Handling**: Implement retry logic for API failures
3. **Batch Processing**: Group multiple small files into single API calls
4. **Configuration**: Make documentation prompts customizable
5. **Exclusion Patterns**: Add configurable file/directory exclusion rules

### üí° **Best Practices**

- Run periodically as part of CI/CD pipeline
- Review generated documentation for accuracy
- Customize the MkDocs theme configuration as needed
- Keep API keys secure and use environment variables

## Example Workflow

1. **Setup**: Configure environment variables
2. **Execute**: Run `python autodoc.py`
3. **Review**: Check generated documentation in `docs/` directory
4. **Build**: Use `mkdocs serve` or `mkdocs build` to generate the site
5. **Deploy**: Publish documentation to your preferred hosting platform

This tool significantly reduces the manual effort required to maintain project documentation while ensuring consistency and comprehensiveness across all Python modules.