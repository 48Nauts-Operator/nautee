<!-- Auto-generated by Claude on 2025-06-23 08:29 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation entries.

## Purpose

- **Automated Documentation**: Generates comprehensive Markdown documentation for Python files using AI
- **MkDocs Integration**: Automatically updates MkDocs navigation structure
- **Project Scanning**: Recursively finds and processes Python source files
- **Documentation Management**: Organizes generated docs in a structured format

## Key Features

- üîç **Smart File Discovery**: Automatically finds Python files while excluding tests and `__init__.py` files
- ü§ñ **AI-Powered Documentation**: Uses Claude AI to generate detailed, readable documentation
- üìÅ **Organized Output**: Creates structured documentation in the `docs/` directory
- ‚öôÔ∏è **MkDocs Integration**: Seamlessly updates MkDocs configuration with new documentation entries
- üé® **Material Theme**: Configures MkDocs with Material theme and advanced features

## Important Functions

### File Processing Functions

#### `snake_md_path(rel_path: str) -> str`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts file paths to snake_case Markdown filenames
- Replaces path separators and dots with underscores

#### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively scans directories for Python files
- Excludes test files and `__init__.py` files
- Returns list of valid Python file paths

### Configuration Management Functions

#### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration from YAML file
- Returns default configuration if file doesn't exist
- Handles YAML parsing errors gracefully

#### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Writes comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and code copying
- Combines static navigation with auto-generated documentation entries

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: Claude model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_path]
```
- `target_path`: Optional path to scan (defaults to current directory)

## Output Structure

### Generated Files
- **Documentation**: `docs/*.md` - Generated Markdown files for each Python source
- **Index**: `docs/index.md` - Auto-generated index page (if missing)
- **Configuration**: `mkdocs.yml` - Updated MkDocs configuration

### Naming Convention
- Python file: `src/utils/helper.py`
- Generated doc: `docs/src_utils_helper_py.md`

## MkDocs Integration

The script automatically configures MkDocs with:

- **Material Theme** with dark/light mode toggle
- **Advanced Features**: Navigation tabs, instant loading, code copying
- **Markdown Extensions**: Syntax highlighting, admonitions, task lists
- **Plugins**: Search functionality and mkdocstrings for API docs

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Key Security**: Ensure your `ANTHROPIC_API_KEY` is properly secured and not committed to version control
2. **Rate Limiting**: Be mindful of API rate limits when processing large codebases
3. **File Overwrites**: Generated documentation files are overwritten on each run

### üí° Recommendations

- **Version Control**: Consider adding generated docs to `.gitignore` if you want to generate them on-demand
- **Custom Prompts**: The AI prompt could be made configurable for different documentation styles
- **Error Handling**: Monitor the console output for any files that fail to process
- **Incremental Updates**: Consider implementing file modification time checks to avoid regenerating unchanged files

### üîß Potential Improvements

- Add support for custom documentation templates
- Implement caching to avoid re-processing unchanged files
- Add configuration file support for customizable settings
- Include support for docstring extraction and formatting
- Add validation for generated Markdown content

## Dependencies

- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management  
- `PyYAML`: YAML configuration file handling
- `os`, `sys`, `datetime`: Standard library modules