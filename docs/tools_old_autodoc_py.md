<!-- Auto-generated by Claude on 2025-06-22 09:20 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-20 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation pages.

## Purpose

- **Automated Documentation**: Generates comprehensive Markdown documentation for Python files using AI
- **MkDocs Integration**: Automatically updates MkDocs navigation structure
- **Project Scanning**: Recursively finds and processes Python source files
- **Documentation Management**: Organizes generated docs in a structured format

## Key Features

- ü§ñ AI-powered documentation generation using Claude
- üìÅ Automatic Python file discovery and filtering
- üìù Markdown output with proper formatting
- üß≠ MkDocs navigation auto-configuration
- üé® Material theme setup with dark/light mode support
- ‚è∞ Timestamped documentation generation

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
```python
# Example: "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one.
- Returns existing YAML config if file exists
- Creates default "Nautee Docs" configuration otherwise

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes complete MkDocs configuration with:
- Material theme with dark/light mode toggle
- Comprehensive markdown extensions
- Search and syntax highlighting plugins
- Combined navigation structure

### `collect_python_files(base: str)`
Recursively scans directory for Python files with filtering:
- ‚úÖ Includes: `.py` files
- ‚ùå Excludes: `test_*.py`, `__init__.py`

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude
- `ANTHROPIC_MODEL`: Model selection (default: "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                 # Auto-generated index
‚îú‚îÄ‚îÄ filename_py.md          # Generated docs for each Python file
‚îî‚îÄ‚îÄ other_module_py.md      # Snake-case naming convention
mkdocs.yml                  # Updated configuration
```

## Workflow

1. **Setup**: Load environment variables and initialize Claude client
2. **Discovery**: Scan target directory for Python files
3. **Generation**: For each file:
   - Read source code
   - Send to Claude with documentation prompt
   - Write Markdown output with timestamp
4. **Integration**: Update MkDocs navigation structure
5. **Finalization**: Create index.md if missing

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations
- **API Costs**: Each file generates a Claude API call - monitor usage for large projects
- **Rate Limits**: Consider adding delays for projects with many files
- **File Filtering**: Currently excludes tests and `__init__.py` - adjust as needed

### üîß Potential Improvements
- Add configuration file support for customizable filtering rules
- Implement batch processing to reduce API calls
- Add support for other documentation formats (reStructuredText, etc.)
- Include error handling for network failures and API limits

### üéØ Best Practices
- Run periodically or integrate into CI/CD pipeline
- Review generated documentation for accuracy
- Customize the prompt template for project-specific needs
- Keep API keys secure and use environment variables

## Error Handling

The script includes basic error handling:
- Graceful handling of missing files
- API error catching with file-level error reporting
- Fallback configuration creation for missing `mkdocs.yml`