<!-- Auto-generated by Claude on 2025-06-23 09:25 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-28 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects, creates Markdown documentation using Claude AI, and integrates the generated docs into an MkDocs configuration. This tool streamlines the documentation process by automatically analyzing Python source code and generating comprehensive technical documentation.

## Purpose

- **Automated Documentation**: Scans Python files and generates Markdown documentation using Claude AI
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration with generated documentation
- **Project Documentation**: Creates a complete documentation structure for Python projects

## Key Features

- Recursive scanning of Python source files
- AI-powered documentation generation using Anthropic's Claude
- Automatic MkDocs configuration management
- Configurable theming and extensions for documentation sites
- Timestamp tracking for generated documentation

## Important Functions

### File Collection

```python
def collect_python_files(base: str)
```

- **Purpose**: Recursively scans directories for Python files
- **Filters**: Excludes test files (`test_*`) and `__init__.py` files
- **Returns**: List of Python file paths for documentation

### Path Conversion

```python
def snake_md_path(rel_path: str) -> str
```

- **Purpose**: Converts file paths to snake_case Markdown filenames
- **Example**: `src/utils.py` → `src_utils_py.md`

### MkDocs Configuration Management

```python
def load_mkdocs_config(path: str)
def write_mkdocs_config(path: str, static_nav, autodoc_items)
```

- **Purpose**: Handles loading and updating MkDocs YAML configuration
- **Features**: Preserves existing configuration while adding AutoDocs section
- **Theme**: Configures Material theme with dark/light mode toggle

## Configuration

### Environment Variables

The script requires the following environment variables:

- `ANTHROPIC_API_KEY`: API key for Claude AI service
- `ANTHROPIC_MODEL`: Claude model to use (defaults to "claude-sonnet-4-20250514")

### MkDocs Theme Configuration

The script automatically configures MkDocs with:

- **Theme**: Material Design theme
- **Color Schemes**: Dark/light mode toggle
- **Features**: Navigation tabs, search, code highlighting
- **Extensions**: Syntax highlighting, admonitions, emoji support

## Usage

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific path
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
├── index.md                 # Main documentation index
├── filename_py.md          # Generated documentation files
└── ...

mkdocs.yml                  # Updated MkDocs configuration
```

## Important Notes and Suggestions

### Best Practices

- **API Key Security**: Store the Anthropic API key in a `.env` file, not in source code
- **File Filtering**: The script automatically excludes test files and `__init__.py` files
- **Backup**: Consider backing up existing `mkdocs.yml` before running the script

### Limitations

- **Token Limits**: Claude responses are limited to 1500 tokens per file
- **File Size**: Very large Python files may not generate complete documentation
- **Error Handling**: Individual file processing errors don't stop the entire process

### Customization Opportunities

- **Prompt Engineering**: Modify the Claude prompt to customize documentation style
- **File Filtering**: Adjust the `collect_python_files` function to include/exclude different file patterns
- **Theme Customization**: Modify the MkDocs theme configuration for different styling

### Dependencies

The script requires:
- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management
- `PyYAML`: YAML configuration file handling

## Error Handling

The script includes robust error handling:
- Individual file processing errors are logged but don't stop execution
- Missing configuration files are handled gracefully
- API errors are caught and reported per file

This tool significantly reduces the manual effort required to maintain project documentation while ensuring consistency and completeness across all Python modules.