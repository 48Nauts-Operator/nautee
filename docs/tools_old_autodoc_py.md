<!-- Auto-generated by Claude on 2025-06-23 04:34 -->

# Autodoc Generator Documentation

## Overview

**`autodoc.py`** is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The tool integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation entries.

## Purpose

- **Automated Documentation**: Eliminates manual documentation writing by leveraging AI
- **Project Scanning**: Recursively finds and processes Python files
- **MkDocs Integration**: Seamlessly integrates with MkDocs documentation sites
- **Consistent Output**: Generates standardized Markdown documentation across all Python files

## Key Features

- ‚úÖ Scans directories for Python source files
- ‚úÖ Generates AI-powered documentation using Claude
- ‚úÖ Creates organized Markdown files in `docs/` directory
- ‚úÖ Updates MkDocs navigation automatically
- ‚úÖ Preserves existing documentation structure
- ‚úÖ Configurable Material theme with dark/light mode support

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import yaml
```

### Required Environment Variables

- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access
- `ANTHROPIC_MODEL` (optional): Claude model to use (defaults to `claude-sonnet-4-20250514`)

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure.

**Returns:**
- Existing YAML configuration as dictionary
- Default configuration if file doesn't exist

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with Material theme settings.

**Features:**
- Material theme with dark/light mode toggle
- Code highlighting and copy functionality
- Search capabilities
- Navigation enhancements
- mkdocstrings plugin integration

### `collect_python_files(base: str)`
Recursively scans directories for Python files.

**Filters out:**
- Test files (`test_*.py`)
- Init files (`__init__.py`)
- Non-Python files

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Specify Target Directory
```bash
python autodoc.py /path/to/your/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index (if missing)
‚îú‚îÄ‚îÄ filename_py.md             # Generated documentation files
‚îî‚îÄ‚îÄ src_module_utils_py.md     # Nested file documentation
```

## Configuration

The tool automatically generates a comprehensive `mkdocs.yml` with:

- **Material Theme**: Modern, responsive documentation theme
- **Dark/Light Mode**: User-toggleable theme switching
- **Code Features**: Syntax highlighting, line numbers, copy buttons
- **Navigation**: Instant loading, tabs, top navigation
- **Search**: Intelligent search with suggestions and highlighting
- **Extensions**: Admonition, footnotes, task lists, emoji support

## Important Notes

### ‚ö†Ô∏è API Usage
- Requires valid Anthropic API key
- Each file generates an API request to Claude
- Monitor usage for cost management

### üîÑ Navigation Management
- Preserves existing static navigation items
- Replaces "AutoDocs" section on each run
- Maintains manual documentation alongside auto-generated content

### üìù File Processing
- Skips test files and `__init__.py` automatically
- Adds timestamps to generated files
- Handles processing errors gracefully

## Error Handling

The script includes robust error handling:
- Continues processing if individual files fail
- Reports errors with specific file information
- Exits gracefully if no Python files are found

## Suggestions for Improvement

1. **Configuration File**: Consider adding a config file for customizable settings
2. **Exclusion Patterns**: Add support for custom file exclusion patterns
3. **Batch Processing**: Implement batch API requests for better efficiency
4. **Incremental Updates**: Only regenerate documentation for modified files
5. **Template Customization**: Allow custom documentation templates

## Example Output

Generated documentation includes:
- File purpose and overview
- Function and class descriptions
- Code examples
- Usage suggestions
- Implementation notes

Each generated file is timestamped and clearly marked as auto-generated content.