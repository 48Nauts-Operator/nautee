<!-- Auto-generated by Claude on 2025-06-08 06:28 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-28 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and generates comprehensive Markdown documentation using Claude AI. The tool integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation entries.

## Purpose

This script serves as a documentation automation tool that:
- **Scans** Python files in a specified directory
- **Generates** technical documentation using AI (Claude)
- **Organizes** documentation into a structured format
- **Integrates** with MkDocs for easy documentation hosting

## Key Features

### üîç **Automatic File Discovery**
- Recursively scans directories for Python files
- Filters out test files and `__init__.py` files
- Processes multiple files in batch

### ü§ñ **AI-Powered Documentation**
- Uses Anthropic's Claude AI to generate comprehensive documentation
- Creates structured Markdown with headings, bullet points, and code blocks
- Provides explanations of functions, classes, and overall file purpose

### üìö **MkDocs Integration**
- Automatically updates `mkdocs.yml` configuration
- Maintains existing navigation structure
- Adds generated docs under "AutoDocs" section

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
```python
# Example: "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Enhanced markdown extensions
- Search and navigation features
- Code highlighting and syntax support

### `collect_python_files(base: str)`
Recursively discovers Python files while excluding:
- Test files (`test_*.py`)
- Init files (`__init__.py`)

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: AI model to use (defaults to `claude-sonnet-4-20250514`)

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

### Generated Files
- **Documentation**: `docs/*.md` files for each Python source file
- **Index**: `docs/index.md` (created if missing)
- **Configuration**: Updated `mkdocs.yml`

### File Naming Convention
Python files are converted to snake_case Markdown files:
- `src/database/models.py` ‚Üí `src_database_models_py.md`

## Notes and Suggestions

### ‚ö†Ô∏è **Prerequisites**
- Requires `anthropic`, `python-dotenv`, and `PyYAML` packages
- Must have valid Anthropic API key in environment
- Designed for MkDocs projects

### üîß **Customization Options**
- Modify the AI prompt to adjust documentation style
- Customize MkDocs theme configuration
- Add file filtering logic for specific project needs

### üöÄ **Best Practices**
- Run regularly to keep documentation up-to-date
- Review generated documentation for accuracy
- Consider integrating into CI/CD pipeline for automated updates

### üêõ **Error Handling**
- Gracefully handles missing files or API errors
- Continues processing remaining files if individual files fail
- Provides detailed console output for debugging

## Example Workflow

1. **Setup**: Configure API key and install dependencies
2. **Execute**: Run `python autodoc.py` in project root
3. **Review**: Check generated `docs/` directory
4. **Deploy**: Use `mkdocs serve` or `mkdocs build` to view documentation

This tool significantly reduces the manual effort required to maintain project documentation while ensuring consistency and comprehensiveness across all Python modules.