<!-- Auto-generated by Claude on 2025-06-02 05:21 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

The `autodoc.py` script is an **automated documentation generator** that scans Python source files in a project, generates Markdown documentation using Claude AI, and integrates the results into a MkDocs documentation site.

## Purpose

This tool automates the tedious process of writing technical documentation by:
- Scanning directories for Python files
- Using Claude AI to generate comprehensive Markdown documentation
- Organizing generated docs in a `docs/` folder
- Automatically updating `mkdocs.yml` configuration

## Key Features

- **AI-Powered Documentation**: Leverages Anthropic's Claude to generate high-quality technical documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration with new documentation pages
- **Flexible Targeting**: Can scan specific directories or entire projects
- **Material Theme Support**: Preconfigured with Material for MkDocs theme and extensions

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" → "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or returns a default configuration structure.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Extensive markdown extensions (code highlighting, admonitions, etc.)
- Search and mkdocstrings plugins
- Navigation structure combining static and auto-generated pages

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Configuration Requirements

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: Optional model specification (defaults to `claude-sonnet-4-20250514`)

### Dependencies
```bash
pip install anthropic python-dotenv pyyaml
```

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Target Specific Directory
```bash
python autodoc.py /path/to/source/code
```

## Output Structure

```
project/
├── docs/
│   ├── index.md                 # Auto-generated if missing
│   ├── module_name_py.md       # Generated documentation
│   └── ...
├── mkdocs.yml                   # Updated configuration
└── autodoc.py
```

## Notes and Suggestions

### ⚠️ Important Considerations

- **API Costs**: Each file generates a Claude API call; monitor usage for large projects
- **Rate Limits**: Consider adding delays between API calls for very large codebases
- **File Overwrites**: Generated documentation files are overwritten on each run

### 🔧 Potential Improvements

1. **Caching**: Implement file hash checking to avoid regenerating unchanged files
2. **Error Handling**: Add retry logic for API failures
3. **Filtering**: Add options to exclude specific directories or file patterns
4. **Templates**: Allow custom documentation templates
5. **Batch Processing**: Group multiple small files into single API calls

### 💡 Best Practices

- Run this script as part of your CI/CD pipeline
- Review generated documentation before publishing
- Keep your `ANTHROPIC_API_KEY` secure and use environment files
- Consider adding the script to your project's development workflow

### 🐛 Known Limitations

- Only processes `.py` files
- Requires internet connection for Claude AI API
- No incremental updates (regenerates all documentation each run)
- Fixed output directory (`docs/`) with no configuration option