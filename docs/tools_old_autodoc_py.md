<!-- Auto-generated by Claude on 2025-06-02 04:30 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file.

## Purpose

This tool addresses the common challenge of maintaining up-to-date documentation by:
- **Automatically scanning** Python files in a project
- **Generating readable documentation** using AI-powered analysis
- **Organizing output** into a structured docs directory
- **Integrating with MkDocs** for easy website generation

## Key Features

### Core Functionality
- Scans project directories for Python files (excluding tests and `__init__.py`)
- Uses Anthropic's Claude API to generate technical documentation
- Outputs Markdown files to a `docs/` directory
- Updates `mkdocs.yml` configuration automatically
- Preserves existing static navigation items

### Smart File Processing
- Converts file paths to snake_case for consistent naming
- Filters out test files and initialization files
- Handles nested directory structures
- Generates timestamped documentation

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to markdown-friendly filenames by replacing slashes and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Enhanced markdown extensions
- Search functionality
- Code highlighting and copying features

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (starting with `test_`)
- `__init__.py` files
- Non-Python files

## Configuration

### Required Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Usage
```bash
# Scan current directory
python autodoc.py

# Scan specific directory
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated configuration
```

## MkDocs Integration

The script automatically configures MkDocs with:
- **Material theme** with modern styling
- **Code highlighting** with line numbers
- **Search functionality**
- **Navigation tabs and instant loading**
- **Dark/light mode toggle**
- **Emoji support**

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations
- **API Costs**: Each file generates a Claude API call - monitor usage for large projects
- **Rate Limits**: Consider adding delays for projects with many files
- **File Size**: Large Python files may hit token limits (currently set to 1500 max tokens)

### üîß Potential Improvements
1. **Batch Processing**: Group smaller files into single API calls
2. **Caching**: Skip regeneration if source files haven't changed
3. **Configuration File**: Allow customization of output directory and file filters
4. **Error Recovery**: Better handling of API failures with retry logic
5. **Progress Indicators**: Add progress bars for large projects

### üí° Best Practices
- Run after significant code changes
- Review generated documentation for accuracy
- Consider integrating into CI/CD pipelines
- Keep API keys secure using `.env` files
- Regularly update the Claude model version for improved output

## Error Handling

The script includes basic error handling:
- Graceful handling of missing Python files
- API error reporting with file context
- Automatic creation of required directories
- Preservation of existing MkDocs configuration