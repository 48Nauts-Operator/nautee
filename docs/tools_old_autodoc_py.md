<!-- Auto-generated by Claude on 2025-06-22 06:34 -->

# Autodoc Generator

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs to provide a complete documentation solution.

## Purpose

This tool serves to:
- **Automatically generate documentation** for Python codebases
- **Maintain up-to-date docs** without manual intervention
- **Integrate seamlessly with MkDocs** for professional documentation sites
- **Leverage AI** (Claude) to create meaningful, readable documentation

## Key Features

### üîç **Intelligent File Discovery**
- Recursively scans directories for Python files
- Excludes test files and `__init__.py` files automatically
- Processes files relative to a specified target path

### ü§ñ **AI-Powered Documentation**
- Uses Anthropic's Claude API to generate contextual documentation
- Creates structured Markdown with headings, bullet points, and code blocks
- Explains file purpose, functions, classes, and provides suggestions

### üìö **MkDocs Integration**
- Automatically updates `mkdocs.yml` configuration
- Maintains existing navigation structure
- Adds generated docs under an "AutoDocs" section

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing slashes and dots with underscores.

```python
# Example: "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one with Material theme.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Enhanced features (navigation, search, code highlighting)
- Markdown extensions for rich content
- MkDocstrings plugin for API docs

### `collect_python_files(base: str)`
Recursively finds all Python files while filtering out:
- Test files (starting with `test_`)
- `__init__.py` files
- Non-Python files

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- If no directory specified, uses current directory (`.`)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                 # Auto-generated if missing
‚îú‚îÄ‚îÄ filename_py.md          # Generated docs for each Python file
‚îî‚îÄ‚îÄ ...
mkdocs.yml                  # Updated configuration
```

## Workflow

1. **Setup**: Load environment variables and initialize Claude client
2. **Discovery**: Scan target directory for Python files
3. **Generation**: For each file:
   - Read source code
   - Send to Claude API with documentation prompt
   - Write generated Markdown to `docs/` directory
4. **Integration**: Update `mkdocs.yml` with new documentation entries
5. **Indexing**: Create index page if missing

## Notes and Suggestions

### ‚ö†Ô∏è **Important Considerations**
- **API Costs**: Each file processed makes an API call to Claude
- **Rate Limits**: Consider API rate limits for large codebases
- **File Size**: Large files may hit token limits (currently set to 1500 max tokens)

### üöÄ **Potential Improvements**
- Add support for batch processing to reduce API calls
- Implement caching to avoid regenerating unchanged files
- Add configuration file support for customizable settings
- Include error recovery and retry mechanisms
- Support for custom documentation templates

### üîß **Best Practices**
- Run this script as part of your CI/CD pipeline
- Review generated documentation for accuracy
- Keep your `ANTHROPIC_API_KEY` secure and out of version control
- Consider using different Claude models based on your needs

### üìã **Dependencies**
- `anthropic`: Claude API client
- `python-dotenv`: Environment variable management
- `PyYAML`: YAML configuration handling

This tool provides an excellent foundation for maintaining automated, AI-generated documentation that stays current with your codebase evolution.