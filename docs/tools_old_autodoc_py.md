<!-- Auto-generated by Claude on 2025-06-22 12:38 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-28 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file with the generated documentation.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to create meaningful, structured documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration for immediate deployment
- **Project Scanning**: Recursively finds and processes all relevant Python files

## Key Features

### File Discovery
- Scans directories recursively for Python files
- Excludes test files (`test_*`) and `__init__.py` files
- Processes files based on command-line target path or current directory

### Documentation Generation
- Uses Claude AI to analyze source code and generate structured Markdown
- Creates consistent documentation format with headings, bullet points, and code blocks
- Adds timestamps to track generation dates
- Handles errors gracefully with detailed error reporting

### MkDocs Integration
- Preserves existing MkDocs configuration
- Automatically updates navigation structure
- Adds comprehensive Material theme configuration
- Includes useful plugins and extensions

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown filename format by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" â†’ "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration including:
- Material theme with dark/light mode toggle
- Code highlighting and copying features
- Search functionality
- Navigation enhancements
- Markdown extensions for enhanced formatting

### `collect_python_files(base: str)`
Recursively discovers Python files while filtering out test files and init files.

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: Model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```

If no target directory is specified, uses current directory.

## Output Structure

### Generated Files
- **Documentation**: Created in `docs/` directory with snake_case naming
- **Index**: Auto-generates `docs/index.md` if missing
- **Configuration**: Updates `mkdocs.yml` with new navigation structure

### Navigation Organization
- Preserves existing static navigation items
- Adds "AutoDocs" section containing all generated documentation
- Uses clean file names without `.py` extension in navigation

## Error Handling

The script includes robust error handling:
- Continues processing if individual files fail
- Provides detailed error messages
- Gracefully handles missing configuration files
- Validates file existence before processing

## Suggestions and Notes

### Best Practices
- Ensure `ANTHROPIC_API_KEY` is set in environment or `.env` file
- Run from project root directory for best results
- Review generated documentation for accuracy
- Consider rate limits when processing large projects

### Customization Options
- Modify the Claude prompt to adjust documentation style
- Customize MkDocs theme configuration as needed
- Adjust file filtering logic for specific project needs

### Integration Tips
- Can be integrated into CI/CD pipelines for automatic documentation updates
- Works well with Git hooks for documentation synchronization
- Compatible with MkDocs deployment workflows

The script provides a powerful foundation for maintaining up-to-date technical documentation with minimal manual effort.