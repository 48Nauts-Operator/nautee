<!-- Auto-generated by Claude on 2025-06-01 09:28 -->

# autodoc.py Documentation

<!-- Auto-generated documentation -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The tool integrates with MkDocs to provide a complete documentation pipeline.

## Purpose

- **Automated Documentation**: Generates human-readable documentation from Python source code
- **AI-Powered Analysis**: Uses Claude AI to understand code structure and generate meaningful explanations
- **MkDocs Integration**: Automatically updates MkDocs configuration with generated documentation
- **Project-Wide Scanning**: Processes all Python files in a given directory structure

## Key Features

### File Processing
- Scans directories recursively for Python files
- Excludes test files (`test_*`) and `__init__.py` files
- Generates unique Markdown filenames using snake_case conversion

### Documentation Generation
- Creates detailed explanations of code purpose and functionality
- Identifies important functions and classes
- Provides usage suggestions and notes
- Formats output with proper Markdown structure

### MkDocs Integration
- Automatically updates `mkdocs.yml` configuration
- Preserves existing navigation structure
- Adds generated docs under "AutoDocs" section
- Configures Material theme with advanced features

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" → "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced navigation features
- Code highlighting and copying
- Search functionality
- Multiple markdown extensions

### `collect_python_files(base: str)`
Recursively discovers Python files while filtering out:
- Test files (`test_*`)
- Package initialization files (`__init__.py`)

## Configuration

### Required Environment Variables
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access
- `ANTHROPIC_MODEL`: Claude model to use (defaults to "claude-sonnet-4-20250514")

### Dependencies
```python
anthropic      # Claude AI API client
python-dotenv  # Environment variable management
pyyaml        # YAML configuration handling
```

## Usage

### Basic Usage
```bash
python autodoc.py [target_directory]
```

### Examples
```bash
# Document current directory
python autodoc.py

# Document specific directory
python autodoc.py ./src
```

## Output Structure

### Generated Files
- **`docs/*.md`**: Individual documentation files for each Python source
- **`docs/index.md`**: Main documentation index (created if missing)
- **`mkdocs.yml`**: Updated MkDocs configuration

### File Naming Convention
Source files are converted to documentation using snake_case:
- `src/utils/helpers.py` → `src_utils_helpers_py.md`
- `main.py` → `main_py.md`

## Suggestions and Notes

### Best Practices
- **API Key Security**: Store your Anthropic API key in a `.env` file, never commit it to version control
- **Regular Updates**: Run autodoc after significant code changes to keep documentation current
- **Manual Review**: Review generated documentation for accuracy and completeness

### Limitations
- **API Costs**: Each file generates an API call to Claude, consider costs for large projects
- **Token Limits**: Very large files may exceed the 1500 token limit and require chunking
- **Code Quality**: Documentation quality depends on code clarity and structure

### Potential Improvements
- Add support for incremental updates (only process changed files)
- Implement file size checking before API calls
- Add configuration file for customizing documentation templates
- Include support for other programming languages

### Error Handling
The script includes basic error handling that:
- Continues processing other files if one fails
- Reports specific errors for debugging
- Gracefully handles missing configuration files

## Integration with CI/CD

Consider integrating autodoc.py into your development workflow:
- Run as a pre-commit hook
- Include in CI pipeline to ensure documentation stays current
- Use with GitHub Actions for automated documentation updates