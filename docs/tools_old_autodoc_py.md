<!-- Auto-generated by Claude on 2025-06-02 06:31 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-19 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the navigation structure and generating documentation files.

## Purpose

This tool serves to:
- **Automate documentation creation** for Python projects
- **Maintain up-to-date documentation** by regenerating docs from source code
- **Integrate with MkDocs** for professional documentation sites
- **Leverage AI** (Claude) to create human-readable technical documentation

## Key Features

- Scans directories for Python files automatically
- Generates Markdown documentation using Claude AI
- Updates MkDocs configuration with new documentation entries
- Preserves existing navigation structure
- Creates professional-looking documentation with Material theme

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" becomes "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default one if none exists.

**Returns:**
- Existing YAML configuration as dictionary
- Default configuration with Material theme if file doesn't exist

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Code syntax highlighting
- Search functionality
- Navigation enhancements
- Markdown extensions for rich content

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Workflow

1. **Environment Setup**
   - Loads environment variables for Anthropic API key
   - Sets up output directory (`docs/`)
   - Configures Claude model

2. **File Discovery**
   - Scans target directory for Python files
   - Filters out test and init files

3. **Documentation Generation**
   - Reads each Python file's source code
   - Sends code to Claude AI with documentation prompt
   - Generates Markdown documentation
   - Saves to `docs/` directory with timestamp

4. **MkDocs Integration**
   - Preserves existing navigation items
   - Adds new "AutoDocs" section
   - Updates `mkdocs.yml` with enhanced configuration

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Usage
```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated if missing
‚îú‚îÄ‚îÄ filename_py.md             # Generated docs for each Python file
‚îî‚îÄ‚îÄ other_existing_docs.md     # Preserved existing docs

mkdocs.yml                     # Updated configuration
```

## Notes and Suggestions

### ‚úÖ Strengths
- **Comprehensive MkDocs setup** with professional theme and extensions
- **Preserves existing documentation** while adding new auto-generated content
- **Error handling** for file processing issues
- **Detailed logging** shows progress and debugging information

### ‚ö†Ô∏è Considerations
- **API costs**: Each file generates a Claude API call
- **Rate limiting**: May need throttling for large projects
- **File overwriting**: Re-running overwrites existing auto-generated docs
- **API key security**: Ensure `.env` file is in `.gitignore`

### üîß Potential Improvements
- Add rate limiting between API calls
- Implement incremental updates (only changed files)
- Add configuration file for customizing documentation templates
- Include error recovery and retry logic
- Add support for custom file exclusion patterns

### üìã Dependencies
```txt
anthropic
python-dotenv
pyyaml
```

This tool is particularly valuable for maintaining documentation in active Python projects where keeping docs synchronized with code changes is challenging.