<!-- Auto-generated by Claude on 2025-06-08 01:51 -->

# autodoc.py

<!-- Auto-generated documentation -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The tool integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation entries.

## Purpose

- **Automated Documentation**: Generates professional Markdown documentation for Python files using AI
- **MkDocs Integration**: Automatically updates MkDocs configuration with new documentation entries
- **Project Scanning**: Recursively finds and processes Python source files
- **Consistent Output**: Creates standardized documentation format across all files

## Key Features

### üîç **Intelligent File Discovery**
- Recursively scans directories for Python files
- Excludes test files (`test_*.py`) and `__init__.py` files
- Processes files based on command-line target path

### ü§ñ **AI-Powered Documentation**
- Uses Claude AI (Anthropic) to generate technical documentation
- Creates structured Markdown with headings, bullet points, and code blocks
- Explains file purpose, functions, classes, and provides suggestions

### üìÅ **Organized Output**
- Generates documentation in `docs/` directory
- Uses snake_case naming convention for output files
- Adds timestamps to track generation dates

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates default structure.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Updates MkDocs configuration with comprehensive Material theme settings including:
- Dark/light mode toggle
- Enhanced navigation features
- Syntax highlighting
- Search functionality
- Python docstring support

### `collect_python_files(base: str)`
Recursively discovers Python source files while filtering out:
- Test files (`test_*.py`)
- Init files (`__init__.py`)

## Configuration

### Required Environment Variables

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Setup Requirements

```bash
pip install anthropic python-dotenv pyyaml
```

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Target Specific Directory
```bash
python autodoc.py /path/to/source/code
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index (if missing)
‚îú‚îÄ‚îÄ filename_py.md             # Generated documentation files
‚îî‚îÄ‚îÄ other_module_py.md
mkdocs.yml                     # Updated configuration
```

## MkDocs Integration

The tool automatically configures MkDocs with:

- **Material Theme**: Modern, responsive design
- **Syntax Highlighting**: Code blocks with line numbers
- **Navigation**: Instant navigation with tabs
- **Search**: Enhanced search with suggestions
- **Dark Mode**: Automatic theme switching
- **AutoDocs Section**: Dedicated navigation section for generated docs

## Notes & Suggestions

### ‚ö†Ô∏è **Important Considerations**

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limiting**: Consider adding delays for projects with many files
- **File Overwrites**: Generated documentation files are overwritten on each run

### üîß **Potential Improvements**

1. **Caching**: Implement file hash checking to avoid regenerating unchanged files
2. **Batch Processing**: Group multiple files in single API calls for efficiency
3. **Error Handling**: Add retry logic for API failures
4. **Configuration**: Make AI model and prompt customizable via config file
5. **Filtering**: Add more sophisticated file filtering options

### üí° **Best Practices**

- Run after significant code changes
- Review generated documentation for accuracy
- Customize the AI prompt for project-specific documentation standards
- Backup existing documentation before running
- Consider integrating into CI/CD pipeline for automatic updates

## Dependencies

- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management
- `pyyaml`: YAML configuration file handling
- `os`, `sys`, `datetime`: Standard library modules