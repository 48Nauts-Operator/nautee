<!-- Auto-generated by Claude on 2025-06-01 20:21 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The script integrates with MkDocs to automatically update the documentation site configuration.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to analyze code and create human-readable documentation
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration to include generated documentation
- **Project Scanning**: Recursively finds and processes Python files in the target directory

## Key Features

### Core Functionality

- Scans project directories for Python source files
- Generates Markdown documentation using Claude AI
- Creates organized documentation structure in `docs/` directory
- Updates MkDocs navigation configuration automatically
- Preserves existing static navigation items

### File Processing

- **Filters**: Excludes test files (`test_*.py`) and `__init__.py` files
- **Naming Convention**: Converts file paths to snake_case Markdown filenames
- **Timestamping**: Adds generation timestamps to documentation files

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to documentation-friendly filenames.
```python
# Example: "src/utils.py" â†’ "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure.
- Returns existing YAML configuration
- Provides fallback default configuration if file doesn't exist

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Updates the MkDocs configuration with comprehensive theming and navigation.
- **Theme**: Material theme with dark/light mode toggle
- **Features**: Code highlighting, search, navigation enhancements
- **Extensions**: Comprehensive Markdown extensions for rich formatting

### `collect_python_files(base: str)`
Recursively scans directories for Python files to document.
- Walks through all subdirectories
- Filters out test files and `__init__.py`
- Returns list of file paths for processing

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

### Generated Files
- **Documentation**: `docs/*.md` files for each Python file
- **Index**: `docs/index.md` (created if missing)
- **Configuration**: Updated `mkdocs.yml` with new navigation

### MkDocs Configuration Features
- Material theme with customizable color schemes
- Advanced Markdown extensions (code highlighting, admonitions, etc.)
- Search functionality with suggestions
- Navigation enhancements (tabs, instant loading)
- Code copy buttons and syntax highlighting

## Usage Notes

### Prerequisites
- Valid Anthropic API key
- `python-dotenv`, `anthropic`, and `pyyaml` packages installed
- Internet connection for Claude AI API calls

### Best Practices
- Run from project root directory
- Ensure API key is properly configured in `.env` file
- Review generated documentation for accuracy
- Commit generated docs to version control

### Error Handling
- Gracefully handles missing files or API errors
- Continues processing other files if individual files fail
- Provides detailed console output for debugging

## Suggestions

1. **Rate Limiting**: Consider adding delays between API calls for large projects
2. **Caching**: Implement file change detection to avoid regenerating unchanged documentation
3. **Customization**: Allow custom prompts or documentation templates
4. **Validation**: Add validation for generated Markdown before writing files
5. **Backup**: Consider backing up existing documentation before overwriting

This tool significantly streamlines the documentation process by leveraging AI to create comprehensive, readable documentation automatically.