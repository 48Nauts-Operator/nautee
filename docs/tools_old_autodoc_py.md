<!-- Auto-generated by Claude on 2025-06-22 10:20 -->

# Autodoc Generator Documentation

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and generates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file to include the generated documentation.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to analyze code and create human-readable documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration for seamless documentation site generation
- **Project Scanning**: Recursively discovers Python files in a project directory

## Key Features

- Scans project directories for Python source files
- Generates Markdown documentation using Claude AI
- Creates organized documentation structure in `docs/` directory
- Updates `mkdocs.yml` with proper navigation structure
- Preserves existing static navigation items
- Configurable Material theme with dark/light mode support

## Configuration

### Environment Variables

The script requires the following environment variables:

```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to specified model
```

### Setup Requirements

- Python environment with required packages:
  - `anthropic`
  - `python-dotenv` 
  - `pyyaml`
- Valid Anthropic API key
- `.env` file in project root (optional)

## Important Functions

### `snake_md_path(rel_path: str) -> str`
- **Purpose**: Converts file paths to markdown filename format
- **Input**: Relative file path (e.g., `src/utils.py`)
- **Output**: Snake case markdown filename (e.g., `src_utils_py.md`)

### `load_mkdocs_config(path: str)`
- **Purpose**: Loads existing MkDocs configuration or creates default structure
- **Returns**: Dictionary containing MkDocs configuration
- **Fallback**: Creates default "Nautee Docs" configuration if file doesn't exist

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- **Purpose**: Writes complete MkDocs configuration with enhanced Material theme
- **Features**: 
  - Dark/light theme toggle
  - Code syntax highlighting
  - Navigation enhancements
  - Search functionality
  - mkdocstrings plugin integration

### `collect_python_files(base: str)`
- **Purpose**: Recursively discovers Python files in target directory
- **Filters**: 
  - Excludes test files (`test_*.py`)
  - Excludes `__init__.py` files
  - Only includes `.py` extensions

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Specify Target Directory
```bash
python autodoc.py /path/to/project
```

## Workflow

1. **Environment Setup**: Loads environment variables and initializes Claude client
2. **File Discovery**: Scans target directory for Python files
3. **Documentation Generation**: 
   - Reads each Python file
   - Sends code to Claude for analysis
   - Generates structured Markdown documentation
4. **File Output**: Writes documentation to `docs/` directory with timestamps
5. **Navigation Update**: Updates `mkdocs.yml` with new documentation entries
6. **Index Creation**: Creates `index.md` if it doesn't exist

## Output Structure

```
docs/
├── index.md                    # Main documentation index
├── module_name_py.md          # Generated documentation files
├── utils_helper_py.md
└── ...

mkdocs.yml                     # Updated configuration file
```

## Notes and Suggestions

### Performance Considerations
- **API Rate Limits**: Be mindful of Anthropic API rate limits for large projects
- **Token Usage**: Each file analysis consumes API tokens (max 1500 tokens per request)

### Best Practices
- Run the script after significant code changes
- Review generated documentation for accuracy
- Consider excluding large or generated Python files
- Keep API keys secure and out of version control

### Limitations
- Requires internet connection for Claude API calls
- Documentation quality depends on code clarity and structure
- May need manual review for complex or specialized code

### Error Handling
- Graceful error handling for individual file processing failures
- Continues processing remaining files if one fails
- Provides clear console output for debugging

## Integration with MkDocs

The script generates a fully configured MkDocs setup with:

- **Material Theme**: Modern, responsive documentation theme
- **Code Highlighting**: Syntax highlighting with line numbers
- **Search**: Full-text search functionality  
- **Navigation**: Automatic navigation structure
- **Dark/Light Mode**: Theme toggle functionality
- **mkdocstrings**: Python code documentation integration

After running the script, you can build and serve the documentation with:

```bash
mkdocs serve
```