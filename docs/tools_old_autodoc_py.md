<!-- Auto-generated by Claude on 2025-06-08 07:18 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation links.

## Purpose

- **Automated Documentation**: Generates comprehensive Markdown documentation for Python files using AI
- **MkDocs Integration**: Automatically updates MkDocs navigation structure
- **Project Scanning**: Recursively finds and processes Python source files
- **Documentation Management**: Maintains organized documentation structure in a `docs/` directory

## Key Features

- AI-powered documentation generation using Anthropic's Claude
- Automatic MkDocs configuration management
- Smart file filtering (excludes test files and `__init__.py`)
- Timestamp tracking for generated documentation
- Error handling for failed file processing

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames.
```python
# Example: "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure.
- Returns existing YAML config if file exists
- Creates default "Nautee Docs" configuration if not found

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Enhanced markdown extensions (syntax highlighting, admonitions, etc.)
- Search functionality
- MkDocstrings plugin integration
- Combined navigation structure

### `collect_python_files(base: str)`
Recursively scans directories for Python files with filtering:
- Includes: `.py` files
- Excludes: `test_*.py` files and `__init__.py`

## Configuration Requirements

### Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Dependencies
- `anthropic` - Claude AI client
- `python-dotenv` - Environment variable loading
- `pyyaml` - YAML configuration handling

## Usage

```bash
# Document current directory
python autodoc.py

# Document specific directory
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index
‚îú‚îÄ‚îÄ filename_py.md             # Generated docs for each Python file
‚îî‚îÄ‚îÄ other_module_py.md
mkdocs.yml                     # Updated configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
- **Rate Limits**: Consider implementing delays for projects with many files
- **File Size**: Large Python files may exceed Claude's token limits

### üîß Potential Improvements

- **Caching**: Implement file change detection to avoid regenerating unchanged documentation
- **Batch Processing**: Group smaller files into single API calls
- **Custom Prompts**: Allow customizable documentation templates
- **Error Recovery**: Add retry logic for failed API calls
- **Parallel Processing**: Add concurrent file processing for faster execution

### üí° Best Practices

- Run regularly in CI/CD pipelines to keep documentation current
- Review generated documentation for accuracy
- Customize the MkDocs theme configuration for your project branding
- Consider excluding certain directories (e.g., `venv/`, `.git/`) from scanning

### üöÄ Integration Tips

- Add to pre-commit hooks for automatic documentation updates
- Use with GitHub Actions for automated doc deployment
- Combine with code quality tools for comprehensive project maintenance