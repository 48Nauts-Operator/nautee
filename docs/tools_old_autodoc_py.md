<!-- Auto-generated by Claude on 2025-06-22 23:19 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation entries.

## Purpose

This tool serves to:
- **Automate documentation generation** for Python codebases
- **Maintain up-to-date documentation** by regenerating docs from source code
- **Integrate seamlessly with MkDocs** for static site generation
- **Reduce manual documentation overhead** for development teams

## Key Features

- Scans directories recursively for Python files
- Generates comprehensive Markdown documentation using Claude AI
- Updates MkDocs navigation automatically
- Preserves existing static documentation entries
- Configurable output directory and target paths

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file, returning a default configuration if the file doesn't exist.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Enhanced markdown extensions
- Search and syntax highlighting plugins
- Combined navigation from static and auto-generated docs

### `collect_python_files(base: str)`
Recursively scans the target directory for Python files, excluding:
- Test files (`test_*.py`)
- `__init__.py` files

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: AI model to use (default: `claude-sonnet-4-20250514`)

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

- **Documentation files**: Written to `docs/*.md`
- **Naming convention**: Source file paths converted to snake_case
- **MkDocs integration**: Automatically updates `mkdocs.yml` navigation

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each file generates an API call to Claude - monitor usage for large codebases
2. **Rate Limiting**: Consider adding delays between API calls for large projects
3. **Error Handling**: Failed documentation generation for individual files won't stop the entire process

### üîß Potential Improvements

1. **Caching**: Implement file change detection to avoid regenerating unchanged files
2. **Batch Processing**: Group multiple files into single API calls to reduce costs
3. **Configuration File**: Move settings to a dedicated config file instead of environment variables
4. **Template Customization**: Allow custom documentation templates for different file types

### üí° Usage Tips

- Run regularly as part of CI/CD pipeline to keep docs current
- Review generated documentation for accuracy before publishing
- Consider excluding generated files from version control if regenerated frequently
- Use meaningful docstrings in source code for better AI-generated documentation

## Dependencies

- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management
- `PyYAML`: YAML configuration file handling

## Integration

This script works best when integrated into development workflows:
- **Pre-commit hooks**: Generate docs before code commits
- **CI/CD pipelines**: Automatic documentation updates on code changes
- **Development scripts**: Part of local development setup routines