<!-- Auto-generated by Claude on 2025-06-01 11:15 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python projects and creates comprehensive Markdown documentation using Claude AI. The script integrates with MkDocs to provide a complete documentation solution.

## Purpose

- **Automated Documentation**: Generates documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to analyze code and create meaningful documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration for seamless documentation site generation
- **Project-Wide Coverage**: Scans entire project directories for Python files

## Key Features

### ğŸ” **Intelligent File Discovery**
- Recursively scans directories for Python files
- Filters out test files and `__init__.py` files
- Supports custom target paths via command line arguments

### ğŸ¤– **AI-Generated Documentation** 
- Leverages Claude AI (Anthropic) for code analysis
- Generates structured Markdown with headings, bullet points, and code blocks
- Provides explanations of purpose, functions, classes, and usage suggestions

### ğŸ“š **MkDocs Integration**
- Automatically updates `mkdocs.yml` configuration
- Preserves existing navigation structure
- Adds generated docs under "AutoDocs" section

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" â†’ "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Enhanced markdown extensions
- Search and code highlighting features
- Navigation structure preservation

### `collect_python_files(base: str)`
Recursively discovers Python files while filtering out:
- Test files (starting with `test_`)
- `__init__.py` files
- Non-Python files

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI access
- `ANTHROPIC_MODEL`: Claude model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

### Generated Files
- **Documentation**: `docs/*.md` files for each Python file
- **Index**: `docs/index.md` (created if missing)
- **Configuration**: Updated `mkdocs.yml`

### File Naming Convention
Python files are converted to Markdown using snake_case pattern:
- `src/database/models.py` â†’ `src_database_models_py.md`

## MkDocs Theme Features

The script configures MkDocs with advanced features:

- **ğŸ¨ Material Theme**: Modern, responsive design
- **ğŸŒ“ Dark/Light Mode**: User-switchable themes
- **ğŸ” Enhanced Search**: Suggestion and highlighting
- **ğŸ“ Code Features**: Syntax highlighting, line numbers, copy buttons
- **ğŸ§­ Navigation**: Instant loading, tabs, breadcrumbs

## Error Handling

- Graceful handling of file reading errors
- Continues processing remaining files if individual files fail
- Provides detailed console output for debugging

## Usage Notes

### Prerequisites
```bash
pip install anthropic python-dotenv pyyaml
```

### Environment Setup
Create a `.env` file with:
```
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
```

### Best Practices
- Run from project root directory
- Ensure proper API key configuration
- Review generated documentation for accuracy
- Customize MkDocs theme as needed

## Suggestions

1. **Version Control**: Consider adding generated docs to `.gitignore` if regenerating frequently
2. **CI/CD Integration**: Automate documentation generation in build pipelines
3. **Custom Prompts**: Modify the Claude prompt for domain-specific documentation needs
4. **Rate Limiting**: Add delays between API calls for large projects
5. **Incremental Updates**: Consider tracking file modifications to avoid regenerating unchanged files

## Output Example

The script provides detailed console feedback:
```
ğŸ‘ï¸ autodoc.py is executing from: /path/to/autodoc.py
ğŸ“‚ Found 5 Python files.
âœ… Documented: src/main.py â†’ src_main_py.md
âœ… Documented: utils/helpers.py â†’ utils_helpers_py.md
ğŸ’¾ Writing updated mkdocs.yml...
âœ… mkdocs.yml updated with latest AutoDocs.
```