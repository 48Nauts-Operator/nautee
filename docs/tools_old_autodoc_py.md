<!-- Auto-generated by Claude on 2025-06-02 03:21 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-01-XX XX:XX -->

## Purpose

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with the generated documentation.

## Key Features

- **Automated Python file discovery**: Recursively scans directories for Python source files
- **AI-powered documentation**: Uses Anthropic's Claude API to generate human-readable documentation
- **MkDocs integration**: Automatically updates `mkdocs.yml` with generated documentation links
- **Material theme configuration**: Pre-configured with Material for MkDocs theme and extensions

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file, or returns a default configuration if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with Material theme settings, markdown extensions, and navigation structure.

### `collect_python_files(base: str)`
Recursively discovers Python files in a directory, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Configuration Requirements

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude access
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### Dependencies
```python
import anthropic
from dotenv import load_dotenv
import yaml
```

## Usage

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific path
python autodoc.py /path/to/project
```

## Output Structure

- **Documentation files**: Saved to `docs/` directory with snake_case naming
- **Index file**: Creates `docs/index.md` if missing
- **Configuration**: Updates `mkdocs.yml` with AutoDocs navigation section

## MkDocs Theme Configuration

The script configures a comprehensive Material theme setup including:

- **Dark/light mode toggle**
- **Syntax highlighting with line numbers**
- **Navigation features**: instant loading, tabs, top navigation
- **Search functionality**: suggestions and highlighting
- **Code features**: copy buttons, annotations
- **Markdown extensions**: admonitions, task lists, emoji support

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each file generates an API call to Claude - monitor usage for large codebases
2. **Rate Limiting**: Consider adding delays for projects with many files
3. **Error Handling**: Failed documentation generation continues processing other files

### üîß Potential Improvements

1. **Caching**: Implement file change detection to avoid regenerating unchanged files
2. **Batch Processing**: Group multiple files into single API calls to reduce costs
3. **Custom Prompts**: Allow customizable documentation prompts for different file types
4. **Exclusion Patterns**: Add configuration for excluding specific files or directories

### üí° Best Practices

- Run during CI/CD pipeline to keep documentation current
- Review generated documentation for accuracy
- Consider manual overrides for complex modules
- Use version control to track documentation changes

## Error Handling

The script includes robust error handling that:
- Continues processing if individual files fail
- Provides clear error messages with file paths
- Exits gracefully if no Python files are found