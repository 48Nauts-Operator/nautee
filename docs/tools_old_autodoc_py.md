<!-- Auto-generated by Claude on 2025-06-22 16:23 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-28 14:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the configuration file and organizing generated documentation.

## Purpose

This tool serves to:
- **Automate documentation creation** for Python projects
- **Maintain up-to-date documentation** by regenerating docs from source code
- **Integrate with MkDocs** for professional documentation sites
- **Leverage AI** (Claude) to create comprehensive, readable documentation

## Key Features

- Scans directories for Python files automatically
- Generates Markdown documentation using Claude AI
- Updates MkDocs configuration with generated documentation
- Creates a Material theme-based documentation site
- Excludes test files and `__init__.py` files from documentation

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" becomes "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file, or returns a default configuration if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with Material theme settings, including:
- Dark/light mode toggle
- Navigation features
- Markdown extensions
- Search functionality
- Code highlighting

### `collect_python_files(base: str)`
Recursively scans directories for Python files, filtering out:
- Test files (starting with `test_`)
- `__init__.py` files
- Non-Python files

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- If no directory specified, defaults to current directory (`.`)

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                 # Main documentation index
‚îú‚îÄ‚îÄ filename1_py.md         # Generated docs for each Python file
‚îú‚îÄ‚îÄ filename2_py.md
‚îî‚îÄ‚îÄ ...
mkdocs.yml                  # Updated MkDocs configuration
```

## Dependencies

- `anthropic`: For Claude AI integration
- `python-dotenv`: For environment variable management
- `PyYAML`: For YAML configuration handling

## Important Notes

### ‚ö†Ô∏è API Usage
- Each run makes API calls to Claude for every Python file
- Consider API rate limits and costs for large projects
- The script uses a 1500 token limit per file

### üîß Configuration Management
- Preserves existing MkDocs configuration while adding AutoDocs section
- Automatically removes old AutoDocs entries before adding new ones
- Creates comprehensive Material theme configuration if none exists

### üìÅ File Handling
- Creates `docs/` directory if it doesn't exist
- Generates `index.md` if missing
- Overwrites existing documentation files on each run

## Suggestions for Improvement

1. **Add caching mechanism** to avoid re-generating unchanged files
2. **Implement incremental updates** based on file modification times
3. **Add configuration file** for customizing exclusion patterns
4. **Include error handling** for API failures with retry logic
5. **Add progress indicators** for large projects
6. **Support custom prompts** for different documentation styles

## Usage Example

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific directory
python autodoc.py src/

# Serve documentation locally
mkdocs serve
```

This tool significantly streamlines the documentation process by automating the creation of comprehensive, AI-generated documentation that integrates seamlessly with modern documentation workflows.