<!-- Auto-generated by Claude on 2025-06-01 23:18 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 10:30 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. The tool integrates with MkDocs to provide a complete documentation website with proper navigation structure.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to create comprehensive explanations of code functionality
- **MkDocs Integration**: Automatically updates MkDocs configuration for seamless documentation websites
- **Project Scanning**: Recursively finds and processes all relevant Python files in a project

## Key Features

### File Discovery
- Scans directories recursively for Python files
- Filters out test files (`test_*.py`) and `__init__.py` files
- Processes files from a specified target path or current directory

### Documentation Generation
- Uses Claude AI API to analyze Python source code
- Generates structured Markdown documentation with:
  - Code explanations
  - Function and class descriptions
  - Usage suggestions and notes
  - Proper formatting with headings and code blocks

### MkDocs Integration
- Automatically updates `mkdocs.yml` configuration
- Preserves existing navigation structure
- Adds generated docs under "AutoDocs" section
- Configures Material theme with enhanced features

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown filename format by replacing path separators and dots with underscores.

```python
snake_md_path("src/utils.py") â†’ "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with:
- Material theme setup
- Dark/light mode toggle
- Enhanced markdown extensions
- Search functionality
- Code highlighting

### `collect_python_files(base: str)`
Recursively discovers Python files in the project, excluding test files and `__init__.py`.

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: AI model to use (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
If no directory is specified, uses current directory.

## Output Structure

### Generated Files
- **Documentation**: Created in `docs/` directory with snake_case naming
- **Index**: Auto-generates `docs/index.md` if missing
- **Configuration**: Updates `mkdocs.yml` with new navigation

### MkDocs Features
The tool configures MkDocs with advanced features:
- **Theme**: Material design with custom color scheme
- **Navigation**: Instant loading, tabs, and search
- **Code**: Syntax highlighting with line numbers
- **Extensions**: Admonitions, task lists, emojis, and more

## Usage Notes

### Prerequisites
- Python environment with required packages (`anthropic`, `python-dotenv`, `pyyaml`)
- Valid Anthropic API key
- MkDocs installation for serving documentation

### Best Practices
- Run from project root directory
- Ensure API key is properly configured in `.env` file
- Review generated documentation for accuracy
- Customize MkDocs theme settings as needed

### Limitations
- Requires internet connection for Claude AI API
- API usage costs apply based on Anthropic pricing
- Generated documentation quality depends on code complexity and comments

## Error Handling

The script includes robust error handling:
- Continues processing if individual files fail
- Provides detailed error messages
- Gracefully handles missing configuration files
- Validates file existence before processing

This tool significantly streamlines the documentation process for Python projects by leveraging AI to create comprehensive, well-structured technical documentation automatically.