<!-- Auto-generated by Claude on 2025-06-22 03:25 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-19 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generation tool that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation entries.

## Purpose

- **Automated Documentation**: Generates human-readable documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to create meaningful explanations of code structure, functions, and classes
- **MkDocs Integration**: Automatically maintains and updates MkDocs navigation structure
- **Batch Processing**: Processes multiple Python files in a single execution

## Key Features

### Core Functionality

- **Project Scanning**: Recursively finds all relevant Python files in a directory
- **AI Documentation Generation**: Leverages Claude AI to create technical documentation
- **Markdown Output**: Generates clean, formatted Markdown files
- **Navigation Management**: Maintains MkDocs navigation structure automatically

### File Processing Rules

- Processes `.py` files only
- Excludes test files (files starting with `test_`)
- Skips `__init__.py` files
- Maintains relative path structure in output

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" → "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default configuration structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions
- Search functionality
- Code highlighting and copying features

### `collect_python_files(base: str)`
Recursively scans directories to find Python files that meet the processing criteria.

## Configuration Requirements

### Environment Variables

- `ANTHROPIC_API_KEY`: Required API key for Claude AI access
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### Dependencies

- `anthropic`: Claude AI client library
- `python-dotenv`: Environment variable management
- `pyyaml`: YAML configuration file handling

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Specify Target Directory
```bash
python autodoc.py /path/to/project
```

## Output Structure

### Generated Files
- **Documentation**: `docs/*.md` files for each Python source file
- **Index**: `docs/index.md` (created if missing)
- **Configuration**: Updated `mkdocs.yml` with navigation entries

### Naming Convention
Python files are converted to Markdown using snake_case:
- `src/api/handlers.py` → `docs/src_api_handlers_py.md`
- `utils/database.py` → `docs/utils_database_py.md`

## MkDocs Integration

The script automatically configures MkDocs with:

### Theme Features
- Material Design theme
- Dark/light mode toggle
- Responsive navigation
- Code syntax highlighting
- Search functionality

### Navigation Structure
```yaml
nav:
  - [Existing static pages]
  - AutoDocs:
      - filename1: generated_doc1.md
      - filename2: generated_doc2.md
```

## Error Handling

- **Missing API Key**: Script will fail if `ANTHROPIC_API_KEY` is not set
- **File Processing Errors**: Individual file errors are logged but don't stop execution
- **No Python Files**: Script exits gracefully if no qualifying files are found

## Notes and Suggestions

### Best Practices
- Ensure your `.env` file contains valid Anthropic API credentials
- Run from your project root directory for best results
- Review generated documentation for accuracy before publishing

### Limitations
- Requires internet connection for Claude AI API calls
- API usage costs apply based on Anthropic pricing
- Generated documentation quality depends on source code clarity

### Customization Options
- Modify the AI prompt in the generation loop for different documentation styles
- Adjust file filtering logic in `collect_python_files()` for specific needs
- Customize MkDocs theme configuration in `write_mkdocs_config()`

### Performance Considerations
- Processing time scales with number of files and API response time
- Consider implementing batch processing for large codebases
- Monitor API usage to manage costs effectively