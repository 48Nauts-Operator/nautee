<!-- Auto-generated by Claude on 2025-06-01 17:16 -->

# Autodoc Generator Documentation

<!-- Auto-generated documentation for autodoc.py -->

## Overview

The **Autodoc Generator** is a Python script that automatically scans a project for Python source files, generates comprehensive Markdown documentation using Claude AI, and integrates the generated documentation into a MkDocs site structure.

## Purpose

This tool automates the documentation process by:
- Scanning directories for Python files
- Using Claude AI to generate technical documentation
- Creating organized Markdown files in a `docs/` directory
- Automatically updating `mkdocs.yml` configuration
- Maintaining a structured documentation site

## Key Features

- **AI-Powered Documentation**: Leverages Anthropic's Claude AI to generate high-quality technical documentation
- **Automatic File Discovery**: Recursively scans directories for Python files
- **MkDocs Integration**: Seamlessly integrates with MkDocs for professional documentation sites
- **Configuration Management**: Automatically updates MkDocs configuration with new documentation entries
- **Flexible Theming**: Includes Material theme with dark/light mode support

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" becomes "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file or creates a default configuration structure.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a complete MkDocs configuration with enhanced Material theme settings, including:
- Dark/light mode toggle
- Enhanced navigation features
- Code highlighting and syntax support
- Search functionality
- Multiple Markdown extensions

### `collect_python_files(base: str)`
Recursively discovers Python files in the target directory, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Configuration Requirements

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI access
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### Dependencies
```python
import anthropic
from dotenv import load_dotenv
import yaml
```

## Usage

### Command Line
```bash
python autodoc.py [target_directory]
```

- `target_directory`: Optional path to scan (defaults to current directory)

### Output Structure
```
docs/
├── index.md                    # Auto-generated index
├── module_name_py.md          # Generated documentation files
└── ...
mkdocs.yml                     # Updated configuration
```

## Workflow Process

1. **Initialization**: Loads environment variables and sets up Claude AI client
2. **File Discovery**: Scans target directory for Python files
3. **Documentation Generation**: For each Python file:
   - Reads source code
   - Sends to Claude AI with documentation prompt
   - Receives formatted Markdown documentation
   - Writes to `docs/` directory
4. **Configuration Update**: Updates `mkdocs.yml` with new documentation entries
5. **Index Creation**: Creates index.md if it doesn't exist

## Notes and Suggestions

### Best Practices
- Ensure `ANTHROPIC_API_KEY` is properly configured in your `.env` file
- Run from your project root directory for best results
- Review generated documentation for accuracy and completeness

### Limitations
- Requires internet connection for Claude AI API calls
- API usage costs may apply based on Anthropic's pricing
- Generated documentation quality depends on source code clarity and comments

### Customization Options
- Modify the Claude prompt to adjust documentation style
- Customize MkDocs theme settings in `write_mkdocs_config()`
- Add file filtering logic in `collect_python_files()` for specific requirements

### Error Handling
The script includes robust error handling that continues processing even if individual files fail, ensuring partial success rather than complete failure.

## Example Output
Generated documentation files include:
- File purpose and functionality explanations
- Important class and function descriptions
- Code examples and usage patterns
- Technical notes and suggestions