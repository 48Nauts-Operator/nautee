<!-- Auto-generated by Claude on 2025-06-22 20:21 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-01-15 14:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual effort
- **AI-Powered Analysis**: Uses Claude AI to create detailed, readable documentation
- **MkDocs Integration**: Automatically updates MkDocs configuration for seamless documentation site generation
- **Project-Wide Scanning**: Processes all Python files in a directory structure

## Key Features

### File Processing
- Scans directories recursively for Python files
- Excludes test files (`test_*.py`) and `__init__.py` files
- Converts file paths to snake_case markdown filenames

### Documentation Generation
- Uses Claude AI to analyze Python source code
- Generates structured Markdown with headings, bullet points, and code blocks
- Includes timestamps and auto-generation notices

### MkDocs Integration
- Preserves existing MkDocs configuration
- Adds generated documentation under "AutoDocs" section
- Configures Material theme with dark/light mode support

## Important Functions

### `snake_md_path(rel_path: str) -> str`
```python
def snake_md_path(rel_path: str) -> str:
    return rel_path.replace("/", "_").replace(".", "_") + ".md"
```
- Converts file paths to markdown-safe filenames
- Replaces path separators and dots with underscores

### `load_mkdocs_config(path: str)`
```python
def load_mkdocs_config(path: str):
    if os.path.exists(path):
        with open(path, "r") as f:
            return yaml.safe_load(f)
    return {
        "site_name": "Nautee Docs",
        "theme": {"name": "material"},
        "nav": []
    }
```
- Loads existing MkDocs configuration or creates default structure
- Handles missing configuration files gracefully

### `collect_python_files(base: str)`
```python
def collect_python_files(base: str):
    results = []
    for root, _, files in os.walk(base):
        for file in files:
            if file.endswith(".py") and not file.startswith("test_") and file != "__init__.py":
                results.append(os.path.join(root, file))
    return results
```
- Recursively finds Python files in directory structure
- Filters out test files and init files

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI service
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

### Generated Files
- **Documentation**: `docs/*.md` - Individual markdown files for each Python file
- **Index**: `docs/index.md` - Main documentation index (created if missing)
- **Configuration**: `mkdocs.yml` - Updated MkDocs configuration

### MkDocs Theme Configuration
The script configures a comprehensive Material theme setup including:
- Dark/light mode toggle
- Syntax highlighting with line numbers
- Navigation enhancements
- Search functionality
- Code copy buttons

## Notes and Suggestions

### ‚ö†Ô∏è Requirements
- Requires `anthropic`, `python-dotenv`, and `pyyaml` packages
- Needs valid Anthropic API key in environment or `.env` file

### üí° Best Practices
- Run regularly as part of CI/CD pipeline for up-to-date documentation
- Review generated documentation for accuracy and completeness
- Consider adding custom prompts for domain-specific documentation needs

### üîß Potential Improvements
- Add support for custom file exclusion patterns
- Implement incremental updates (only process changed files)
- Add validation for generated markdown syntax
- Support for custom documentation templates

### üêõ Error Handling
- Gracefully handles missing files or API errors
- Continues processing remaining files if individual files fail
- Provides detailed console output for debugging

## Dependencies

```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import yaml
```

The script relies on external libraries for AI integration, environment management, and YAML processing.