<!-- Auto-generated by Claude on 2025-06-02 01:47 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-19 14:30 -->

## Overview

The `autodoc.py` script is an automated documentation generation tool that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs by automatically updating the navigation configuration.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to create comprehensive, readable documentation with explanations and suggestions
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration with generated documentation
- **Project Scanning**: Recursively finds and processes all relevant Python files in a project

## Key Features

### File Discovery
- Recursively scans directories for Python files
- Excludes test files (`test_*.py`) and `__init__.py` files
- Processes files relative to a target path (default: current directory)

### Documentation Generation
- Sends Python source code to Claude AI for analysis
- Generates structured Markdown with headings, bullet points, and code blocks
- Includes timestamps and auto-generation notices
- Creates organized documentation explaining purpose, functions, and classes

### MkDocs Integration
- Loads existing `mkdocs.yml` configuration
- Preserves static navigation items
- Adds new "AutoDocs" section with generated documentation
- Configures Material theme with dark/light mode support

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown filename format by replacing path separators and dots with underscores.

```python
# Example: "src/utils.py" → "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
- Loads existing MkDocs configuration from YAML file
- Returns default configuration if file doesn't exist
- Preserves existing site settings and theme configuration

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
- Writes comprehensive MkDocs configuration with Material theme
- Includes advanced features like syntax highlighting, search, and navigation
- Combines static navigation with auto-generated documentation links

### `collect_python_files(base: str)`
- Recursively walks directory tree to find Python files
- Filters out test files and `__init__.py` files
- Returns list of full file paths for processing

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude AI access
- `ANTHROPIC_MODEL`: AI model to use (default: "claude-sonnet-4-20250514")

### Command Line Usage
```bash
python autodoc.py [target_directory]
```
- `target_directory`: Optional path to scan (defaults to current directory)

## Output Structure

### Generated Files
- Creates `docs/` directory for documentation output
- Generates individual `.md` files for each Python file
- Creates `index.md` if it doesn't exist
- Updates `mkdocs.yml` with navigation structure

### File Naming Convention
Python files are converted to snake_case Markdown files:
- `src/database/models.py` → `src_database_models_py.md`

## Notes and Suggestions

### Setup Requirements
- Install required dependencies: `anthropic`, `python-dotenv`, `pyyaml`
- Configure `.env` file with ANTHROPIC_API_KEY
- Ensure proper directory structure for MkDocs project

### Best Practices
- Run script from project root directory
- Review generated documentation for accuracy
- Consider running periodically as code changes
- Backup existing `mkdocs.yml` before first run

### Limitations
- Requires internet connection for Claude AI API
- API usage costs may apply for large projects
- Generated documentation quality depends on source code clarity
- Does not process `__init__.py` or test files

### Error Handling
- Continues processing if individual files fail
- Prints clear error messages for debugging
- Gracefully handles missing configuration files

The script provides a powerful automation solution for maintaining up-to-date project documentation with minimal manual effort.