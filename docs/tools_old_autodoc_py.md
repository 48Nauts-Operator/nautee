<!-- Auto-generated by Claude on 2025-06-22 11:16 -->

# Autodoc Generator Documentation

<!-- Auto-generated by Claude on 2024-12-28 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python projects, creates comprehensive Markdown documentation using Claude AI, and integrates the generated docs into a MkDocs site structure. It's designed to streamline the documentation process for Python codebases by leveraging AI to generate high-quality technical documentation.

## Purpose

- **Automated Documentation**: Eliminates manual documentation writing by using Claude AI to analyze Python source code
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration to include generated documentation
- **Project Scanning**: Recursively finds and processes all relevant Python files in a project
- **Consistent Output**: Generates standardized Markdown documentation with proper formatting

## Key Features

### Core Functionality

- **AI-Powered Analysis**: Uses Anthropic's Claude model to understand and document Python code
- **Batch Processing**: Handles multiple Python files in a single execution
- **Configuration Management**: Maintains and updates MkDocs configuration automatically
- **Flexible Target Selection**: Can process specific directories or entire projects

### File Processing

- Excludes test files (`test_*.py`) and `__init__.py` files
- Converts file paths to snake_case Markdown filenames
- Preserves project structure in documentation organization
- Adds timestamps to generated files for tracking

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to documentation-friendly filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" becomes "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Safely loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions
- Search functionality
- Code highlighting and copying features

### `collect_python_files(base: str)`
Recursively scans directories for Python files, filtering out test files and init files.

## Configuration

### Required Environment Variables

- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access
- `ANTHROPIC_MODEL`: (Optional) Specific Claude model to use (defaults to "claude-sonnet-4-20250514")

### MkDocs Theme Features

The generated configuration includes:
- **Navigation**: Instant navigation, tabs, and top navigation
- **Content Features**: Code copying, editing actions, annotations
- **Search**: Suggestion and highlighting capabilities
- **Styling**: Roboto fonts, blue/green color scheme
- **Extensions**: Advanced markdown processing, emoji support, task lists

## Usage

### Basic Usage
```bash
python autodoc.py
```

### Target Specific Directory
```bash
python autodoc.py /path/to/your/project
```

## Output Structure

```
docs/
├── index.md                    # Auto-generated index (if missing)
├── module_name_py.md          # Generated docs for each Python file
├── utils_helper_py.md
└── ...

mkdocs.yml                     # Updated configuration file
```

## Notes and Suggestions

### Best Practices

- **API Key Security**: Store your Anthropic API key in a `.env` file, never commit it to version control
- **Review Generated Docs**: While AI-generated, always review the output for accuracy and completeness
- **Backup Configuration**: Keep backups of your `mkdocs.yml` before running the script

### Limitations

- **Token Limits**: Limited to 1500 tokens per file documentation (may need adjustment for very large files)
- **AI Dependency**: Requires active Anthropic API access
- **File Filtering**: Currently excludes all test files and init files (may need customization for some projects)

### Potential Improvements

- Add support for custom file filtering rules
- Implement incremental updates (only process changed files)
- Add error recovery and retry mechanisms
- Support for multiple output formats beyond Markdown

### Error Handling

The script includes basic error handling that continues processing other files if one fails, ensuring partial success rather than complete failure. Errors are logged with descriptive messages for debugging.