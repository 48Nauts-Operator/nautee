<!-- Auto-generated by Claude on 2025-06-02 07:21 -->

# Autodoc Generator Documentation

## Overview

**autodoc.py** is an automated documentation generator that scans Python projects and creates Markdown documentation using Claude AI. The script processes Python source files, generates comprehensive documentation, and integrates the results into a MkDocs project structure.

## Purpose

This tool automates the documentation process by:
- Scanning Python files in a project directory
- Using Claude AI to generate detailed Markdown documentation
- Organizing documentation files in a `docs/` directory
- Automatically updating `mkdocs.yml` configuration
- Maintaining proper navigation structure for MkDocs

## Setup and Configuration

### Dependencies
```python
import os
import sys
import anthropic
from dotenv import load_dotenv
from datetime import datetime
import yaml
```

### Required Environment Variables
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access
- `ANTHROPIC_MODEL`: (Optional) Defaults to "claude-sonnet-4-20250514"

### Initial Configuration
```python
target_path = sys.argv[1] if len(sys.argv) > 1 else "."
output_dir = "docs"
mkdocs_yml_path = "mkdocs.yml"
```

## Key Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-friendly filenames by replacing path separators and dots with underscores.

**Example:**
```python
# "src/utils.py" ‚Üí "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

**Returns:**
- Existing YAML configuration as dictionary
- Default configuration with Material theme

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions
- Search and code highlighting features
- Navigation structure combining static and auto-generated docs

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Main Workflow

### 1. File Discovery
```python
py_files = collect_python_files(target_path)
```
Scans the target directory for eligible Python files.

### 2. Documentation Generation
For each Python file:
- Reads source code
- Sends to Claude AI with documentation prompt
- Generates Markdown documentation
- Saves to `docs/` directory with timestamp header

### 3. Navigation Update
- Preserves existing navigation items
- Removes old AutoDocs section
- Adds new AutoDocs with generated files
- Updates `mkdocs.yml`

## Usage

### Basic Usage
```bash
python autodoc.py
```
Processes Python files in current directory.

### Specify Target Directory
```bash
python autodoc.py /path/to/project
```
Processes Python files in specified directory.

## Output Structure

### Generated Files
```
docs/
‚îú‚îÄ‚îÄ index.md (created if missing)
‚îú‚îÄ‚îÄ module_name_py.md
‚îú‚îÄ‚îÄ utils_helpers_py.md
‚îî‚îÄ‚îÄ ...
```

### MkDocs Configuration
The script generates a comprehensive `mkdocs.yml` with:
- Material theme configuration
- Advanced markdown extensions
- Search functionality
- Code highlighting and copying
- Navigation tabs and instant loading

## Error Handling

The script includes robust error handling:
- Continues processing if individual files fail
- Reports specific errors for debugging
- Gracefully handles missing configuration files
- Validates environment setup

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations
- **API Costs**: Each file generates an API call to Claude
- **File Filtering**: Currently excludes test files and `__init__.py`
- **Overwrite Behavior**: Regenerates all documentation on each run

### üîß Potential Improvements
- Add incremental updates based on file modification times
- Include configuration for custom file exclusion patterns
- Add support for different AI models or local processing
- Implement caching to reduce API calls

### üìã Prerequisites
1. Set up Anthropic API key in `.env` file
2. Install required packages: `anthropic`, `python-dotenv`, `PyYAML`
3. Ensure proper directory structure for MkDocs

### üöÄ Best Practices
- Run after significant code changes
- Review generated documentation for accuracy
- Customize MkDocs theme as needed
- Consider CI/CD integration for automatic updates