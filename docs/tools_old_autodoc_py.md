<!-- Auto-generated by Claude on 2025-06-23 01:50 -->

# autodoc.py

<!-- Auto-generated by Claude on 2024-XX-XX XX:XX -->

## Overview

**autodoc.py** is an automated documentation generator that scans Python source files in a project and creates comprehensive Markdown documentation using the Claude AI API. It integrates seamlessly with MkDocs by automatically updating the `mkdocs.yml` configuration file to include the generated documentation.

## Purpose

This script automates the tedious process of writing technical documentation by:
- Scanning Python files in a project directory
- Generating detailed Markdown documentation using AI
- Organizing the documentation in a `docs/` directory
- Automatically updating MkDocs configuration for easy deployment

## Key Features

- **AI-Powered Documentation**: Uses Anthropic's Claude API to generate intelligent, contextual documentation
- **MkDocs Integration**: Automatically updates `mkdocs.yml` with generated documentation
- **Flexible Scanning**: Can target specific directories or scan entire projects
- **Material Theme Support**: Includes comprehensive Material Design theme configuration
- **Timestamp Tracking**: Adds generation timestamps to all documentation files

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file, returning a default configuration if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Advanced markdown extensions
- Search functionality
- Code highlighting and copying features

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (starting with `test_`)
- `__init__.py` files

## Configuration

### Required Environment Variables
- `ANTHROPIC_API_KEY`: Your Anthropic API key for Claude access
- `ANTHROPIC_MODEL` (optional): Claude model to use (defaults to "claude-sonnet-4-20250514")

### Dependencies
```python
import anthropic
from dotenv import load_dotenv
import yaml
```

## Usage

```bash
# Generate docs for current directory
python autodoc.py

# Generate docs for specific directory
python autodoc.py /path/to/project
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated documentation files
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each file generates an API call to Claude. Monitor usage for large projects.
2. **Rate Limits**: Consider adding delays between API calls for very large codebases.
3. **File Overwrites**: Generated documentation files are overwritten on each run.

### üîß Potential Improvements

1. **Caching**: Implement file change detection to avoid regenerating unchanged files
2. **Error Handling**: Add retry logic for API failures
3. **Configuration**: Make Claude prompt customizable via config file
4. **Parallel Processing**: Add concurrent processing for faster generation
5. **Selective Generation**: Add options to exclude specific files or directories

### üí° Best Practices

- Run this script as part of your CI/CD pipeline
- Keep your `ANTHROPIC_API_KEY` secure and use environment variables
- Review generated documentation before publishing
- Consider version controlling the generated docs for change tracking

## Error Handling

The script includes basic error handling that:
- Continues processing other files if one fails
- Prints clear error messages with file paths
- Exits gracefully if no Python files are found

## Integration

This tool works best when integrated into development workflows:
- **Pre-commit hooks**: Generate docs before commits
- **GitHub Actions**: Auto-update docs on pushes
- **Local development**: Quick documentation updates during coding