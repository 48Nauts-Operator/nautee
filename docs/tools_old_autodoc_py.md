<!-- Auto-generated by Claude on 2025-06-21 23:19 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 10:30 -->

## Overview

The `autodoc.py` script is an automated documentation generator that scans Python source files in a project and creates Markdown documentation using Claude AI. It integrates with MkDocs by automatically updating the `mkdocs.yml` configuration file with generated documentation links.

## Purpose

This tool automates the tedious process of writing documentation for Python projects by:

- Scanning directories for Python files
- Generating comprehensive Markdown documentation using AI
- Organizing documentation files in a `docs/` directory
- Automatically updating MkDocs navigation configuration
- Maintaining existing manual documentation alongside auto-generated content

## Key Features

### ü§ñ AI-Powered Documentation Generation
- Uses Anthropic's Claude API to analyze Python source code
- Generates detailed explanations of file purposes, functions, and classes
- Provides suggestions and notes for code improvement

### üìÅ Automated File Management
- Creates structured documentation in `docs/` directory
- Generates unique filenames using snake_case conversion
- Preserves existing documentation while adding new auto-generated content

### üß≠ MkDocs Integration
- Automatically updates `mkdocs.yml` configuration
- Maintains static navigation items
- Adds new documentation under "AutoDocs" section

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to documentation-friendly filenames.
```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure with Material theme.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration including:
- Material theme with dark/light mode toggle
- Enhanced markdown extensions
- Search and navigation features
- Code highlighting and copying capabilities

### `collect_python_files(base: str)`
Recursively scans directories for Python files, excluding:
- Test files (`test_*.py`)
- `__init__.py` files
- Non-Python files

## Configuration Requirements

### Environment Variables
- `ANTHROPIC_API_KEY`: Required API key for Claude integration
- `ANTHROPIC_MODEL`: Optional model specification (defaults to "claude-sonnet-4-20250514")

### Dependencies
```python
import anthropic
from dotenv import load_dotenv
import yaml
```

## Usage

### Basic Usage
```bash
python autodoc.py                    # Document current directory
python autodoc.py /path/to/project   # Document specific directory
```

### Output Structure
```
docs/
‚îú‚îÄ‚îÄ index.md                        # Auto-generated if missing
‚îú‚îÄ‚îÄ module_name_py.md              # Generated documentation
‚îú‚îÄ‚îÄ utils_helper_py.md             # Generated documentation
‚îî‚îÄ‚îÄ ...
mkdocs.yml                         # Updated configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **API Costs**: Each file generates an API call to Claude - monitor usage for large projects
2. **File Overwrites**: Generated documentation files are overwritten on each run
3. **Manual Documentation**: Static nav items are preserved, allowing mixed manual/auto documentation

### üîß Potential Improvements

1. **Caching**: Implement file change detection to avoid regenerating unchanged files
2. **Batch Processing**: Group multiple files in single API calls to reduce costs
3. **Error Handling**: Add retry logic for API failures
4. **Configuration**: Make AI model and prompt customizable via config file
5. **Filtering**: Add options to exclude specific directories or file patterns

### üí° Best Practices

- Run this script as part of your CI/CD pipeline for up-to-date documentation
- Review generated documentation for accuracy before publishing
- Maintain a `.env` file with your API credentials (never commit this!)
- Consider rate limiting for projects with many files

## Error Handling

The script includes basic error handling that:
- Continues processing other files if one fails
- Prints clear error messages with file paths
- Exits gracefully if no Python files are found
- Creates necessary directories automatically

This tool significantly reduces the documentation burden for Python projects while maintaining professional documentation standards through AI assistance.