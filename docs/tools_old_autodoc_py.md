<!-- Auto-generated by Claude on 2025-06-01 14:17 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-19 -->

## Overview

`autodoc.py` is an automated documentation generator that scans Python projects and creates comprehensive Markdown documentation using Anthropic's Claude AI. The tool integrates with MkDocs to provide a complete documentation pipeline.

## Purpose

This script automates the tedious process of writing technical documentation by:
- **Scanning** Python source files in a project
- **Generating** detailed Markdown documentation using Claude AI
- **Organizing** documentation files in a `docs/` directory
- **Updating** MkDocs configuration automatically

## Key Features

### 🔍 Intelligent File Discovery
- Recursively scans directories for Python files
- Filters out test files (`test_*.py`) and `__init__.py` files
- Processes only relevant source code files

### 🤖 AI-Powered Documentation
- Uses Anthropic's Claude API for natural language documentation
- Generates comprehensive explanations of code functionality
- Creates well-structured Markdown with proper formatting

### 📚 MkDocs Integration
- Automatically updates `mkdocs.yml` configuration
- Preserves existing navigation structure
- Adds generated docs under "AutoDocs" section

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to Markdown-safe filenames by replacing separators with underscores.

```python
# Example: "src/utils.py" → "src_utils_py.md"
```

### `load_mkdocs_config(path: str)`
Safely loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes a comprehensive MkDocs configuration with:
- Material theme with dark/light mode toggle
- Extended Markdown features
- Search functionality
- Code highlighting and copying

### `collect_python_files(base: str)`
Recursively discovers Python files while filtering out:
- Test files (`test_*.py`)
- Init files (`__init__.py`)
- Non-Python files

## Configuration

### Required Environment Variables
```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Command Line Usage
```bash
# Scan current directory
python autodoc.py

# Scan specific directory
python autodoc.py /path/to/your/project
```

## Output Structure

```
docs/
├── index.md                    # Auto-generated index (if missing)
├── filename_py.md             # Generated docs for each Python file
└── other_module_py.md
mkdocs.yml                     # Updated configuration
```

## MkDocs Theme Features

The generated configuration includes:
- **Material Design** theme with professional styling
- **Dark/Light mode** toggle
- **Code highlighting** with line numbers
- **Search functionality** with suggestions
- **Navigation enhancements** (tabs, instant loading)
- **Content features** (copy buttons, annotations)

## Error Handling

- ✅ Gracefully handles missing API keys
- ✅ Continues processing if individual files fail
- ✅ Creates directories as needed
- ✅ Preserves existing MkDocs configuration

## Notes and Suggestions

### 🔧 Setup Requirements
1. Install dependencies: `anthropic`, `python-dotenv`, `pyyaml`
2. Set up your Anthropic API key in `.env` file
3. Ensure MkDocs and material theme are installed for serving docs

### 💡 Best Practices
- Run this script as part of your CI/CD pipeline
- Review generated documentation before committing
- Keep your API key secure and never commit it to version control

### ⚠️ Limitations
- API calls cost money - be mindful of usage
- Generated content may need manual review for accuracy
- Large codebases will take time to process

### 🚀 Enhancement Ideas
- Add support for configuration files to exclude specific directories
- Implement caching to avoid re-processing unchanged files
- Add support for other AI providers beyond Anthropic
- Include automatic git commit of generated docs

## Example Output

The script provides detailed console output:
```
👁️ autodoc.py is executing from: /path/to/autodoc.py
📂 Found 5 Python files.

✅ Documented: src/main.py → src_main_py.md
✅ Documented: utils/helpers.py → utils_helpers_py.md
💾 Writing updated mkdocs.yml...
✅ mkdocs.yml updated with latest AutoDocs.
```

This tool significantly reduces the burden of maintaining up-to-date documentation while ensuring consistency and comprehensiveness across your Python project.