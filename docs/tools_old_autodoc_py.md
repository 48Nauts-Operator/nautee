<!-- Auto-generated by Claude on 2025-06-08 04:30 -->

# Autodoc Generator

## Overview

The `autodoc.py` file is an automated documentation generator that scans Python source files in a project, generates Markdown documentation using Claude AI, and integrates the documentation into a MkDocs site. It provides a streamlined way to maintain up-to-date documentation for Python codebases.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files using AI
- **MkDocs Integration**: Updates `mkdocs.yml` configuration to include generated documentation
- **Project Scanning**: Recursively finds and processes Python source files
- **Markdown Output**: Creates structured Markdown files in a `docs/` directory

## Key Features

- ‚úÖ AI-powered documentation generation using Claude
- ‚úÖ Automatic MkDocs configuration management
- ‚úÖ Recursive Python file discovery
- ‚úÖ Timestamp tracking for generated documentation
- ‚úÖ Material theme configuration for MkDocs

## Configuration

### Environment Variables

The script requires the following environment variables:

```bash
ANTHROPIC_API_KEY=your_claude_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, has default
```

### Command Line Usage

```bash
python autodoc.py [target_path]
```

- `target_path`: Directory to scan for Python files (defaults to current directory)

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to snake_case Markdown filenames by replacing path separators and dots with underscores.

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration from YAML file, returns default config if file doesn't exist.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Writes comprehensive MkDocs configuration with Material theme settings, extensions, and navigation structure.

### `collect_python_files(base: str)`
Recursively scans directory for Python files, excluding:
- Test files (`test_*.py`)
- `__init__.py` files

## Workflow

1. **Setup**: Load environment variables and initialize Claude client
2. **Discovery**: Scan target directory for Python source files
3. **Generation**: For each Python file:
   - Read source code
   - Send to Claude AI for documentation generation
   - Write Markdown output to `docs/` directory
4. **Integration**: Update `mkdocs.yml` with new documentation entries
5. **Index Creation**: Generate `index.md` if it doesn't exist

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation index
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for module_name.py
‚îú‚îÄ‚îÄ package_submodule_py.md    # Generated docs for package/submodule.py
‚îî‚îÄ‚îÄ ...
```

## MkDocs Configuration

The script generates a comprehensive MkDocs configuration with:

- **Material Theme**: Dark/light mode toggle, custom colors
- **Extensions**: Code highlighting, admonitions, search features
- **Plugins**: Search and mkdocstrings for API documentation
- **Navigation**: Combines existing nav with new "AutoDocs" section

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

- **API Costs**: Each file generates a Claude API request - monitor usage for large codebases
- **Rate Limits**: Consider adding delays between requests for large projects
- **File Overwrites**: Generated documentation files are overwritten on each run

### üîß Potential Improvements

- Add error handling for API rate limits
- Implement incremental updates (only process changed files)
- Add configuration file support for custom prompts
- Include dry-run mode for testing
- Add support for custom file exclusion patterns

### üí° Usage Tips

- Run regularly as part of CI/CD pipeline
- Review generated documentation for accuracy
- Customize the AI prompt for specific documentation styles
- Consider using version control to track documentation changes

### üöÄ Integration Example

```bash
# Generate docs and serve locally
python autodoc.py ./src
mkdocs serve
```

This tool significantly reduces the manual effort required to maintain technical documentation, making it easier to keep documentation synchronized with code changes.