<!-- Auto-generated by Claude on 2025-06-22 15:19 -->

# autodoc.py

## Overview

The `autodoc.py` script is an automated documentation generator that scans a Python project, analyzes source code files, and generates comprehensive Markdown documentation using Claude AI. It integrates seamlessly with MkDocs to create a structured documentation website.

## Purpose

This tool automates the tedious process of writing technical documentation by:
- **Scanning** Python source files in a project directory
- **Generating** detailed Markdown documentation using Claude AI
- **Organizing** documentation files in a `docs/` directory
- **Updating** MkDocs configuration automatically

## Key Features

### üîç **Automatic File Discovery**
- Recursively scans directories for Python files
- Filters out test files and `__init__.py` files
- Supports custom target paths via command-line arguments

### ü§ñ **AI-Powered Documentation**
- Uses Anthropic's Claude AI for intelligent code analysis
- Generates comprehensive explanations of functions, classes, and modules
- Provides usage suggestions and implementation notes

### üìÅ **Structured Output**
- Creates organized documentation in `docs/` directory
- Uses snake_case naming convention for file organization
- Automatically generates navigation structure for MkDocs

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to documentation-friendly naming format.
```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure with Material theme.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a comprehensive MkDocs configuration with:
- **Material theme** with dark/light mode toggle
- **Enhanced features** like navigation tabs, search, and code highlighting
- **Markdown extensions** for rich content formatting
- **Plugin configuration** including mkdocstrings for API documentation

### `collect_python_files(base: str)`
Recursively discovers Python source files while excluding:
- Test files (`test_*.py`)
- Package initialization files (`__init__.py`)

## Configuration

### Environment Variables
- `ANTHROPIC_API_KEY` - Required API key for Claude AI
- `ANTHROPIC_MODEL` - AI model selection (default: "claude-sonnet-4-20250514")

### Command Line Usage
```bash
# Document current directory
python autodoc.py

# Document specific path
python autodoc.py /path/to/project
```

## Dependencies

- `anthropic` - Claude AI API client
- `python-dotenv` - Environment variable management
- `pyyaml` - YAML configuration handling

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Auto-generated index page
‚îú‚îÄ‚îÄ module_name_py.md          # Generated documentation files
‚îî‚îÄ‚îÄ ...
mkdocs.yml                     # Updated MkDocs configuration
```

## Notes and Suggestions

### ‚ö†Ô∏è **Important Considerations**

- **API Costs**: Each file processed consumes Claude API tokens (up to 1500 tokens per file)
- **File Overwrites**: Documentation files are regenerated on each run
- **Rate Limits**: Consider API rate limits for large projects

### üí° **Best Practices**

- Run incrementally on smaller projects first
- Review generated documentation for accuracy
- Customize the AI prompt for project-specific needs
- Consider adding file filters for large codebases

### üîß **Potential Improvements**

- Add support for incremental updates (only changed files)
- Implement configuration file for custom prompts
- Add support for other documentation formats
- Include error handling for API failures

## Error Handling

The script includes basic error handling:
- Graceful handling of missing environment variables
- File I/O error reporting
- API communication error logging
- Continues processing other files if individual files fail

This tool is particularly valuable for maintaining up-to-date documentation in rapidly evolving Python projects, ensuring that code changes are automatically reflected in the documentation.